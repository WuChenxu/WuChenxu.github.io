<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>思维导图学习法</title>
      <link href="/2021/07/24/reading-notes-7-%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE%E5%AD%A6%E4%B9%A0%E6%B3%95/"/>
      <url>/2021/07/24/reading-notes-7-%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE%E5%AD%A6%E4%B9%A0%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>20130w2 思维导图学习法</p><a id="more"></a><h1 id="20130w2-思维导图学习法"><a href="#20130w2-思维导图学习法" class="headerlink" title="20130w2 思维导图学习法"></a>20130w2 思维导图学习法</h1><h2 id="什么是思维导图"><a href="#什么是思维导图" class="headerlink" title="什么是思维导图"></a>什么是思维导图</h2><p>1968年，东尼•博赞（Tony Buzan）发明了思维导图。思维导图，又叫心智导图，英文mind mapping，是表达发散性思维的、简单有效的、实用性很强的图形思维工具 。</p><h2 id="为什么思维导图是个好工具"><a href="#为什么思维导图是个好工具" class="headerlink" title="为什么思维导图是个好工具"></a>为什么思维导图是个好工具</h2><h3 id="学习是什么？"><a href="#学习是什么？" class="headerlink" title="学习是什么？"></a>学习是什么？</h3><p>学习的目的是为了学习知识，而不是记忆知识。学习是通过有限的例子找出规律，从而将规律（信息）压缩成知识，这样可以突破有限的例子推广到从未见过的情况。</p><h3 id="怎样学习？"><a href="#怎样学习？" class="headerlink" title="怎样学习？"></a>怎样学习？</h3><p>首先我们要明确知识的输入输出，然后不断通过例子来重塑大脑的链接，在这个过程中我们需要拆分知识来降低知识组合的维度。</p><h3 id="为什么思维导图有用？"><a href="#为什么思维导图有用？" class="headerlink" title="为什么思维导图有用？"></a>为什么思维导图有用？</h3><p>思维导图把关键词组合成树状或者网状的形式。</p><ol><li>关键词是对知识的压缩，通过关键词，去追问是它（关键词）是什么，它（关键词）的目的是什么，输入怎样映射到输出。</li><li>思维导图不是为了记住，而是通过思维导图来不断复习加深印象，重塑/加深大脑的链接，不断的复习中可能找到更好的关键词或者组织形式来描述知识。</li><li>对关键词（知识）的拆分。一般从输入到输出是有多个子知识的组合，如果不进行拆分，那么就需要指数量级的例子来学习到未拆分的知识；拆分之后，要学习的例子就变成线性量级，且一些子知识是已知的。重用已有知识，是快速掌握知识，构建知识网络的诀窍。（因为学习观里的观点可以映射到机器学习领域，由此想到深度学习网络越深表达力越丰富，也可以理解为一种拆分方式）</li><li>思维导图的关键词所表示的知识应该越独立越好，这样才能减少学习需要的例子数量。</li><li>思维导图应该时常验证更新，“学而时习之”。</li></ol><p>下面是根据学习观视频画的关于“思维导图学习法”的思维导图。</p><pre class="mermaid" style="text-align: center;">            graph LR            swdt[思维导图]swdt --- sycl[使用材料]swdt --- symd[使用目的]swdt --- sycj[使用场景]swdt --- syyz[使用原则]swdt --- sybz[使用步骤]swdt --- syjq[使用技巧]sycl --- sr[输入: 庞杂信息]sycl--- sc[输出: 知识网络]symd --- cfzs[拆分知识];cfzs --- zxsw[正向思维];cfzs --- nxsw[逆向思维]symd --- ejzs[二阶知识];ejzs --- tjxh[条件循环];ejzs --- blzh[并列组合]sycj --- dtxx[学习:深度学习好的本质]; dtxx --- xxmd[目的]---将大知识拆分成小知识组合; dtxx---dtxxyd[优点]; dtxxyd --- ysxxjs[压缩信息,节省笔记空间];dtxxyd---zscy[已掌握的知识可被复用,更少的例子来学习,快速构建知识网络]sycj --- dtyy[应用:分而治之具体操作]---目的---将任务需要的未知知识拆分已掌握的知识; dtyy---优点---可用更少的知识来解决问题,快速找到解决方案syyz --- zsdl[知识独立]syyz --- yzgx[验证更新]sybz --- sjlz[搜集例子]; sjlz ---tnfb[头脑风暴]; sjlz --- czzl[上网调查]sybz --- zwtw[自我提问];zwtw --- twyjzs[一阶知识]; zwtw --- twejzs[二阶知识]; twyjzs --- zwtwfl[分类]; twyjzs --- zwtwhg[回归]; twejzs --- zhgx[组合关系]; twejzs --- zxbz[执行步骤] --- xhsx[先后顺序]; zwtwfl ---zwtwhat[它是什么]; zwtwfl ---zwtwhy[为什么是]; zwtwhg ---zwtwmd[它的目的]; zwtwhg ---zwtwhow[如何达成]; zhgx --- tysm[它有什么]syjq --- gjsy[工具使用]---外框---视角,注意力;gjsy --- 联系 --- 跨层知识关系;gjsy --- 笔记 --- 知识描述;gjsy --- 概要 --- 显示描述syjq --- zsmm[知识命名]---定语名词; zsmm --- 动宾词语syjq --- sywq[使用误区]---记录所有信息; sywq --- 知识见不独立; sywq --- 记忆他人导图; sywq --- 从不验证更新; sywq --- 画无规律信息          </pre><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://www.jianshu.com/p/083b129153af" target="_blank" rel="noopener">三大高效学习方法之二：思维导图学习法</a></p><p>学习观05：思维导图原理：人生与高手之差</p>]]></content>
      
      
      <categories>
          
          <category> reading-notes </category>
          
          <category> learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> reading-notes </tag>
            
            <tag> learning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>认知盲维</title>
      <link href="/2021/07/06/%E8%AE%A4%E7%9F%A5%E7%9B%B2%E7%BB%B4/"/>
      <url>/2021/07/06/%E8%AE%A4%E7%9F%A5%E7%9B%B2%E7%BB%B4/</url>
      
        <content type="html"><![CDATA[<p>21028W2_概念卡 认知盲维</p><a id="more"></a><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p><strong>由于我们对某个维度缺乏意识，以至于在认知我们所处的这个世界时，会出现致命的认知误区，甚至我们都不知道自己的缺失何在。跟盲点的区别在于，盲点侧重某些点的缺失，盲维更强调某些维度，线面的缺失。</strong></p><h2 id="出处"><a href="#出处" class="headerlink" title="出处"></a>出处</h2><p>《费曼学习法》（尹红心 李伟）中提到：</p><p>“盲维”是我们没有看到的角落，也是我们未想到的地方。比如你走进一个陌生的房间，每次进去只能待1分钟。第1次进去时，你描绘房间30%的特征，里面是落地窗，厨房很整洁，有两张床，一张餐桌。但你没注意到是否有空调和洗衣机，以及沙发、餐桌和床的材质。第2次进去时，你注意到了电器和沙发，能说出它们的品牌、颜色等特征，但你没留意房间内有几个插座，卫生间的热水器和淋浴头是否好用，厨房的煤气管道是否安全可靠。直到第3次进去，你才掌握了这些信息。实际上，你的观察一定还存在很多盲点，只不过你暂时没有注意到。只有在里面住上几天，你才能完全地了解这个房间。</p><p>学习便类似于探索一个陌生的房间。盲维越大，你对知识的了解就越浅，在输出知识时你的表达力就越欠缺，听着也难以从你这里第一时间理解你所讲的内容。消除盲维的过程，正式我们对知识采取怀疑和深度探索的环节—怀疑那些令自己感到困惑的知识，探索哪些仍未搞清楚的知识，而且要主动地回顾和总结，反思和修正。</p><h2 id="启发"><a href="#启发" class="headerlink" title="启发"></a>启发</h2><ol><li>怎么减少盲维？要减少盲维的产生，要不停地探索，增加看问题的角度。看书学习是一种方式，看书里古往今来的牛人的观察世界的方式。输出知识一种探索的方式，跟厉害的人碰撞之后反弹回来才有所收获。</li><li>乔哈里视窗在人际沟通领域提供了一个工具，扩大开放区，减少盲目区，减少未知区。</li></ol><table><thead><tr><th></th><th>我知</th><th>我不知</th></tr></thead><tbody><tr><td>别人知</td><td>开放区（Open）</td><td>盲目区（Blind）</td></tr><tr><td>别人不知</td><td>隐秘区（Hidden）</td><td>未知区（Unknown）</td></tr></tbody></table><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol><li>《费曼学习法》（尹红心 李伟）</li><li><a href="https://www.163.com/dy/article/DJ0C57FR0516IOBE.html" target="_blank" rel="noopener">吴伯凡：为什么说“盲维”是认知升级的重要概念</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> leranning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> learnning </tag>
            
            <tag> concept </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>费曼学习法：人的深度学习</title>
      <link href="/2021/07/06/reading-notes-6-%E8%B4%B9%E6%9B%BC%E5%AD%A6%E4%B9%A0%E6%B3%95/"/>
      <url>/2021/07/06/reading-notes-6-%E8%B4%B9%E6%9B%BC%E5%AD%A6%E4%B9%A0%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>21028w1_读书卡: 费曼学习法：人的深度学习</p><a id="more"></a><h2 id="费曼学习法"><a href="#费曼学习法" class="headerlink" title="费曼学习法"></a>费曼学习法</h2><h3 id="要解决的问题"><a href="#要解决的问题" class="headerlink" title="要解决的问题"></a>要解决的问题</h3><p>付出了学习的过程（每天看各种书，听各种讲座，视频，买课，刷知乎），存储了知识，提升了知识量，但是没有提升学习力，提升思维方式，并不能真正理解应用这些知识。在信息化，碎片化，且日益焦虑的今天，问题更加严重。</p><h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p>费曼学习法：学习知识时，站在传授者的立场，假设自己要向别人讲解这门知识。</p><p>这是既是思维方式和学习的最终目的，又是实操的方法。其他的所有细枝末节都是从上面这一句话引申出来的。</p><p>学习的最终目的是：</p><ul><li>提高学习的能力。</li><li>能够运用学到知识，解释，理解，预测问题，融入自己的知识体系。</li></ul><h2 id="思维导图"><a href="#思维导图" class="headerlink" title="思维导图"></a>思维导图</h2><p>按照本书的结构</p><pre class="mermaid" style="text-align: center;">            graph LR            A[费曼学习法]-->A0[学习的本质] A0--学习力是核心竞争力--> A00[学习力 > 理解知识 > 记住知识]A00--> A000[学习的目的不是为了收集知识, 改变将来的命运. 而是专注将知识与当下场景紧密结合]A00-->A001[远见 洞见 智慧]A00-->A002[思维方式+理解运用 而不是知识量的存储]A00-->A004[读懂未来]A-->A1[确立要学习的目标] --产生专注力--> A11[主动学习:以输出为载体的有选择输入]A1 -->A12[开放性思维/批判性思维/逻辑性思维/表达力]A1 -->A13[聚焦目标, 兴趣]A1 -->A14[规划: SMART]A-->A2[理解要学习的知识]-->A21[系统化地存优去劣]A21 --> A211[系统: 归纳-筛选-归纳]A21 --> A212[水平: 归类对比]A21 --> A213[发散: 思维导图]A21 --> A214[收敛: 知识结构]A-->A3[输出] --输出是最强大的学习力--> A31[以教代学]A31-->A311[简单的解释让菜鸟听懂]A31-->A312[例子: 让小孩讲一遍白天上课的内容/制作教学视频/富兰克林重写报纸文章]A31-->A313[输出倒逼输入]A31-->A314[场景和思维模拟/分组讨论反馈]A-->A4[回顾和反思] --> A41[深度分析-转化知识]A41 --> A411[怀疑和探索-减少盲维-好奇心]A41 --> A412[寻找反证-尽信书不如无书]A41 --> A413[加大内容留存率]A-->A5[简化和吸收] --通过简化吸收形成自己的知识体系--> A51[内化知识]A51 --> A511[系统性深挖-需要/重要/核心]A51 --> A512[形成知识体系-简化-只学最核心的-原创观点]          </pre><h2 id="摘要-启发"><a href="#摘要-启发" class="headerlink" title="摘要/启发"></a>摘要/启发</h2><ol><li><p>知识的本质是人生的进步与成长，是我们与环境的融合并产生新认知的过程。从根本上说，知识是我们对世界的理解，并以此获取的改造世界的能力。—费曼。 </p></li><li><p>从神经科学的角度，理解输出的作用：输出越多，大脑对陌生事物的联想越丰富，从而将新的概念插入到旧体系中。这让我想起了“赫布理论”（Donald Hebb）：fire together wire togethe. （一起被激发的神经元会被捆扎在一起）从这个角度理解，输出可以更好地改变我们大脑的连接方式，形成长时记忆和联想。</p></li><li><p>场景和思维模拟</p><ol><li>不需要真实的听众，在脑海中设想你在向一群人介绍一门知识，想象一下你自己会怎么介绍，顺畅吗？卡壳吗？听众会有什么反应，会欣然接收，会质疑？</li><li>这是一种思维训练，可以检验输出的效果</li><li>这是一种记忆的方式，让记忆有一个落脚地，落脚点是脑海中设计的这个场景。（这里有一个双重编码理论：文字信息会被处理为“意码”，抽象理解；非文字信息的处理以“形码”为主，图像理解。）</li></ol></li><li><p>“输出”倒逼“输入”：1. 从“输出”的角度，能够更好的明确学习的目标，避免盲目。 2. 如果输出过程中卡壳，从“输出”来确定需要哪些“输入”，系统地寻找学习资料的来源 </p></li><li><p>三次复述：</p><p>第一次复述，把自己当作倾听者。</p><p>第二次复述，是进入一个真实的传授知识的场景，向别人甚至多个人阐述你对某项知识的看法。</p><p>第三次复述，最终的目的就是为了检验我们对知识的创造能力，形成我们自己在这方面的影响力。</p></li><li><p>关于“好奇心”“兴趣”“热情”</p><p>在学习中，经验决定下限，好奇心决定上限。</p><p>兴趣是我们最好的老师。开展复述时一定要贴近自己的兴趣，围绕自己的爱好。你必须基于自己的兴趣去开发学习的能力，创造有影响力的知识。</p><p>“热情”是造成学生的学习结果最大差异的因素。</p><p>好奇心，兴趣和热情应该是相辅相成，相得益彰的：有好奇心，培养成了兴趣，进而有了热情；热情使得学习更加投入，产出更多，兴趣更加稳固，更大的好奇心去探索。</p></li><li><p>名字背后的意义</p><p>在1997年出版的《别闹了，费曼先生》（Surely You’re Joking，Mr. Feynman!）一书中，费曼提到了自己的父亲告诉他的一个道理：“当你看到一只鸟时，即便你知道它的名字，对它也仍然一无所知。因为你只是知道了人类赋予它的名字，仅此而已。至于它在夏天横跨整个国家并飞行上万英里时是怎样辨别方向的，没有人知道是怎么回事。”他的意思是，很多真正的知识往往藏在表象的背后，需要你做出解释。如果你能向人们解释明白一只鸟如何掌握飞行的方向，才说明你真正了解了这只鸟，否则不过是人云亦云。</p></li><li><p>主动的学习远比被动的学习重要；系统的学习远比碎片式的学习重要；向内的学习远比向外的学习重要；专业的学习远比跨界的学习重要。</p></li><li><p>all in all: 利用各种机会开始输出吧：写作，写卡，给别人讲解，给其他人培训，与他人讨论。。。 在输出的过程中，检验学到的知识是否变成了自己的一部分。不要指望知识速成，欲速则不达。good things take time。</p></li></ol><p>出处：尹红心 李伟 《费曼学习法》 2021年03月 江苏凤凰出版社</p>]]></content>
      
      
      <categories>
          
          <category> reading-notes </category>
          
          <category> learnning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> reading-notes </tag>
            
            <tag> learnning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>深度学习模型拟合的关键问题</title>
      <link href="/2021/07/03/deep-learnning-key-tasks/"/>
      <url>/2021/07/03/deep-learnning-key-tasks/</url>
      
        <content type="html"><![CDATA[<p>21027w3_摘要卡 深度学习模型拟合的关键问题</p><a id="more"></a><h2 id="摘要"><a href="#摘要" class="headerlink" title="摘要"></a>摘要</h2><p>在深度学习中，我们“训练”模型，不断更新它们，使它们在看到越来越多的数据时变得越来越好。</p><p>通常情况下，变得更好意味着最小化一个 <em>损失函数</em>（loss function），即一个衡量“我们的模型有多糟糕”这个问题的分数。</p><p>最终，我们真正关心的是生成一个能够在我们从未见过的数据上表现良好的模型。但我们只能将模型与我们实际能看到的数据相拟合。</p><p>因此，我们可以将拟合模型的任务分解为两个关键问题：</p><p>（1）<em>优化</em>（optimization）：用模型拟合观测数据的过程；</p><p>（2）<em>泛化</em>（generalization）：数学原理和实践者的智慧，能够指导我们生成出有效性超出用于训练的数据集本身的模型。</p><h2 id="启发"><a href="#启发" class="headerlink" title="启发"></a>启发</h2><p>区别于传统的基于规则（演绎法）的解决问题方式，深度学习将问题转化为一个归纳问题（优化），不是通过规则直接计算全局最优解，而是通过数据驱动的方式去逼近一个局部最优解。</p><p>这个事能成立，我想这里隐含了几个假设：</p><ol><li>为了覆盖更多的情况，数据要能覆盖要足够多的情况</li><li>观测数据的属性/分布要与真实世界的类似（比如不同设备采集出来的数据属性可能不一致）</li><li>实践者的智慧是不是意味着：泛化问题是一个实验试错的过程，没法完全解释为什么能work，所谓“炼丹”是也。</li></ol><p>最终的结局，我想要根据实际要解决的问题：</p><ol><li><p>问题不是很复杂：有足够的数据，通过拟合已经可以很好地解决问题，比如基于图像的分类/物体检测等。</p></li><li><p>问题很复杂：没有足够的数据，或者无法采集足够的数据，永远在优化的路上，比如L4/5自动驾驶。</p></li></ol><p>有没有可能：深挖拟合/归纳（bottom-up）发现的规律，从而可以通过演绎法（top-down）来指导解决问题，或者是演绎跟归纳法的结合。</p><p>出处：李沐 <a href="https://zh-v2.d2l.ai/chapter_preliminaries/calculus.html" target="_blank" rel="noopener">《动手学深度学习》2.4.微分</a></p>]]></content>
      
      
      <categories>
          
          <category> deep learnning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> deep learnning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>诗歌 翻译 卿为朝朝暮暮</title>
      <link href="/2021/07/02/a-chinese-english-poem/"/>
      <url>/2021/07/02/a-chinese-english-poem/</url>
      
        <content type="html"><![CDATA[<a id="more"></a><h2 id="诗歌"><a href="#诗歌" class="headerlink" title="诗歌"></a>诗歌</h2><p><strong>I love three things in this world.</strong></p><p><strong>Sun, Mood and you.</strong></p><p><strong>Sun for morning, Moon for night,</strong></p><p><strong>and you forever.</strong></p><p><strong>浮世三千，吾爱有三。</strong></p><p><strong>日，月与卿。</strong></p><p><strong>日为朝，月为暮，</strong></p><p><strong>卿为朝朝暮暮。</strong></p><p>出处：最早见于赵立坚的推特，后查阅资料，找不到中英文的原作者（《暮光之城》《飞鸟集》说法都不对），很可能是先有中文后有英文。</p>]]></content>
      
      
      <categories>
          
          <category> poem </category>
          
      </categories>
      
      
        <tags>
            
            <tag> peom </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何快速阅读和整理文献</title>
      <link href="/2021/06/29/how-to-read-and-summarize-literature/"/>
      <url>/2021/06/29/how-to-read-and-summarize-literature/</url>
      
        <content type="html"><![CDATA[<p>转自李沐的B站视频</p><a id="more"></a><h2 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h2><ul><li>学生时代： 对最重要的研究方向了如指掌，精读，复现。</li><li>工作之后：对5-10个感兴趣的研究方向，了解最新的进展，思考团队的研究方向。</li></ul><h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><p>概括：一个领域里的论文及思考笔记放在一个markdown文件里</p><p>原因：markdown简单，便捷，软件支持性不错，支持latex（公式），插图， 容易搜索</p><p>Tool: iPad, 1writer, typora, dropbox(多设备同步)</p><p>tips：自动检测被修改markdown文件，自动根据URL更新下载论文，并更新信息（<a href="https://github.com/WilmerWang/autoLiterature" target="_blank" rel="noopener">autoLiterature</a>）</p><p>表现形式：</p><ol><li>列表形式</li></ol><ul><li>领域x<ul><li>论文X标题，作者，发表的地方，年份，引用次数，链接<ul><li>笔记：重要的图，公式</li></ul></li></ul></li></ul><img src="/2021/06/29/how-to-read-and-summarize-literature/21027w1_%E5%A6%82%E4%BD%95%E5%BF%AB%E9%80%9F%E9%98%85%E8%AF%BB%E5%92%8C%E6%95%B4%E7%90%86%E6%96%87%E7%8C%AE_paper_list.png" class=""><ol><li><p>图形式</p><p>使用 mermaid 来生成关系图</p></li></ol><pre class="mermaid" style="text-align: center;">            graph TB            LeNet --deepper/bigger --> AlexNet --1x1 conv-->NiN --inception:split-transform-merge--> GoogLeNet --batch Normalization--> BN-Inception --updated inception, label smooth--> InceptionV3 --residual connection --> InceptionV4  AlexNet -- 3x3 conv --> VGG -- 1x1 conv bottleneck --> SqueezeNetVGG -- residual --> ResNet -- + concat -->DenseNetResNet -- group conv --> ResNeXt -- shuffle channels among groups --> ShuffleNetInceptionV3 -- inception to depthwise seperate seperate conv --> XceptionResNet -- squeeze-exicte --> SENetclick LeNet "https://www.researchgate.net/publication/2985446_Gradient-Based_Learning_Applied_to_Document_Recognition"click AlexNet "http://papers.nips.cc/paper/4824-imagenet-classification-with-deep-convolutional-neural-networks.pdf"          </pre><p>出处：<a href="https://www.bilibili.com/video/BV1nA41157y4?from=search&seid=11438292823914068006" target="_blank" rel="noopener">李沐：我是如何快速阅读和整理文献</a></p>]]></content>
      
      
      <categories>
          
          <category> literature </category>
          
          <category> learnning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> learnning </tag>
            
            <tag> literature </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Call C Library From Python</title>
      <link href="/2021/03/28/Call-C-Library-From-Python/"/>
      <url>/2021/03/28/Call-C-Library-From-Python/</url>
      
        <content type="html"><![CDATA[<p>混合编程之 Python调用C</p><a id="more"></a><h1 id="为什么"><a href="#为什么" class="headerlink" title="为什么"></a>为什么</h1><p>混合编程可以充分发挥不同编程语言的优势：<br>C语言速度优势<br>python编写简单，很多现成的轮子</p><h1 id="怎么做"><a href="#怎么做" class="headerlink" title="怎么做"></a>怎么做</h1><h2 id="ctypes"><a href="#ctypes" class="headerlink" title="ctypes"></a>ctypes</h2><h3 id="把C编译成动态库"><a href="#把C编译成动态库" class="headerlink" title="把C编译成动态库"></a>把C编译成动态库</h3><h4 id="from-file"><a href="#from-file" class="headerlink" title="from file"></a>from file</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc c_func.c -shared -o c_func_dy.so</span><br></pre></td></tr></table></figure><h4 id="from-static-library"><a href="#from-static-library" class="headerlink" title="from static library"></a>from static library</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 先将静态库解出obj文件</span></span><br><span class="line"><span class="variable">$ar</span> -x mylib.a</span><br><span class="line"> <span class="comment"># 再用gcc 将obj文件，编译成动态库</span></span><br><span class="line"><span class="variable">$gcc</span> -shared -fPIC *.o -o mylib.so</span><br></pre></td></tr></table></figure><h3 id="在python文件中导入头文件"><a href="#在python文件中导入头文件" class="headerlink" title="在python文件中导入头文件"></a>在python文件中导入头文件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> ctypes <span class="keyword">import</span> *</span><br></pre></td></tr></table></figure><h3 id="在python中引入c动态库-并用变量接收动态库的引用"><a href="#在python中引入c动态库-并用变量接收动态库的引用" class="headerlink" title="在python中引入c动态库,并用变量接收动态库的引用"></a>在python中引入c动态库,并用变量接收动态库的引用</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lib_ref = cdll.LodaLibrary(<span class="string">"./c_dll.so"</span>)</span><br></pre></td></tr></table></figure><h3 id="调用动态库方法"><a href="#调用动态库方法" class="headerlink" title="调用动态库方法"></a>调用动态库方法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dynamic_lib_reference.function_in_lib(arguments)</span><br></pre></td></tr></table></figure><p>eg.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lib_ref.my_add(num)</span><br></pre></td></tr></table></figure><h3 id="example"><a href="#example" class="headerlink" title="example"></a>example</h3><p><a href="https://github.com/WuChenxu/Python/blob/master/03_load_lib/call_c_func.py" target="_blank" rel="noopener">python call C example code</a></p><p>reference:</p><ol><li><a href="https://realpython.com/python-bindings-overview/#python-bindings-overview" target="_blank" rel="noopener">Python Bindings: Calling C or C++ From Python</a></li><li><a href="https://blog.csdn.net/xiangguiwang/article/details/81939237" target="_blank" rel="noopener">-fpic 与-fPIC的区别</a></li><li><a href="http://blog.sina.com.cn/s/blog_7243284f01012qqh.html" target="_blank" rel="noopener">Linux下Gcc生成和使用静态库和动态库详解</a></li><li><a href="https://blog.csdn.net/qq_38923792/article/details/95210227" target="_blank" rel="noopener">python3调用C语言代码</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> C </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>The Clean Coder by Robert C. Martin</title>
      <link href="/2019/10/07/reading-notes-5-The-Clean-Coder/"/>
      <url>/2019/10/07/reading-notes-5-The-Clean-Coder/</url>
      
        <content type="html"><![CDATA[<img src="/2019/10/07/reading-notes-5-The-Clean-Coder/clean_coder_cover.jpg" class=""><a id="more"></a><img src="/2019/10/07/reading-notes-5-The-Clean-Coder/Clean_Coder.png" class="">]]></content>
      
      
      <categories>
          
          <category> reading-notes </category>
          
      </categories>
      
      
        <tags>
            
            <tag> reading-notes </tag>
            
            <tag> coder </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Head Frist 设计模式 by Freeman E.</title>
      <link href="/2019/05/02/reading-notes-4-Head-First-Design-Pattern/"/>
      <url>/2019/05/02/reading-notes-4-Head-First-Design-Pattern/</url>
      
        <content type="html"><![CDATA[<img src="/2019/05/02/reading-notes-4-Head-First-Design-Pattern/HFDP.jpg" class=""><a id="more"></a><h1 id="Head-First-Design-Patterns"><a href="#Head-First-Design-Patterns" class="headerlink" title="Head First Design Patterns"></a>Head First Design Patterns</h1><h2 id="Head-Frist学习原则"><a href="#Head-Frist学习原则" class="headerlink" title="Head Frist学习原则"></a>Head Frist学习原则</h2><ol><li>慢一点，你理解的越多，需要记的就越少。</li><li>勤做练习，自己记笔记。</li><li>There are no dumb Questions。</li><li>上床睡觉之前不要再看别的书了，或者至少不再看其他有难度的东西。</li><li>要喝水，而且要多喝水。</li><li>大声说出来。</li><li>听听你大脑怎么说。</li><li>要有点感觉！</li><li>设计一些东西！</li></ol><h2 id="为什么需要设计模式"><a href="#为什么需要设计模式" class="headerlink" title="为什么需要设计模式"></a>为什么需要设计模式</h2><ol><li>知道OO基础，并不足以让你设计出良好的OO系统。</li><li>良好的OO设计必须具备可复用、可扩展、可维护三个特性。</li><li>模式可以让我们建造出具有良好OO设计质量的系统。</li><li>模式被认为是经过验证的OO设计经验。</li><li>模式不是代码，而是针对设计问题的通用解决方案。你可以把它们应用到特定的应用中。</li><li>模式不是被发明，而是被发现。</li><li>大多数的模式和原则着眼于软件变化的主题。</li><li>大多数的模式都允许系统局部变化独立于其他部分。</li><li>我们常把系统中变化的部分抽出来封装。</li><li>模式让开发人员之间有共享的语言，能够最大化沟通的价值。</li></ol><h1 id="OO基础"><a href="#OO基础" class="headerlink" title="OO基础"></a>OO基础</h1><ol><li>抽象（Abstract）</li><li>封装（Encapsulate）</li><li>多态（Polymorphic）</li><li>继承（Inheritance）</li></ol><h1 id="OO设计原则"><a href="#OO设计原则" class="headerlink" title="OO设计原则"></a>OO设计原则</h1><h2 id="高内聚，低耦合"><a href="#高内聚，低耦合" class="headerlink" title="高内聚，低耦合"></a>高内聚，低耦合</h2><blockquote><p>High cohesion, low coupling.<br>这是最基本的设计原则，其他原则可以认为是该原则的外延。</p></blockquote><h2 id="单一职责原则（Single-Responsibility-Priciple）"><a href="#单一职责原则（Single-Responsibility-Priciple）" class="headerlink" title="单一职责原则（Single Responsibility Priciple）"></a>单一职责原则（<strong>S</strong>ingle <strong>R</strong>esponsibility <strong>P</strong>riciple）</h2><blockquote><p>一个类应该只有一个职责。一个类应该只有一个引起变化的原因。</p></blockquote><h2 id="开闭原则（Open-Closed-Priciple）"><a href="#开闭原则（Open-Closed-Priciple）" class="headerlink" title="开闭原则（Open/Closed Priciple）"></a>开闭原则（<strong>O</strong>pen/<strong>C</strong>losed <strong>P</strong>riciple）</h2><blockquote><p>类应该对扩展开放，对修改关闭。Open to extension and closed to modifcaiton.</p></blockquote><p>遵循开放-关闭原则通常会引入新的抽象层次，增加代码的复杂度。我们要把注意力几种在设计中最有可能改变的地方来应用开闭原则。</p><h2 id="里氏代换原则（Liskov-Substitution-Priciple）"><a href="#里氏代换原则（Liskov-Substitution-Priciple）" class="headerlink" title="里氏代换原则（Liskov Substitution Priciple）"></a>里氏代换原则（<strong>L</strong>iskov <strong>S</strong>ubstitution <strong>P</strong>riciple）</h2><blockquote><p>一个可以接受基类对象的地方必然可以接受一个子类对象。</p></blockquote><h2 id="接口隔离原则（Interface-Segregation-Priciple）"><a href="#接口隔离原则（Interface-Segregation-Priciple）" class="headerlink" title="接口隔离原则（Interface Segregation Priciple）"></a>接口隔离原则（<strong>I</strong>nterface <strong>S</strong>egregation <strong>P</strong>riciple）</h2><blockquote><p>使用多个专门接口来取代一个统一的接口。</p></blockquote><h2 id="依赖倒置原则（Dependence-Inversion-Principle）"><a href="#依赖倒置原则（Dependence-Inversion-Principle）" class="headerlink" title="依赖倒置原则（Dependence Inversion Principle）"></a>依赖倒置原则（<strong>D</strong>ependence <strong>I</strong>nversion <strong>P</strong>rinciple）</h2><blockquote><p>要依赖抽象，不要依赖具体类。</p></blockquote><h2 id="针对接口编程，不针对实现编程（Program-to-interface，-not-an-implementation）"><a href="#针对接口编程，不针对实现编程（Program-to-interface，-not-an-implementation）" class="headerlink" title="针对接口编程，不针对实现编程（Program to interface， not an implementation）"></a>针对接口编程，不针对实现编程（Program to interface， not an implementation）</h2><h2 id="封装变化（Encapsulate-what-varies）"><a href="#封装变化（Encapsulate-what-varies）" class="headerlink" title="封装变化（Encapsulate what varies）"></a>封装变化（Encapsulate what varies）</h2><h2 id="合成复用原则（Composite-Reuse-Principle）"><a href="#合成复用原则（Composite-Reuse-Principle）" class="headerlink" title="合成复用原则（Composite Reuse Principle）"></a>合成复用原则（<strong>C</strong>omposite <strong>R</strong>euse <strong>P</strong>rinciple）</h2><blockquote><p>多用组合，少用继承（Composition Favor over inheritance）</p></blockquote><h2 id="为交互对象之间的松耦合设计而努力（loose-coupling）"><a href="#为交互对象之间的松耦合设计而努力（loose-coupling）" class="headerlink" title="为交互对象之间的松耦合设计而努力（loose coupling）"></a>为交互对象之间的松耦合设计而努力（loose coupling）</h2><h2 id="最少知识原则（Least-Knowledge-Principle）"><a href="#最少知识原则（Least-Knowledge-Principle）" class="headerlink" title="最少知识原则（Least Knowledge Principle）"></a>最少知识原则（<strong>L</strong>east <strong>K</strong>nowledge <strong>P</strong>rinciple）</h2><p>又称为<code>迪米特法则（Law of Demeter）</code></p><blockquote><p>只和你的密友谈话。</p></blockquote><h2 id="好莱坞原则（Hollywood-Principle）"><a href="#好莱坞原则（Hollywood-Principle）" class="headerlink" title="好莱坞原则（Hollywood Principle）"></a>好莱坞原则（Hollywood Principle）</h2><blockquote><p>别调用我们，我们会调用你。（Dont’t call us, we will call you.）</p></blockquote><p>将决策权放在高层模块中，以便决定如何以及何时调用低层模块。</p><h1 id="与架构模式、框架、模块的对比"><a href="#与架构模式、框架、模块的对比" class="headerlink" title="与架构模式、框架、模块的对比"></a>与架构模式、框架、模块的对比</h1><p>参考<a href="https://wuchenxu.com/2017/05/05/reading-notes-2-practice-guide-for-frontline-architects/" target="_blank" rel="noopener">一线架构师实践指南</a><br>设计模式，相比架构模式应用面更狭窄，针对于特定场景；相比与框架活着模块，更抽象。框架、模块本身也会用到设计模式。</p><img src="/2019/05/02/reading-notes-4-Head-First-Design-Pattern/design-patten_framework_architecture_module.jpeg" class=""><h1 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h1><h2 id="策略模式"><a href="#策略模式" class="headerlink" title="策略模式"></a>策略模式</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><blockquote><p><strong><code>策略模式（Strategy Pattern）</code></strong>定义算法族，分别封装起来，让它们之间可以互相替换，此模式让算法的变化独立于使用算法的客户。</p></blockquote><ul><li><p><a href="#OO设计原则">设计原则</a>：多用组合，少用继承; 封装变化；针对接口编程，不针对实现编程。</p></li><li><p><code>IS-A</code>：继承 ； <code>HAS-A/Implements</code>：组合</p></li><li><p>继承可以在垂直层次上共享代码，但是在水平层次上无能为力；而通过组合可以在水平层面上共享代码。</p></li></ul><h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><p><a href="https://github.com/WuChenxu/Ruby/tree/master/HeadFirstDesignPattern/StrategyPattern" target="_blank" rel="noopener">strategy pattern in ruby</a></p><h3 id="UML"><a href="#UML" class="headerlink" title="UML"></a>UML</h3><img src="/2019/05/02/reading-notes-4-Head-First-Design-Pattern/strategy_pattern.svg" class="" title="strategy pattern UML"><h2 id="观察者模式"><a href="#观察者模式" class="headerlink" title="观察者模式"></a>观察者模式</h2><h3 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h3><blockquote><p><strong><code>观察者模式（Observer Pattern）</code></strong>在对象之间定义一对多依赖，当一个对象的状态改变时，它的所有依赖者都会收到通知并自动更新。</p></blockquote><ul><li><p><a href="#OO设计原则">设计原则</a> ：松耦合；好莱坞原则。</p></li><li><p><code>观察者</code>和<code>可观察者</code>（主题）之间用松耦合方式结合（loose coupling），<code>可观察者</code>不知道<code>观察者</code>的细节，只知道<code>观察者</code>实现了<code>观察者</code>接口。</p></li><li><p>使用观察者模式，可以从观察者处推（push）或者拉（pull）数据。</p></li><li><p>有多个观察者时，不可以依赖特定的通知次序。</p></li></ul><h3 id="实现-1"><a href="#实现-1" class="headerlink" title="实现"></a>实现</h3><p><a href="https://github.com/WuChenxu/Ruby/tree/master/HeadFirstDesignPattern/ObserverPattern" target="_blank" rel="noopener">observer pattern in ruby</a></p><h3 id="UML-1"><a href="#UML-1" class="headerlink" title="UML"></a>UML</h3><img src="/2019/05/02/reading-notes-4-Head-First-Design-Pattern/observer_pattern.svg" class="" title="observer pattern UML"><h3 id="常见场景"><a href="#常见场景" class="headerlink" title="常见场景"></a>常见场景</h3><p>GUI框架里的按键等组件，注册不同的观察者到组件的不同类型事件上（如按键按下）。</p><h2 id="装饰者模式"><a href="#装饰者模式" class="headerlink" title="装饰者模式"></a>装饰者模式</h2><h3 id="定义-2"><a href="#定义-2" class="headerlink" title="定义"></a>定义</h3><blockquote><p><strong><code>装饰者模式（Decorator/Wrapper Pattern）</code></strong>动态地将责任附加到对象上。若要扩展功能，装饰者提供了比继承更有弹性的替代方案。</p></blockquote><ul><li><a href="#OO设计原则">设计原则</a> ：类应对扩展开放，对修改关闭。</li><li>装饰者和被装饰者对象有相同的超类，这里利用继承来达到“类型匹配”，而不是用继承来获得“行为”。</li><li>可以用一个或多个装饰着包装一个对象。</li><li>装饰者可以在所委托被装饰者的行为之前与/或之后，加上自己的行为。</li><li>装饰者一般对组件的客户是透明的，除非客户程序依赖于组件的具体类型。</li><li>装饰者会导致设计中出现许多小对象，如果过度使用，会让程序变得很复杂。</li><li>装饰者将一个对象包装起来以增加新的行为和责任；<a href="#适配器模式">适配器</a>将一个对象包装起来以改变其接口；<a href="#外观模式">外观</a>将一群对象“包装”起来以简化接口。</li><li>Decorator <code>IS</code> a component, AND <code>HAS</code> a component.</li></ul><ul><li>相关模式：<a href="#适配器模式">适配器</a>,<a href="#外观模式">外观模式</a></li></ul><h3 id="实现-2"><a href="#实现-2" class="headerlink" title="实现"></a>实现</h3><p><a href="https://github.com/WuChenxu/Ruby/tree/master/HeadFirstDesignPattern/DecoratorPattern" target="_blank" rel="noopener">decorator pattern in ruby</a></p><img src="/2019/05/02/reading-notes-4-Head-First-Design-Pattern/decorator_pattern_example.jpg" class="" title="decorator pattern example"><h3 id="UML-2"><a href="#UML-2" class="headerlink" title="UML"></a>UML</h3><img src="/2019/05/02/reading-notes-4-Head-First-Design-Pattern/decorator_pattern.svg" class="" title="decorator pattern UML"><img src="/2019/05/02/reading-notes-4-Head-First-Design-Pattern/decorator_coffee.jpg" class="" title="call sequence"><h2 id="工厂方法模式"><a href="#工厂方法模式" class="headerlink" title="工厂方法模式"></a>工厂方法模式</h2><h3 id="定义-3"><a href="#定义-3" class="headerlink" title="定义"></a>定义</h3><blockquote><p><strong><code>工厂方法模式（Factory Method Pattern）</code></strong>定义了创建对象的接口，但由子类决定要实例化的类是哪一个。工厂方法让类把实例化推迟到子类。</p></blockquote><ul><li><a href="#OO设计原则">设计原则</a> ：要依赖抽象，不要依赖具体类；好莱坞原则。</li><li>所有的工厂都是用来封装对象的创建的。</li><li>工厂方法使用继承：把对象的创建委托给子类，子类实现工厂方法来创建对象；抽象工厂使用对象组合：对象的创建被实现在工厂接口所暴露出来的方法中。</li><li>所有的工厂模式都通过减少应用程序和具体类之间的依赖促进松耦合。</li><li>工厂方法允许类将实例化延迟到子类。</li><li>抽象工厂创建相关的对象家族，而不需要依赖它们的具体类。</li></ul><h3 id="实现-3"><a href="#实现-3" class="headerlink" title="实现"></a>实现</h3><p><a href="https://github.com/WuChenxu/Ruby/tree/master/HeadFirstDesignPattern/FactoryMethodPattern" target="_blank" rel="noopener">factory method pattern in ruby</a></p><h3 id="UML-3"><a href="#UML-3" class="headerlink" title="UML"></a>UML</h3><img src="/2019/05/02/reading-notes-4-Head-First-Design-Pattern/factory_method_pattern.svg" class="" title="factory method pattern UML"><h3 id="常见场景-1"><a href="#常见场景-1" class="headerlink" title="常见场景"></a>常见场景</h3><p>Game里在不同的级别创建地图<br>插件plugin</p><h2 id="抽象工厂模式"><a href="#抽象工厂模式" class="headerlink" title="抽象工厂模式"></a>抽象工厂模式</h2><h3 id="定义-4"><a href="#定义-4" class="headerlink" title="定义"></a>定义</h3><blockquote><p><strong><code>抽象工厂模式（Abstract Factory Pattern）</code></strong>提供了一个接口，用于创建相关或依赖对象的家族，而不需要明确指定具体类。</p></blockquote><p>与工厂方法模式的主要区别是，抽象共产模式可以创建不同产品类型的组合（只有特定的组合是有意义的）。</p><h3 id="实现-4"><a href="#实现-4" class="headerlink" title="实现"></a>实现</h3><h3 id="UML-4"><a href="#UML-4" class="headerlink" title="UML"></a>UML</h3><h3 id="常见场景-2"><a href="#常见场景-2" class="headerlink" title="常见场景"></a>常见场景</h3><p>不同platform（windows，macOS，linux）上的UI<br>不同的主题（黑底白字，白底黑字）</p><h2 id="单件模式"><a href="#单件模式" class="headerlink" title="单件模式"></a>单件模式</h2><h3 id="定义-5"><a href="#定义-5" class="headerlink" title="定义"></a>定义</h3><blockquote><p><strong><code>单件模式（Singleton Pattern）</code></strong>确保一个类只有一个实例，并提供一个全局访问点。</p></blockquote><ul><li>在JAVA中实现单件模式需要私有的构造器、一个静态方法和一个静态变量。</li><li>确定在性能和资源上的限制，然后小心地选择适当的方案来实现单件，以解决多线程问题（我们必须认定所有的程序都是多线程的）。</li></ul><h3 id="实现-5"><a href="#实现-5" class="headerlink" title="实现"></a>实现</h3><p><a href="https://github.com/WuChenxu/Ruby/tree/master/HeadFirstDesignPattern/SingletonPattern" target="_blank" rel="noopener">singleton pattern in ruby</a></p><h3 id="UML-5"><a href="#UML-5" class="headerlink" title="UML"></a>UML</h3><img src="/2019/05/02/reading-notes-4-Head-First-Design-Pattern/singleton_pattern.svg" class="" title="singleton pattern UML"><h3 id="常见场景-3"><a href="#常见场景-3" class="headerlink" title="常见场景"></a>常见场景</h3><p>共享资源管理，如线程池（thread pool）、缓存池（cache）、注册表设置（registry setting）。</p><h2 id="命令模式"><a href="#命令模式" class="headerlink" title="命令模式"></a>命令模式</h2><h3 id="定义-6"><a href="#定义-6" class="headerlink" title="定义"></a>定义</h3><blockquote><p><strong><code>命令模式（Command Pattern）</code></strong>将“请求”封装成对象，以便使用不同的请求、队列或者日志来参数化其他对象。命令模式也支持可撤销的操作。</p></blockquote><ul><li><a href="#OO设计原则">设计原则</a> ：松耦合。</li><li>在被解耦的两者之间是通过命令对象进行沟通的，命令对象封装了接受者和一个或一组动作。</li><li>调用者通过调用命令对象的execute()发出请求，这会使得接收者的动作被调用。</li><li>调用者可以接受命令当作参数，甚至在运行时动态地进行。</li><li>命令可以支持撤销，做法是实现一个undo()方法来回到execute()被执行前的状态。</li><li>宏命令是命令的一种简单的延伸，允许调用多个命令。宏方法也可以支持撤销。</li><li>实际操作时，很常见使用“聪明”命令对象，也就是直接实现了请求，而不是将工作委托给接收者。</li></ul><h3 id="实现-6"><a href="#实现-6" class="headerlink" title="实现"></a>实现</h3><h3 id="UML-6"><a href="#UML-6" class="headerlink" title="UML"></a>UML</h3><h3 id="常见场景-4"><a href="#常见场景-4" class="headerlink" title="常见场景"></a>常见场景</h3><p>队列请求（日程安排，线程池，工作队列等），日志请求，事务系统。</p><h2 id="适配器模式"><a href="#适配器模式" class="headerlink" title="适配器模式"></a>适配器模式</h2><h3 id="定义-7"><a href="#定义-7" class="headerlink" title="定义"></a>定义</h3><blockquote><p><strong><code>适配器模式（Adapter Pattern）</code></strong>将一个类的接口，转换成客户期望的另一个接口。适配器让原来接口不兼容的类可以合作无间。</p></blockquote><ul><li><p>当使用一个现有的类而其接口并不符合你的需求时，就使用适配器。</p></li><li><p>适配器改变接口以符合客户的期望。</p></li><li><p>实现一个适配器可能需要一番功夫，也可能不费功夫，视目标接口的大小与复杂度而定。</p></li><li><p>适配器有两种形式：对象适配器和类适配器。类适配器需要用到多重继承。</p></li><li><p>适配器将一个对象包装起来以改变其接口；<a href="#装饰者模式">装饰者</a>将一个对象包装起来以增加新的行为和责任；<a href="#外观模式">外观</a>将一群对象“包装”起来以简化接口。</p></li><li><p>相关模式：<a href="#外观模式">外观模式</a>，<a href="#装饰者模式">装饰者模式</a></p></li></ul><h3 id="实现-7"><a href="#实现-7" class="headerlink" title="实现"></a>实现</h3><h3 id="UML-7"><a href="#UML-7" class="headerlink" title="UML"></a>UML</h3><h3 id="常见场景-5"><a href="#常见场景-5" class="headerlink" title="常见场景"></a>常见场景</h3><h2 id="外观模式"><a href="#外观模式" class="headerlink" title="外观模式"></a>外观模式</h2><h3 id="定义-8"><a href="#定义-8" class="headerlink" title="定义"></a>定义</h3><blockquote><p><strong><code>外观模式（Facade Pattern）</code></strong>提供了一个统一的接口，用来访问子系统中的一群接口。外观定义了一个高层接口，让子系统更容易使用。</p></blockquote><ul><li><a href="#OO设计原则">设计原则</a> ：最少知识原则。</li><li>当需要简化并统一一个很大的接口或者一群复杂的接口时，使用外观。</li><li>外观将客户从一个复杂的子系统中解耦。</li><li>实现一个外观，需要将子系统组合进外观中，然后将工作委托给子系统执行。</li><li>外观将一群对象“包装”起来以简化接口；<a href="#适配器模式">适配器</a>将一个对象包装起来以改变其接口；<a href="#装饰者模式">装饰者</a>将一个对象包装起来以增加新的行为和责任；</li><li>相关模式：<a href="#适配器模式">适配器模式</a>，<a href="#装饰者模式">装饰者模式</a></li></ul><h3 id="实现-8"><a href="#实现-8" class="headerlink" title="实现"></a>实现</h3><h3 id="UML-8"><a href="#UML-8" class="headerlink" title="UML"></a>UML</h3><h3 id="常见场景-6"><a href="#常见场景-6" class="headerlink" title="常见场景"></a>常见场景</h3><h2 id="模板方法模式"><a href="#模板方法模式" class="headerlink" title="模板方法模式"></a>模板方法模式</h2><h3 id="定义-9"><a href="#定义-9" class="headerlink" title="定义"></a>定义</h3><blockquote><p><strong><code>模板方法模式（Template Method Pattern）</code></strong>在一个方法中定义了一个算法的骨架，而将一些步骤延迟到子类中。模板方法使得子类可以在不改变算法结构的情况下，重新定义算法中的某些步骤。</p></blockquote><ul><li><a href="#OO设计原则">设计原则</a> ：好莱坞原则。</li><li>模板方法是一种重要的代码复用技巧。</li><li>模板方法的抽象类可以定义具体方法、抽象方法和钩子。</li><li>钩子是一种方法，它在抽象类中不做事，活着只做默认的事情，子类可以选择要不要取覆盖它。</li><li><a href="#策略模式">策略模式</a>和模板方法模式都封装算法，一个用组合，一个用继承。</li><li><a href="#工厂方法模式">工厂方法</a>由子类决定实例化哪个类，是模板方法的一个特殊版本。</li><li>相关模式：<a href="#工厂方法模式">工厂方法</a>，<a href="#策略模式">策略模式</a></li></ul><h3 id="实现-9"><a href="#实现-9" class="headerlink" title="实现"></a>实现</h3><h3 id="UML-9"><a href="#UML-9" class="headerlink" title="UML"></a>UML</h3><h3 id="常见场景-7"><a href="#常见场景-7" class="headerlink" title="常见场景"></a>常见场景</h3><p>排序算法（CompareTo接口），Swing窗口，Applet</p><h2 id="外观模式-1"><a href="#外观模式-1" class="headerlink" title="外观模式"></a>外观模式</h2><h3 id="定义-10"><a href="#定义-10" class="headerlink" title="定义"></a>定义</h3><blockquote><p><strong><code>外观模式（Facade Pattern）</code></strong>提供了一个统一的接口，用来访问子系统中的一群接口。外观定义了一个高层接口，让子系统更容易使用。</p></blockquote><ul><li><a href="#OO设计原则">设计原则</a> ：最少知识原则。</li><li>当需要简化并统一一个很大的接口或者一群复杂的接口时，使用外观。</li><li>外观将客户从一个复杂的子系统中解耦。</li><li>实现一个外观，需要将子系统组合进外观中，然后将工作委托给子系统执行。</li><li>外观将一群对象“包装”起来以简化接口；<a href="#适配器模式">适配器</a>将一个对象包装起来以改变其接口；<a href="#装饰者模式">装饰者</a>将一个对象包装起来以增加新的行为和责任；</li><li>相关模式：<a href="#适配器模式">适配器模式</a>，<a href="#装饰者模式">装饰者模式</a></li></ul><h3 id="实现-10"><a href="#实现-10" class="headerlink" title="实现"></a>实现</h3><h3 id="UML-10"><a href="#UML-10" class="headerlink" title="UML"></a>UML</h3><h3 id="常见场景-8"><a href="#常见场景-8" class="headerlink" title="常见场景"></a>常见场景</h3><h2 id="迭代器模式"><a href="#迭代器模式" class="headerlink" title="迭代器模式"></a>迭代器模式</h2><h3 id="定义-11"><a href="#定义-11" class="headerlink" title="定义"></a>定义</h3><blockquote><p><strong><code>迭代器模式（Iterator Pattern）</code></strong>提供一种方法顺序访问一个聚合（aggregate）对象的各个元素，而又不暴露其内部的表示。</p></blockquote><ul><li><a href="#OO设计原则">设计原则</a> ：封装变化；单一职责。</li><li>迭代器将遍历聚合的工具封装进一个对象中。</li><li>当使用迭代器的时候，我们依赖聚合提供遍历。</li><li>把游走的任务放在迭代器上，而不是聚合上。这样简化了聚合的接口和实现，也让责任各得其所。</li><li>迭代器提供了一个通用的接口，让我们遍历聚合的项，当我们编码使用聚合的项时，就可以使用多态机制。</li><li>对迭代器而言，数据结构可以是有次序的，或者没有次序的，甚至数据可以重复的。除非某个集合的文件有特别说明，否则不可以对迭代器取出元素的大小顺序作假设。</li></ul><h3 id="实现-11"><a href="#实现-11" class="headerlink" title="实现"></a>实现</h3><h3 id="UML-11"><a href="#UML-11" class="headerlink" title="UML"></a>UML</h3><h3 id="常见场景-9"><a href="#常见场景-9" class="headerlink" title="常见场景"></a>常见场景</h3><p>排序算法（CompareTo接口），Swing窗口，Applet<br>Reference:</p><ol><li><a href="https://appliedstochastics.com/articles/hfdp_ruby_01.html" target="_blank" rel="noopener">strategy pattern in ruby</a></li><li><a href="http://www.cnblogs.com/zhaoyan001/p/6365064.html" target="_blank" rel="noopener">单例模式的八种写法比较</a></li><li><a href="https://thoughtbot.com/blog/evaluating-alternative-decorator-implementations-in" target="_blank" rel="noopener">Evaluating Alternative Decorator Implementations In Ruby</a></li><li><a href="https://www.bullmind.com/" target="_blank" rel="noopener">bullMind</a></li><li><a href="https://www.youtube.com/playlist?list=PLrhzvIcii6GNjpARdnO4ueTUAVR9eMBpc" target="_blank" rel="noopener">Design Patterns in Object Oriented Programming</a></li><li><a href="https://plantuml.com/zh/class-diagram" target="_blank" rel="noopener">plantuml</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> reading-notes </category>
          
      </categories>
      
      
        <tags>
            
            <tag> technical </tag>
            
            <tag> reading-notes </tag>
            
            <tag> ruby </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unix/Linux command(1):find 与 grep</title>
      <link href="/2018/12/31/Unix-Linux-cmd-1-find-grep/"/>
      <url>/2018/12/31/Unix-Linux-cmd-1-find-grep/</url>
      
        <content type="html"><![CDATA[<p>find - search for files in a directory hierarchy<br>grep, egrep, fgrep, zgrep, zegrep, zfgrep - print lines that match patterns</p><a id="more"></a><p>此文与<a href="https://wuchenxu.com/2016/03/30/windows-cmd-9-find-findstr/" target="_blank" rel="noopener">windows command(9):FIND FINDSTR</a>对照。</p><h1 id="查找字符串"><a href="#查找字符串" class="headerlink" title="查找字符串"></a>查找字符串</h1><p>windows中的<code>find/findstr</code>更改为<code>grep</code>即可，实现在单个文件中查找某个字符串。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$grep</span> <span class="string">"hello there"</span> hi.txt</span><br><span class="line">hello there</span><br></pre></td></tr></table></figure><h1 id="查找的字符串中有-quot"><a href="#查找的字符串中有-quot" class="headerlink" title="查找的字符串中有&quot;"></a>查找的字符串中有<code>&quot;</code></h1><p>由于<code>grep</code>的pattern是支持正则表达式regex的，所有只要用<code>\&quot;</code>转义<code>&quot;</code>即可。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$grep</span> <span class="string">"\"hello"</span> hi.txt</span><br><span class="line">h<span class="string">"hello"</span>h</span><br></pre></td></tr></table></figure><h1 id="多文件查找"><a href="#多文件查找" class="headerlink" title="多文件查找"></a>多文件查找</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">"hello"</span> *.txt</span><br></pre></td></tr></table></figure><h1 id="查找目录"><a href="#查找目录" class="headerlink" title="查找目录"></a>查找目录</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">grep -nir <span class="string">"music.163"</span> ./ <span class="comment"># 查找当前文件夹及其子目录下包含`music.163`字符串的文件，并打印行号</span></span><br><span class="line"></span><br><span class="line">find . -name <span class="string">"file_name"</span> | xargs grep -nir <span class="string">"search_string"</span> <span class="comment"># 过滤文件之后，对每个文件查找</span></span><br></pre></td></tr></table></figure><h1 id="显示行号"><a href="#显示行号" class="headerlink" title="显示行号"></a>显示行号</h1><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$grep</span> -n <span class="string">"hello"</span> hi.txt</span><br><span class="line"><span class="number">1</span><span class="symbol">:hello</span></span><br><span class="line"><span class="number">2</span><span class="symbol">:h<span class="string">"hello"</span>h</span></span><br><span class="line"><span class="number">3</span><span class="symbol">:hello</span> there</span><br></pre></td></tr></table></figure><h1 id="通配符查找"><a href="#通配符查找" class="headerlink" title="通配符查找"></a>通配符查找</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$grep</span>  <span class="string">'.*llo'</span> hi.txt</span><br><span class="line">hello</span><br><span class="line">h<span class="string">"hello"</span>h</span><br><span class="line">hello there</span><br></pre></td></tr></table></figure><h1 id="find"><a href="#find" class="headerlink" title="find"></a>find</h1><p>常用option：<br><code>-name</code>: name matching, can use regex.<br><code>-iname</code>: like<code>-name</code>, but case insensitive.<br><code>-regex</code>: regex匹配文件名（包含路径），eg<code>find ./ -regex &quot;.*/*hexo.py&quot;</code>.<br><code>-type</code>: file type.<code>d</code> is directory, <code>f</code> is file.</p><figure class="highlight bash"><figcaption><span>find-examples</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">find / \! -name <span class="string">"*.c"</span> -<span class="built_in">print</span></span><br><span class="line">     Print out a list of all the files whose names <span class="keyword">do</span> not end <span class="keyword">in</span> .c.</span><br><span class="line"></span><br><span class="line">find / -newer ttt -user wnj -<span class="built_in">print</span></span><br><span class="line">     Print out a list of all the files owned by user ``wnj<span class="string">''</span> that are</span><br><span class="line">     newer than the file ttt.</span><br><span class="line"></span><br><span class="line">find / \! \( -newer ttt -user wnj \) -<span class="built_in">print</span></span><br><span class="line">     Print out a list of all the files <span class="built_in">which</span> are not both newer than</span><br><span class="line">     ttt and owned by ``wnj<span class="string">''</span>.</span><br><span class="line"></span><br><span class="line">find / \( -newer ttt -or -user wnj \) -<span class="built_in">print</span></span><br><span class="line">     Print out a list of all the files that are either owned by</span><br><span class="line">     ``wnj<span class="string">''</span> or that are newer than ttt.</span><br><span class="line"></span><br><span class="line">find / -newerct <span class="string">'1 minute ago'</span> -<span class="built_in">print</span></span><br><span class="line">     Print out a list of all the files whose inode change time is more</span><br><span class="line">     recent than the current time minus one minute.</span><br><span class="line"></span><br><span class="line">find / -<span class="built_in">type</span> f -<span class="built_in">exec</span> <span class="built_in">echo</span> &#123;&#125; \;</span><br><span class="line">      Use the <span class="built_in">echo</span>(1) <span class="built_in">command</span> to <span class="built_in">print</span> out a list of all the files.</span><br><span class="line"></span><br><span class="line">find -L /usr/ports/packages -<span class="built_in">type</span> l -<span class="built_in">exec</span> rm -- &#123;&#125; +</span><br><span class="line">     Delete all broken symbolic links <span class="keyword">in</span> /usr/ports/packages.</span><br><span class="line"></span><br><span class="line">find /usr/src -name CVS -prune -o -depth +6 -<span class="built_in">print</span></span><br><span class="line">     Find files and directories that are at least seven levels deep <span class="keyword">in</span></span><br><span class="line">     the working directory /usr/src.</span><br><span class="line"></span><br><span class="line">find /usr/src -name CVS -prune -o -mindepth 7 -<span class="built_in">print</span></span><br><span class="line">     Is not equivalent to the previous example, since -prune is not</span><br><span class="line">     evaluated below level seven.</span><br></pre></td></tr></table></figure><h1 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h1><p>常用option:<br><code>-i（--ignore-case）</code>: 忽略大小写<br><code>-r (--recursive）</code>: 递归查找子目录<br><code>-n (--line-number)</code>: 打印行号<br><code>-l (--files-with-match)</code>: 只打印匹配的文件名</p><figure class="highlight bash"><figcaption><span>grep-examples</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># To find all occurrences of the word `patricia' in a file:</span></span><br><span class="line"></span><br><span class="line">$ grep <span class="string">'patricia'</span> myfile</span><br><span class="line"></span><br><span class="line"><span class="comment"># To find all occurrences of the pattern `.Pp' at the beginning of a line:</span></span><br><span class="line"></span><br><span class="line">$ grep <span class="string">'^\.Pp'</span> myfile</span><br><span class="line"></span><br><span class="line"><span class="comment"># The apostrophes ensure the entire expression is evaluated by grep instead</span></span><br><span class="line"><span class="comment"># of by the user's shell.  The caret `^' matches the null string at the</span></span><br><span class="line"><span class="comment"># beginning of a line, and the `\' escapes the `.', which would otherwise</span></span><br><span class="line"><span class="comment"># match any character.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># To find all lines in a file which do not contain the words `foo' or</span></span><br><span class="line"><span class="comment"># `bar':</span></span><br><span class="line"></span><br><span class="line">$ grep -v -e <span class="string">'foo'</span> -e <span class="string">'bar'</span> myfile</span><br><span class="line"></span><br><span class="line"><span class="comment"># A simple example of an extended regular expression:</span></span><br><span class="line">$ egrep <span class="string">'19|20|25'</span> calendar</span><br><span class="line"><span class="comment"># Peruses the file `calendar' looking for either 19, 20, or 25.</span></span><br></pre></td></tr></table></figure><p>References:</p><ol><li><code>man find</code> 与 <code>man grep</code></li><li><a href="http://man7.org/linux/man-pages/man1/find.1.html" target="_blank" rel="noopener">man find</a></li><li><a href="http://www.tutorialspoint.com/unix_commands/find.htm" target="_blank" rel="noopener">find example</a></li><li><a href="http://man7.org/linux/man-pages/man1/grep.1.html" target="_blank" rel="noopener">man grep</a></li><li><a href="http://www.tutorialspoint.com/unix_commands/grep.htm" target="_blank" rel="noopener">grep example</a></li><li><a href="http://www.cnblogs.com/jiangzhaowei/p/5451173.html" target="_blank" rel="noopener">linux find -regex 使用正则表达式</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Linux cmd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux cmd </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>理想的知识结构模型</title>
      <link href="/2018/12/27/Knowledge-model/"/>
      <url>/2018/12/27/Knowledge-model/</url>
      
        <content type="html"><![CDATA[<img src="/2018/12/27/Knowledge-model/knowledge-model.jpeg" class=""><blockquote><p>在某个领域深耕细作的同时，不要忘记拓宽自己的知识面。如果一个人的领域太过专业化，一段时间后，你可能会发现自己的专业已经陈旧了。如果一个人的知识面很广，在终身教育的配合下，你的专业可以随着时代的变化而改变。<br>—  《MacTalk跨越边界》</p></blockquote><a id="more"></a><h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><p>知识的广度（Breath）是指在很多领域都知道一点点知识（know a little about a lot);<br>知识的深度（Deepth）是指在某个领域知道很多很深的知识（know a lot about a little）。<br>理想的知识结构模型应该是T字形，横表示广度，竖表示深度。缺一不可。</p><p><a href="https://wiki.mbalib.com/wiki/%E6%9C%A8%E6%A1%B6%E5%8E%9F%E7%90%86" target="_blank" rel="noopener">木桶理论</a>过分强调不要短板，广度优先，处处平衡;<br><a href="https://baike.sogou.com/v62597640.htm?fromTitle=%E9%95%BF%E6%9D%BF%E7%90%86%E8%AE%BA" target="_blank" rel="noopener">长板理论</a>过分强调深度，深度优先，精耕细作。<br>考虑到多个领域，可以是多个T的叠加（有些地方称为π型结构, π type talent），最终的结果就是类似于上图所示的图形，有点像二师兄的九齿钉耙。 :)<br>如果考虑到知识随着时间的迭代（动态性），那么我们最终会看到三个维度：</p><ul><li>广度：博</li><li>深度：专</li><li>时间：新</li></ul><h1 id="知识分类"><a href="#知识分类" class="headerlink" title="知识分类"></a>知识分类</h1><h2 id="广义"><a href="#广义" class="headerlink" title="广义"></a>广义</h2><p>所有的文字、语言、经验、哲学、科学、宗教都可以算是一种广义的知识。</p><h2 id="狭义"><a href="#狭义" class="headerlink" title="狭义"></a>狭义</h2><p>以软件开发为例：</p><ul><li>通用性的：如C语言、编程范式、设计模式、软件架构、软件开发流程。。。</li><li>领域相关的：如汽车领域软件开发：AUTOSAR架构、诊断、ASPICE、ISO26262.。。</li><li>产品相关的：如ADAS产品软件开发： 功能、距离检测算法、路径规划、横向控制、纵向控制。。。</li></ul><h1 id="训练方法"><a href="#训练方法" class="headerlink" title="训练方法"></a>训练方法</h1><ul><li>广度：<a href="https://ideas.ted.com/dont-have-10000-hours-to-learn-something-new-thats-fine-all-you-need-is-20-hours/" target="_blank" rel="noopener">关键20小时</a></li></ul><ol><li>Break down a skill into its components.</li><li>Learn enough to know when you’re making a mistake.</li><li>Remove any and all barriers to practice.</li><li>Practice for at least 20 hours.</li></ol><ul><li><p>深度：10000小时理论<br>人们眼中的天才之所以卓越非凡，并非天资超人一等，而是付出了持续不断的努力。只要经过1万小时的锤炼，任何人都能从平凡变成超凡。 — 《异类》（Utliers）</p></li><li><p>时间：<br>根据不同的知识种类进行迭代，可以通过RSS订阅，查看最新的前沿论文等。<br>职位的变化也需要重新调整知识结构，比如同样是沟通技能，在技术岗位转成领导岗位的要求程度是不一样的。</p></li></ul><p>Reference:</p><ol><li><a href="https://blog.csdn.net/u014805066/article/details/64437617" target="_blank" rel="noopener">T型知识结构</a></li><li><a href="https://ideas.ted.com/dont-have-10000-hours-to-learn-something-new-thats-fine-all-you-need-is-20-hours/" target="_blank" rel="noopener">20 hours to learn something new</a></li><li><a href="https://www.zhihu.com/question/19933005" target="_blank" rel="noopener">哪些网站适合用于充电、学习新知识？</a></li><li><a href="https://www.jianshu.com/p/d625356dc3c5" target="_blank" rel="noopener">实现从T型知识结构到π型知识结构的转变</a></li><li><a href="https://vimeo.com/83107245" target="_blank" rel="noopener">Steve Mann, Keynote Address, eLeo Symposium, 2013dec05, OCAD </a></li><li><a href="https://nested.substack.com/p/short-fat-engineers-are-undervalued" target="_blank" rel="noopener">Short Fat Engineers Are Undervalued</a></li><li><a href="https://www.ruanyifeng.com/blog/2021/09/weekly-issue-175.html" target="_blank" rel="noopener">科技爱好者周刊（第 175 期）：知识广度 vs 知识深度</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> knowledge </category>
          
      </categories>
      
      
        <tags>
            
            <tag> knowledge </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>functional safety and cyber security</title>
      <link href="/2018/05/11/safety-and-security/"/>
      <url>/2018/05/11/safety-and-security/</url>
      
        <content type="html"><![CDATA[<p>safety: 安全，侧重于防止系统的内部故障导致生命财产损失。<br>security： 安保/防护，侧重于防止外部侵入导致生命财产损失。<br>对应到汽车领域：functional safety(功能安全)与cyber security(网络安全)</p><a id="more"></a><h1 id="overview"><a href="#overview" class="headerlink" title="overview"></a>overview</h1><p>functional safety: absence of unreasonable risk due to hazards caused by malfunctioning behavior of E/E systems.<br>Cyber security : protection of systems from the theft and damage to their hardware, software or information, as well as from disruption or misdirection of the services they provide.</p><img src="/2018/05/11/safety-and-security/overview_safety_security.png" class=""><p>功能安全还有个进化版本 SOTIF(Safety of the intended functionality, ISO21448).</p><h1 id="method"><a href="#method" class="headerlink" title="method"></a>method</h1><p>功能安全和网络安全的方法都需要在考虑整个产品生命周期（life cycle）的基础上，从两个大的方面来实施：技术与流程。</p><img src="/2018/05/11/safety-and-security/methods_safety_security.png" class=""><p>功能安全的一些方法在ISO26262里有详细的推荐，包括硬件失效分析以及诊断方法，软件开发方法，测试方法等。</p><img src="/2018/05/11/safety-and-security/security_solutions.png" class=""><img src="/2018/05/11/safety-and-security/safety_efforts.png" class=""><h1 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h1><p><a href="https://en.wikipedia.org/wiki/Cyclic_redundancy_check" target="_blank" rel="noopener">CRC(Cyclic redundancy check)</a> - safety point of view: data error detection<br><a href="https://en.wikipedia.org/wiki/Message_authentication_code#Security" target="_blank" rel="noopener">MAC(Message authentication code)</a> - security point of view：data autenticity check.</p><p>References</p><ol><li><a href="https://www.zhihu.com/question/28426435?sort=created" target="_blank" rel="noopener">关于safety和security的翻译问题</a></li><li><a href="https://www.controleng.com/single-article/combining-functional-safety-and-cyber-security/" target="_blank" rel="noopener">Combining functional safety and cyber security</a></li><li><a href="https://vector.com/technologie-tage/files/VTT17_Grundlagenseminar_Security_Safety.pdf" target="_blank" rel="noopener">Functional safety and cyber security</a></li><li><a href="http://www.umtri.umich.edu/sites/default/files/Safety.2014.Andre_.Weimerskirch_0.pdf" target="_blank" rel="noopener">The relevance of cyber-security to functional safety of connected and automated vehicles</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> safety </category>
          
          <category> security </category>
          
      </categories>
      
      
        <tags>
            
            <tag> safety </tag>
            
            <tag> security </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>软件开发(3):软件集成重名解决方案</title>
      <link href="/2018/04/15/integrate-files-with-same-name-same-function-in-C/"/>
      <url>/2018/04/15/integrate-files-with-same-name-same-function-in-C/</url>
      
        <content type="html"><![CDATA[<p>本文介绍了一种在软件集成过程中，遇到重名文件 和/或 重名函数时的解决方案。</p><a id="more"></a><h1 id="why"><a href="#why" class="headerlink" title="why"></a>why</h1><p>在<a href="https://wuchenxu.com/2017/02/27/software-design-2-variant-handling/" target="_blank" rel="noopener">software development(2):variant handling</a>一文中介绍了很多种variant管理的方法，其中有关于[link different libs](<a href="https://wuchenxu.com/2017/02/27/software-design-2-variant-handling/#link" target="_blank" rel="noopener">https://wuchenxu.com/2017/02/27/software-design-2-variant-handling/#link</a> different libs)的方法。<br>设想如下场景：开发过程中（针对C语言），各个模块分别由不同的团队开发，最后集成的时候，如果遇到重名的函数怎么处理？<br>本文针对这种场景，搜集了几种解决方案。</p><h1 id="what"><a href="#what" class="headerlink" title="what"></a>what</h1><p>场景设置: 三个模块，<code>a</code> <code>b</code> <code>os</code>，其中<code>a</code>和<code>b</code>模块都包含一个名字为<code>func_internal.c</code>的文件，这个同名文件中包含了名字一样的函数，分别为<code>int func_internal(void)</code>与<code>int func_internal(int a)</code>。这两个函数都没有申明为static，但是没有外部调用。</p><p><a href="https://github.com/WuChenxu/C/tree/master/link2step" target="_blank" rel="noopener">demo in github</a></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── README.md</span><br><span class="line">├── component_a</span><br><span class="line">│   ├── exported_sym.list</span><br><span class="line">│   ├── func_a.c</span><br><span class="line">│   ├── func_internal.c</span><br><span class="line">│   ├── func_internal.h</span><br><span class="line">│   ├── functions.h</span><br><span class="line">│   ├── makefile</span><br><span class="line">│   └── redefine.syms</span><br><span class="line">├── component_b</span><br><span class="line">│   ├── exported_sym.list</span><br><span class="line">│   ├── func_b.c</span><br><span class="line">│   ├── func_internal.c</span><br><span class="line">│   ├── func_internal.h</span><br><span class="line">│   ├── functions.h</span><br><span class="line">│   └── makefile</span><br><span class="line">├── makefile</span><br><span class="line">├── obj</span><br><span class="line">└── os</span><br><span class="line">    ├── exported_sym.list</span><br><span class="line">    ├── main.c</span><br><span class="line">    └── makefile</span><br></pre></td></tr></table></figure><figure class="highlight c"><figcaption><span> component_a/func_a.c</span><a href="/downloads/code/link2steps/component_a/func_a.c">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"functions.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func_internal.h"</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">func_internal_s</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">func_a</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">   <span class="keyword">int</span> a = func_internal();</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"this is func a. %d\n"</span>, a);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"this is static internal %d\n"</span>, func_internal_s());</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure><figure class="highlight c"><figcaption><span> component_a/func_internal.c</span><a href="/downloads/code/link2steps/component_a/func_internal.c">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"functions.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">func_internal</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure><figure class="highlight c"><figcaption><span> component_b/func_b.c</span><a href="/downloads/code/link2steps/component_b/func_b.c">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"functions.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"func_internal.h"</span></span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">func_internal_s</span><span class="params">(<span class="keyword">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"func B %d\n"</span>, a);</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">func_b</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">int</span> a = func_internal(<span class="number">100</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"this is func b. %d"</span>, a);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"internal func %d\n."</span>, func_internal_s(<span class="number">-100</span>));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;    </span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure><figure class="highlight c"><figcaption><span> component_b/func_internal.c</span><a href="/downloads/code/link2steps/component_b/func_internal.c">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"functions.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">func_internal</span><span class="params">(<span class="keyword">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h1 id="how"><a href="#how" class="headerlink" title="how"></a>how</h1><h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><ol><li><p>由于有文件重名，所以不能每个<code>.c</code>单独编译成<code>.o</code>，然后再链接；<br>出现两个同名的<code>.o</code>，要不然链接器报错，要不然只用了其中一个<code>.o</code>，这样会导致运行时异常。</p></li><li><p>由于有函数重名，且函数没有申明为局部，链接的时候必然会出现错误：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">duplicate symbol _func_internal <span class="keyword">in</span>:</span><br><span class="line">    component_a/func_internal.o</span><br><span class="line">    component_b/func_internal.o</span><br></pre></td></tr></table></figure><h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><h3 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h3><p>本文采用的方法：<br>每个模块单独编译成一个<code>.o</code>文件。</p></li></ol><p>其他方法：</p><ol><li>重名文件改名；重名函数改名；局部函数申明为static。</li><li>定义函数时定义visibility属性（GUN only）<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">__attribute__((<span class="name">visibility</span>(<span class="string">"hidden"</span>)))</span><br></pre></td></tr></table></figure></li></ol><h3 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h3><p>本文采用的方法：</p><p><code>-exported_symbols_list filename</code>(Mac) 或者 <code>--retain-symbols-file=filename</code>(linux)</p><figure class="highlight plain"><figcaption><span>link all the .o in each component to one .o file; and only export symbols in the list</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ld -r -exported_symbols_list exported_sym.list $&#123;OBJECTS&#125;  -o $&#123;TARGET&#125;.o</span><br></pre></td></tr></table></figure><img src="/2018/04/15/integrate-files-with-same-name-same-function-in-C/ld.png" class=""><p>其实是强制将符号表里的全局符号(<code>T</code>)变成了局部符号(<code>t</code>)，这样除了列表文件里的函数，其他对外均不可见。</p><p>其他方法：</p><ol><li><p>gcc在链接时设置 -fvisibility=hidden，则不加 visibility声明的都默认为hidden; gcc默认设置 -fvisibility=default，即全部可见；</p></li><li><p>使用export map，gcc -Wl,–version-script=export.map, 在export.map中指定</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"><span class="attribute">global</span>:export_func;</span><br><span class="line"></span><br><span class="line"><span class="attribute">local</span>:*;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ol><h3 id="objcopy"><a href="#objcopy" class="headerlink" title="objcopy"></a>objcopy</h3><ol><li><p>将全局符号修改为局部符号：<br><code>-L symbolname</code></p></li><li><p>替换符号名<br><code>--redefine-sym old=new</code><br><code>--redefine-syms=filename</code></p></li></ol><h1 id="recap"><a href="#recap" class="headerlink" title="recap"></a>recap</h1><ol><li>由于C语言没有namespace的概念，可以在开发之前约定好，所有的<code>全局函数</code>和<code>全局变量</code>都加上特殊的前缀，eg. <code>CompanyName_ProductName_ComponentName_FunctionName</code>。</li><li>所有的局部函数定义都加上static。</li><li>可以先编译各个模块，再链接（类似于每个模块编译成静态库），这样可以防止重名的文件名报错。</li><li>可以在链接的时候控制各个模块编译后全局函数，将内部使用的但没有申明为static的函数，在符号表中强制修改为local的符号。</li><li>链接后，可以通过<code>objcopy</code>改变符号的属性（全局-&gt;局部）或者 修改全局符号的名字。</li></ol><p>Reference：</p><ol><li><a href="https://developer.apple.com/library/content/technotes/tn2185/_index.html#//apple_ref/doc/uid/DTS10004200-CH1-SUBSECTION5" target="_blank" rel="noopener">Choosing Visibility Options for Mac</a></li><li><a href="https://www.ibm.com/developerworks/aix/library/au-aix-symbol-visibility/index.html" target="_blank" rel="noopener">Introduction to symbol visibility</a></li><li><a href="http://www.man7.org/linux/man-pages/man1/ld.1.html" target="_blank" rel="noopener">man ld</a></li><li><a href="http://www.it1352.com/539295.html" target="_blank" rel="noopener">将两个GCC编译的.o目标文件合并到第三个.o文件中</a></li><li><a href="https://stackoverflow.com/questions/1506346/with-gcc-how-do-i-export-only-certain-functions-in-a-static-library" target="_blank" rel="noopener">export obly centain functioins in a static lib</a></li><li><a href="https://gcc.gnu.org/wiki/Visibility" target="_blank" rel="noopener">visibility of GCC</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> software </category>
          
          <category> build </category>
          
      </categories>
      
      
        <tags>
            
            <tag> software </tag>
            
            <tag> build </tag>
            
            <tag> c-lang </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Machine Learning笔记</title>
      <link href="/2018/02/04/machine_learning_notes/"/>
      <url>/2018/02/04/machine_learning_notes/</url>
      
        <content type="html"><![CDATA[<p>学习吴恩达的machine learning课程笔记。</p><a id="more"></a><h1 id="resources"><a href="#resources" class="headerlink" title="resources"></a>resources</h1><h2 id="website"><a href="#website" class="headerlink" title="website"></a>website</h2><p><a href="http://cs229.stanford.edu/" target="_blank" rel="noopener">http://cs229.stanford.edu/</a><br><a href="https://see.stanford.edu/Course/CS229" target="_blank" rel="noopener">https://see.stanford.edu/Course/CS229</a></p><h2 id="tool"><a href="#tool" class="headerlink" title="tool"></a>tool</h2><p>商业软件<a href="https://www.mathworks.com/" target="_blank" rel="noopener">Matlab</a> or 免费开源软件<a href="http://www.gnu.org/software/octave/" target="_blank" rel="noopener">Octave</a></p><h1 id="动机与应用"><a href="#动机与应用" class="headerlink" title="动机与应用"></a>动机与应用</h1><h2 id="why？"><a href="#why？" class="headerlink" title="why？"></a>why？</h2><p>很多程序是无法手动编写出来的，eg. 手写文字识别，自动飞行器，自然语言处理NLP</p><h2 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h2><ul><li>learning algorithm容易实现手动无法编写程序的问题。</li><li>learning algorithm在数据挖掘（data mining）有很好的效果，eg.电子化病例数据，帮助医生更好地决策</li><li>zip code识别</li><li>amazon，netflix推荐系统</li></ul><h2 id="machine-learning-definiton"><a href="#machine-learning-definiton" class="headerlink" title="machine learning definiton"></a>machine learning definiton</h2><ol><li><p>Arthur Samuel (1959). Machine Learning: Field of study that gives computers the ability to learn without being explicitly programmed.<br><code>Checkers program</code></p></li><li><p>Tom Mitchell (1998). Well-posed Learning Problem: A computer program is said to learn from experience E with respect to some task T and some performance measure P, if its performance on T, as measured by P, improves with experience E.</p></li></ol><h2 id="课程由4部分组成"><a href="#课程由4部分组成" class="headerlink" title="课程由4部分组成"></a>课程由4部分组成</h2><h3 id="Supervised-Learning-监督学习"><a href="#Supervised-Learning-监督学习" class="headerlink" title="Supervised Learning(监督学习)"></a>Supervised Learning(监督学习)</h3><p>监督学习中所有的样本都是带有标记的，“正确答案”已经在样本中。</p><ol><li><p>regression problem（回归问题）<br>预测的值是连续（continuous）的。</p><img src="/2018/02/04/machine_learning_notes/regression_problem_continuous.png" class="" title="regression problem"></li><li><p>classification problem（分类问题）<br>预测的值是离散（discreet）的,eg. SVM(supported vector machine)</p><img src="/2018/02/04/machine_learning_notes/classification_problem_discreet.png" class="" title="classification problem"></li></ol><h3 id="Learning-Theory"><a href="#Learning-Theory" class="headerlink" title="Learning Theory"></a>Learning Theory</h3><p>learning algorith 为什么是有效的；可以证明什么时候（eg.多大的数据量）可以保证算法有效（eg.&gt;99.9%的正确率)。</p><h3 id="Unspervised-Learning（无监督学习）"><a href="#Unspervised-Learning（无监督学习）" class="headerlink" title="Unspervised Learning（无监督学习）"></a>Unspervised Learning（无监督学习）</h3><p>无监督学习的样本是不带有标记的，无监督学习需要从数据中自己发现特定的结构。</p><ul><li><p><a href="https://en.wikipedia.org/wiki/Cluster_analysis" target="_blank" rel="noopener">Cluster Analysis Algorithm</a><br>给定一个训练数据集，从中找到某种结构，即将数据集分为几个聚类。（让算法自己从数据中发现规律）</p></li><li><p><a href="https://en.wikipedia.org/wiki/Independent_component_analysis" target="_blank" rel="noopener">ICA(Independent Component Analysis) Algorithm</a><br>Cocktail party problem<br>在嘈杂的鸡尾酒会区分不同人的语音</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[W,s,v] = svd((<span class="built_in">repmat</span>(sum(x.*x,<span class="number">1</span>),<span class="built_in">size</span>(x,<span class="number">1</span>),<span class="number">1</span>).*x)*x');</span><br></pre></td></tr></table></figure></li></ul><h3 id="Reinforcement-Learning（增强学习）"><a href="#Reinforcement-Learning（增强学习）" class="headerlink" title="Reinforcement Learning（增强学习）"></a>Reinforcement Learning（增强学习）</h3><p>reward function（回报函数）</p><h1 id="Supervised-Learning"><a href="#Supervised-Learning" class="headerlink" title="Supervised Learning"></a>Supervised Learning</h1><h2 id="Linear-regression"><a href="#Linear-regression" class="headerlink" title="Linear regression"></a>Linear regression</h2><img src="/2018/02/04/machine_learning_notes/supervised_learning_notation_1.png" class=""><img src="/2018/02/04/machine_learning_notes/supervised_learning_notation_2.png" class=""><img src="/2018/02/04/machine_learning_notes/supervised_learning_notation_3.png" class=""><h3 id="Gradient-descent"><a href="#Gradient-descent" class="headerlink" title="Gradient descent"></a><a href="https://en.wikipedia.org/wiki/Gradient_descent" target="_blank" rel="noopener">Gradient descent</a></h3><img src="/2018/02/04/machine_learning_notes/gradient_descent.png" class=""><p>随机选择一个点（特征参数），通过梯度算法找到下降最陡的方向，一步一步迭代，直到找到一个局部最优解（cost函数取最小值）。<br>如果初始化的值不一样，得到的局部最优解可能会不一样。<br>适用于：局部最优解等于全局最优解的情况，想象一个碗形的代价函数。</p><h4 id="Batch-gradient-descent"><a href="#Batch-gradient-descent" class="headerlink" title="Batch gradient descent"></a>Batch gradient descent</h4><p>每次迭代都要遍历所有的训练数据，适用于数据量小的训练集合。</p><img src="/2018/02/04/machine_learning_notes/batch_gradient_descent.png" class=""><p>这种迭代规则，称为LMS(Least Mean Squares) update rule.</p><h4 id="Stochastic-gradient-descent-Incremental-gradient-descent"><a href="#Stochastic-gradient-descent-Incremental-gradient-descent" class="headerlink" title="Stochastic gradient descent(Incremental gradient descent)"></a>Stochastic gradient descent(Incremental gradient descent)</h4><p>只需要遍历一次训练数据，适用于数据量很大的训练集合。</p><img src="/2018/02/04/machine_learning_notes/stochastic_gradient_descent.png" class=""><p>$ \alpha $表示学习速率，训练的步进，可以随着梯度的下降，减小该值。</p><h3 id="Normal-equations"><a href="#Normal-equations" class="headerlink" title="Normal equations"></a>Normal equations</h3><p>通过矩阵（matrix）的方法推导出的一种不需要迭代，直接可以计算出特征向量的方法。</p><img src="/2018/02/04/machine_learning_notes/normal_equation.png" class=""><p>$(X^TX)$不可逆的可能原因：</p><ul><li>存在冗余特征（$\theta $中存在重复）</li><li>特征数量n过多，训练样本数m太少</li></ul><h3 id="Non-parameterical-learning-algorithm"><a href="#Non-parameterical-learning-algorithm" class="headerlink" title="Non-parameterical learning algorithm"></a>Non-parameterical learning algorithm</h3><ul><li><p>parameterical learning algorithm 的参数数量n是固定的，训练完成后不需要样本。<br>特征参数过少，导致欠拟合（underfitting）；特征数过多，导致过拟合（overfitting）。<br>可以通过Feature slection algorithm来自动选取特征参数。</p></li><li><p>Non-parameterical learning algorithm 的参数数量n是随着样本数m的增加而增加的，每次输出结果都需要重新评估训练样本。<br>LWR(Locally weighted linear regressioin)是一种无参数的算法</p><img src="/2018/02/04/machine_learning_notes/LWR_1.png" class=""><img src="/2018/02/04/machine_learning_notes/LWR_2.png" class=""></li></ul><h3 id="Probabilistic-interpretatioin"><a href="#Probabilistic-interpretatioin" class="headerlink" title="Probabilistic interpretatioin"></a>Probabilistic interpretatioin</h3><p>最小二乘法的概率学解释：假设误差服从正态分布（高斯分布），最小二乘法求得的特征参数，可以使代价函数最小。</p><h2 id="Classification-and-logistic-regression"><a href="#Classification-and-logistic-regression" class="headerlink" title="Classification and logistic regression"></a>Classification and logistic regression</h2><p>除了y的取值是离散的之外，分类问题与线性回归问题类似。</p><h3 id="Logistic-regression"><a href="#Logistic-regression" class="headerlink" title="Logistic regression"></a>Logistic regression</h3><h4 id="sigmoid-function"><a href="#sigmoid-function" class="headerlink" title="sigmoid function"></a>sigmoid function</h4><img src="/2018/02/04/machine_learning_notes/logistic_regression_1.png" class=""><img src="/2018/02/04/machine_learning_notes/logistic_regression_2.png" class=""><img src="/2018/02/04/machine_learning_notes/logistic_regression_3.png" class=""><h4 id="Newton’s-method"><a href="#Newton’s-method" class="headerlink" title="Newton’s method"></a>Newton’s method</h4><img src="/2018/02/04/machine_learning_notes/Newtons_method_1.png" class=""><img src="/2018/02/04/machine_learning_notes/Newtons_method_2.png" class=""><h3 id="Perceptron-learning-algorithm"><a href="#Perceptron-learning-algorithm" class="headerlink" title="Perceptron learning algorithm"></a>Perceptron learning algorithm</h3><img src="/2018/02/04/machine_learning_notes/perceptron_learning_algorithm.png" class=""><h2 id="GLM-Generalized-Linear-Models"><a href="#GLM-Generalized-Linear-Models" class="headerlink" title="GLM(Generalized Linear Models)"></a>GLM(Generalized Linear Models)</h2><h3 id="Exponential-family"><a href="#Exponential-family" class="headerlink" title="Exponential family"></a>Exponential family</h3><p>之前的例子中，线性回归算法（最小二乘法）服从高斯分布，逻辑回归算法（sigmoid函数）服从伯努利分布。而这些都是GLM的一些特例。</p><img src="/2018/02/04/machine_learning_notes/exponential_family.png" class=""><p>以下分布都属于指数家族：<br>高斯分布（Gaussian）：结果是连续的<br>伯努利分布（Bernoulli）：结果是离散的，只有两种结果<br>多项式分布（multinomial）：结果是离散的，有k种结果<br>泊松分布（Poisson）：计数问题，eg.网站访客量，放射性衰变数目。<br>伽马分布（gamma）：时间间隔，eg.等公交车的时间<br>指数分布<br>beta分布<br>Dirichlet分布</p><h3 id="Constructing-GLMs"><a href="#Constructing-GLMs" class="headerlink" title="Constructing GLMs"></a>Constructing GLMs</h3><p>一个重要的设计决策是：</p><img src="/2018/02/04/machine_learning_notes/GLM_design_decision.png" class=""><h4 id="Ordinary-Least-Squares"><a href="#Ordinary-Least-Squares" class="headerlink" title="Ordinary Least Squares"></a>Ordinary Least Squares</h4><p>高斯分布在指数家族的表示如下：</p><img src="/2018/02/04/machine_learning_notes/Gaussian_in_exponential_family.png" class=""><p>可以推导出，最小二乘法是GLM的一个特例：</p><img src="/2018/02/04/machine_learning_notes/ordianary_least_squares_in_GLM.png" class=""><h4 id="Logistic-regression-1"><a href="#Logistic-regression-1" class="headerlink" title="Logistic regression"></a>Logistic regression</h4><p>伯努利分布在指数家族表示如下：</p><img src="/2018/02/04/machine_learning_notes/Bernoulli_in_exponential_family.png" class=""><p>可以推导出，逻辑回归是GLM的一个特例：</p><img src="/2018/02/04/machine_learning_notes/logistic_regression_in_GLM.png" class=""><h4 id="Softmax-regression"><a href="#Softmax-regression" class="headerlink" title="Softmax regression"></a>Softmax regression</h4><p>多项式分布在指数家族表示如下：</p><img src="/2018/02/04/machine_learning_notes/multinomial_in_exponential_family.png" class=""><p>softmax函数：</p><img src="/2018/02/04/machine_learning_notes/softmax_functin.png" class=""><p>可以推导出，softmax回归是GLM的一个特例：</p><img src="/2018/02/04/machine_learning_notes/softmax_regression_in_GLM.png" class=""><p>logistic回归是softmax回归在k=2时的特例。</p><h2 id="Generative-learning-algorithms"><a href="#Generative-learning-algorithms" class="headerlink" title="Generative learning algorithms"></a>Generative learning algorithms</h2><ul><li>判别（discriminative）学习算法<br>如逻辑回归，直接学习p(y|x)；或者如感知器算法（perceptron），直接尝试学习从输入到输出的映射（mapping）。</li><li>生成（generative）学习算法<br>对每种类别分别建模,然后通过贝叶斯公式计算出在给定x条件下y的后验分布。<img src="/2018/02/04/machine_learning_notes/generative_learning_algorithm_1.png" class=""><img src="/2018/02/04/machine_learning_notes/generative_learning_algorithm_2.png" class=""></li></ul><h3 id="GDA（Gaussian-Discriminant-Analysis）"><a href="#GDA（Gaussian-Discriminant-Analysis）" class="headerlink" title="GDA（Gaussian Discriminant Analysis）"></a>GDA（Gaussian Discriminant Analysis）</h3><p>GDA假设p(x|y)服从多元正态分布（multivariate normal distribution）。</p><h4 id="多元正态分布"><a href="#多元正态分布" class="headerlink" title="多元正态分布"></a>多元正态分布</h4><img src="/2018/02/04/machine_learning_notes/multivariant_normal_distribution_1.png" class=""><img src="/2018/02/04/machine_learning_notes/multivariant_normal_distribution_2.png" class=""><h4 id="高斯判定分析模型"><a href="#高斯判定分析模型" class="headerlink" title="高斯判定分析模型"></a>高斯判定分析模型</h4><img src="/2018/02/04/machine_learning_notes/GDA_1.png" class=""><p>通过计算最大化的似然函数，可以得到参数$\phi \mu_0 \mu_1 \Sigma$的值。</p><img src="/2018/02/04/machine_learning_notes/GDA_2.png" class=""><h4 id="GDA与逻辑回归"><a href="#GDA与逻辑回归" class="headerlink" title="GDA与逻辑回归"></a>GDA与逻辑回归</h4><p>如果我们将$p(y=1|x;\phi, \mu_0, \mu_1, \Sigma)$视为$x$的函数，那么我们发现可以有如下表示形式：<br>$$ p(y=1|x;\phi, \mu_0, \mu_1, \Sigma)={1 \over {1+exp(-\theta^T x)}}$$<br>这就是逻辑回归—一种判定算法—用来给$p(y=1|x)$建模的形式。</p><p>也就是说，如果数据服从多元高斯分布，那后验分布是逻辑函数；反之，不成立。</p><p>如果$x|y=0 ~ Poisson(\lamda_0), x|y=1 ~Poisson(\lamda_1$,那么$p(y|x)$也是逻辑的（logistic）。<br>也就是说，如果数据服从泊松分布，那后验分布也是逻辑函数；反之，不成立。</p><p>逻辑回归对多元高斯分布，泊松分布等都有效。</p><p>相比逻辑回归，GDA使用了更强的（stronger）假设。<br>如果模型假设正确（服从多元高斯分布），那么GDA可以更好地fit数据，可以通过更少的数据达到更好的效果，这种情况下GDA是更好的模型；<br>与之相对，逻辑回归使用了更弱（weaker）的假设，所以逻辑回归更健壮（robust），且对不正确的模型假设更不敏感。<br>如果数据不符合高斯分布，使用GDA得不到更好的估算，此时使用逻辑回归更好。</p><h3 id="朴素贝叶斯算法（Naive-Bayes）"><a href="#朴素贝叶斯算法（Naive-Bayes）" class="headerlink" title="朴素贝叶斯算法（Naive Bayes）"></a>朴素贝叶斯算法（Naive Bayes）</h3><h4 id="Naive-Bayes"><a href="#Naive-Bayes" class="headerlink" title="Naive Bayes"></a>Naive Bayes</h4><ul><li>GDA的特征向量是连续的实数向量。</li><li>Naive Bayes的特征向量是离散的值。<br>以垃圾邮件分类器（email span filter）为例,这个模型也称为多元伯努利事件模型（multi-variate Bernoulli event model）：</li></ul><img src="/2018/02/04/machine_learning_notes/NB_feature_vector_1.png" class=""><img src="/2018/02/04/machine_learning_notes/NB_feature_vector_2.png" class=""><p>朴素贝叶斯算法假设：</p><img src="/2018/02/04/machine_learning_notes/NB_assumption.png" class=""><p>朴素贝叶斯算法的参数：</p><img src="/2018/02/04/machine_learning_notes/NB_1.png" class=""><img src="/2018/02/04/machine_learning_notes/NB_2.png" class=""><img src="/2018/02/04/machine_learning_notes/NB_3.png" class=""><img src="/2018/02/04/machine_learning_notes/NB_4.png" class=""><h4 id="Laplace-smoothing"><a href="#Laplace-smoothing" class="headerlink" title="Laplace smoothing"></a>Laplace smoothing</h4><p>设想如下场景：<br>一个从来没有在训练邮件中出现过的单词，但是这个单词在字典里，如果有一天收到一封邮件里包含这类单词。<br>会导致$\phi_{i|y=1}=0$,且$\phi_{i|y=0}=0$<br>从而<br>$$ p(y=1|x) = {0 \over 0}$$<br>这是一个未定义的值，无法作出估计。</p><img src="/2018/02/04/machine_learning_notes/Laplace_smoothing.png" class=""><p>计算明天太阳升起来的概率(假设太阳已经连续n天升起来了)<br>明天太阳不会升起来的概率：<br>$$ \phi_0 = {1 \over n+2}$$<br>明天太阳还会升起来的概率：<br>$$ \phi_1 = {n+1 \over n+2}$$</p><h4 id="Event-models-for-text-classification"><a href="#Event-models-for-text-classification" class="headerlink" title="Event models for text classification"></a>Event models for text classification</h4><img src="/2018/02/04/machine_learning_notes/multinomial_event_model_1.png" class=""><img src="/2018/02/04/machine_learning_notes/multinomial_event_model_2.png" class=""><img src="/2018/02/04/machine_learning_notes/multinomial_event_model_3.png" class=""><img src="/2018/02/04/machine_learning_notes/multinomial_event_model_4.png" class=""><p>References:</p><ol><li><a href="http://blog.csdn.net/artprog/article/details/51172025" target="_blank" rel="noopener">机器学习笔记03：Normal equation与梯度下降的比较</a></li><li><a href="http://blog.csdn.net/google19890102/article/details/49738427" target="_blank" rel="noopener">深度学习算法原理——Softmax Regression</a></li><li><a href="https://www.cnblogs.com/realkate1/p/5683939.html" target="_blank" rel="noopener">生成模型（Generative）和判别模型（Discriminative)</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> AI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ABZ计划</title>
      <link href="/2017/12/31/ABZ-Plan/"/>
      <url>/2017/12/31/ABZ-Plan/</url>
      
        <content type="html"><![CDATA[<img src="/2017/12/31/ABZ-Plan/ABZ_plan.png" class="">  <p>今天是2017年最后一天了，可以按照<code>ABZ理论</code>好好计划一下2018年的计划了。</p><a id="more"></a><p>《至关重要的关系》(The Start-up of You)一书中提出的“ABZ计划”理论。<br>现在的世界变化太快（VUCA时代），我们需要一个人生规划：能让我们最大限度做好当前工作（A计划）；同时，在适当的时候可以转移到的下一份工作（B计划）；最差的情况，有个兜底的退路（Z计划）。</p><h1 id="A计划：当前的位置"><a href="#A计划：当前的位置" class="headerlink" title="A计划：当前的位置"></a>A计划：当前的位置</h1><p>A计划是当前正在从事的工作，是当前具有竞争优势的位置，并且值得持续投入。在A计划中，我们只需要对所学的知识技能做微调，并周期性地迭代。</p><h1 id="B计划：支点（Pivot-Point）"><a href="#B计划：支点（Pivot-Point）" class="headerlink" title="B计划：支点（Pivot Point）"></a>B计划：支点（Pivot Point）</h1><p>你的支点是你围绕的中心，就像篮球运动员只要以一只脚为支撑点，可以在一个圆圈里自由移动。<br>B计划是当你需要改变目标或者改变达到目标的路径的时候，可以转换过去的支点。你可能因为A计划行不通或者发现了比A计划更好的机会，从而准想B计划。一旦你转向B计划，它就变成了新的A计划。<br>为什么需要B计划，因为这个时代变化太快，你不知道什么时候你的公司或者你所在的行业就会迎来拐点（inflection point）。这样根本性的变化会强迫你改变自己的技能或者换一个新的环境。因为拐点的不可预测性，为了减轻拐点到来时的冲击，我们可以未雨绸缪：建立个人的软技能，拥抱变化，随时准备快速切换的B计划。<br>最好的B计划通常与你当前所做的工作有所不同，但是又有很大的相关性。转换到相近的领域，既可以借力已有的技能，又可以在一个新的方向开发出新的技能。通常，需要利用晚上或者周末的时间。你可以在空余时间开始学习新的技能，并与相邻领域工作的人建立联系。</p><h1 id="Z计划：安全网"><a href="#Z计划：安全网" class="headerlink" title="Z计划：安全网"></a>Z计划：安全网</h1><p>Z计划是你的安全撤退点（fallback point），你的救生船，它能让你承受失败的结果，并卷土重来。<br>如果你的职业生涯终结或者你的生活遭受重大变故，你的计划是什么？这就是Z计划。有了Z计划，你就可以在A计划和B计划里接受不确定性和风险。有了Z计划，你至少知道可以承受风险。没有Z计划，你可能在担心最坏情况的恐惧中束手束脚。<br>也许你会在恢复之前过一段简朴的生活，但是至少你知道不会无家可归，不会破产或者永远失业。<br>Z计划不是一个终点，它更像一张安全网，让你知道最差不过如此，这样你可以更加放心大胆地执行AB计划，甚至重新制定更加激进而不是更加保守的AB计划。</p><p>Reference：</p><ol><li><a href="http://mindmappingsoftwareblog.com/wp-content/bs-e197d/ABZ-Career-Plan-Map.pdf" target="_blank" rel="noopener">How to create an ABZ career plan mind map</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> management </category>
          
      </categories>
      
      
        <tags>
            
            <tag> management </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>技术炒作周期(Hype Cycle)</title>
      <link href="/2017/09/21/hype-cycle/"/>
      <url>/2017/09/21/hype-cycle/</url>
      
        <content type="html"><![CDATA[<p>Hype cycle直译过来是<code>炒作周期</code>的意思，是美国咨询公司Gartner从1995年开始每年发布的一个关于技术成熟度报告，从时间维度将技术的成熟度分成5个周期：<br><code>Innovation Trigger（萌芽期）</code> <code>Peak of Inflated Expectations（过热期）</code> <code>Trough of Disillusionment（低谷期）</code> <code>Slope of Enlightenment（复苏期）</code> <code>Plateau of Productivity（成熟期）</code>。</p><a id="more"></a><h1 id="阿马拉法则"><a href="#阿马拉法则" class="headerlink" title="阿马拉法则"></a>阿马拉法则</h1><p>阿马拉法则（Amara’s law）：人们常常高估技术的短期影响力，而低估技术的长期影响力。<br>Hype cycle可以看作是阿马拉法则的一种图像化描述。<br>Hype cycle可以看到不同技术随着时间的起起伏伏，也可以看到一项技术从萌芽到成熟的经过。</p><h1 id="2021年Garnter整理的3个主题"><a href="#2021年Garnter整理的3个主题" class="headerlink" title="2021年Garnter整理的3个主题"></a>2021年Garnter整理的3个主题</h1><p>新增了Nonfungible tokens (NFTs，不可替代代币), digital humans（数字人类） and physics-informed AI（基于物理的AI）。<br>很多主题的出发点都是由于新冠疫情大流行，导致的对非接触办公，灾害管理，信任的需求。</p><ul><li><p>Engineering trust（工程信任）<br>为了让 IT 团队有效地领导技术支持的业务转型，他们必须设计一个值得信赖的业务核心。信任需要安全性和可靠性，但也必须建立在可重复、经过验证、可扩展和创新的工作实践之上。这些实践为 IT 提供了一个弹性核心和基础，以交付业务价值。<br>例如，实时事件指挥中心作为一种服务，通过将来自不同来源的信息融合在一起，提高了组织的态势感知能力。通常，公共安全组织采用更多手动方式为应急指挥中心集成数据库、传感器、视频和通信系统。<br>属于工程信任桶的其他技术包括主权云、同态加密和数据网络结构（data fabric）。</p></li><li><p>Accelerating growth（加速增长）<br>有了值得信赖的业务核心，作为 IT 领导者和 CIO，您必须专注于推动组织增长的计划。这意味着平衡技术风险与业务风险偏好，并确保组织增长目标是近期和可实现的。<br>考虑数字人，这是人的数字孪生表示。这项技术为获得许可的角色提供了机会，可以实现新的收入流。它们可以表现为化身、人形机器人或对话式用户界面，如聊天机器人或智能扬声器。这些由 AI 驱动的交互式表示看起来像人，并以“类人”方式行事，并得到一系列技术的支持，包括对话 UI、CGI 和 3D 实时自主动画。<br>这些类人技术在人力资源培训、通信、医疗保健和客户服务中的用例比比皆是。COVID-19 推动了技术潜力，以实现无接触体验、消除社会孤立并为老年人提供护理。数字人出现在故事​​片中，在会议上表演并充当品牌影响者。除了不成熟的技术之外，社会障碍和道德问题也给数字人类带来了挑战，但业务影响和差异化的潜力正在推动一些组织追求这项技术。<br>其他加速增长的新兴技术包括多体验、行业云和量子机器学习。</p></li><li><p>Sculpting change（雕刻变化）<br>变化自然是破坏性的。关键是要认识到中断，并采用技术来塑造转变，并为原本可能是混乱的事物带来秩序。必须预测并影响变化以降低风险。<br>例如，基于物理的人工智能 (PIAI，physics-informed AI) 是可以构建物理和科学上合理的人工智能模型的人工智能。PIAI 作为一种对气候和环境问题等复杂系统进行建模的更有效选择而引起了特别的兴趣，鉴于其规模，对这些系统进行建模具有挑战性。<br>传统的数字 AI 模型适应性有限，因为它们无法在训练数据之外进行泛化。PIAI 为上下文和物理产品创建了更可靠的表示。COVID-19 凸显了过于脆弱的商业模式的脆弱性。PIAI 为系统运行的环境和条件创建了更灵活的表示，允许开发人员构建更具适应性的系统。它还可以创建更强大和适应性更强的业务模拟系统，这些系统在更广泛的场景中更加可靠。<br>该领域的其他新兴技术包括可组合应用程序、可组合网络和影响工程。</p></li></ul><h1 id="2020年Garnter整理的5个趋势"><a href="#2020年Garnter整理的5个趋势" class="headerlink" title="2020年Garnter整理的5个趋势"></a>2020年Garnter整理的5个趋势</h1><h2 id="Composite-architectures"><a href="#Composite-architectures" class="headerlink" title="Composite architectures"></a>Composite architectures</h2><p>In the face of rapid changes and decentralization, organizations need to shift to more agile, responsive architectures. A composite architecture is made up of packaged business capabilities built on a flexible data fabric. This allows the enterprise to respond to rapidly changing business needs.<br>The composable enterprise has four core principles: Modularity, efficiency, continuous improvement and adaptive innovation.</p><ul><li>composable enterprise</li><li>packaged business capabilities</li><li>data fabric</li><li>private 5G</li><li>embedded AI</li></ul><h2 id="Algorithmic-trust"><a href="#Algorithmic-trust" class="headerlink" title="Algorithmic trust"></a>Algorithmic trust</h2><p>Increased amounts of consumer data exposure, fake news and videos, and biased AI, have caused organizations to shift from trusting central authorities (government registrars, clearing houses) to trusting algorithms. Algorithmic trust models ensure the privacy and security of data, provenance of assets, and the identities of people and things.</p><ul><li>authenticated provenance</li><li>differential privacy</li><li>responsible AI </li><li>explainable AI</li></ul><h2 id="Beyond-silicon"><a href="#Beyond-silicon" class="headerlink" title="Beyond silicon"></a>Beyond silicon</h2><p>Moore’s Law predicts that the number of transistors in a dense integrated circuit would double every two years, but technology is quickly reaching the physical limits of silicon. This has led to the evolution of new advanced materials with enhanced capabilities designed to support smaller, faster technologies.</p><ul><li>DNA computing and storage</li><li>biodegradable sensors</li><li>carbon-based transistors</li></ul><h2 id="Formative-AI"><a href="#Formative-AI" class="headerlink" title="Formative AI"></a>Formative AI</h2><p>Formative AI is a type of AI capable of dynamically changing to respond to a situation. There are a variety of types, ranging from AI that can dynamically adapt over time to technologies that can generate novel models to solve specific problems.</p><ul><li>generative AI</li><li>composite AI</li><li>differential privacy</li><li>small data</li><li>self-supervising learning</li></ul><h2 id="Digital-me"><a href="#Digital-me" class="headerlink" title="Digital me"></a>Digital me</h2><p>From health passports to digital twins, as technology integrates with people, there are more opportunities to create digital versions of ourselves. These digital models represent humans in both the real and virtual worlds.</p><ul><li>health passports</li><li>digital twins</li><li>BMI(bidirectional brain-machine interfaces)    </li></ul><h1 id="2019年Garnter整理的5个趋势"><a href="#2019年Garnter整理的5个趋势" class="headerlink" title="2019年Garnter整理的5个趋势"></a>2019年Garnter整理的5个趋势</h1><img src="/2017/09/21/hype-cycle/Trends_in_the_Emerging_Tech_Hype_Cycle_2019.png" class=""> <h1 id="2018年Garnter整理的5个趋势"><a href="#2018年Garnter整理的5个趋势" class="headerlink" title="2018年Garnter整理的5个趋势"></a>2018年Garnter整理的5个趋势</h1><img src="/2017/09/21/hype-cycle/Trends_in_the_Emerging_Tech_Hype_Cycle_2018.png" class=""> <h1 id="历年的Garnter-Hype-Cycle图："><a href="#历年的Garnter-Hype-Cycle图：" class="headerlink" title="历年的Garnter Hype Cycle图："></a>历年的Garnter Hype Cycle图：</h1><img src="/2017/09/21/hype-cycle/Emerging-Technology-Hype-Cycle-for-2021.png" class=""><img src="/2017/09/21/hype-cycle/Emerging-Technology-Hype-Cycle-for-2020.png" class=""><img src="/2017/09/21/hype-cycle/Emerging-Technology-Hype-Cycle-for-2019.png" class=""><img src="/2017/09/21/hype-cycle/Emerging-Technology-Hype-Cycle-for-2018.png" class=""> <img src="/2017/09/21/hype-cycle/Emerging-Technology-Hype-Cycle-for-2017.jpg" class="">  <img src="/2017/09/21/hype-cycle/Emerging-Technology-Hype-Cycle-for-2016.jpg" class="">  <img src="/2017/09/21/hype-cycle/Emerging-Technology-Hype-Cycle-for-2015.png" class=""><img src="/2017/09/21/hype-cycle/Emerging-Technology-Hype-Cycle-for-2014.jpg" class=""><img src="/2017/09/21/hype-cycle/Emerging-Technology-Hype-Cycle-for-2013.png" class=""><img src="/2017/09/21/hype-cycle/Emerging-Technology-Hype-Cycle-for-2012.png" class=""><img src="/2017/09/21/hype-cycle/Emerging-Technology-Hype-Cycle-for-2011.gif" class=""><img src="/2017/09/21/hype-cycle/Emerging-Technology-Hype-Cycle-for-2010.png" class=""><img src="/2017/09/21/hype-cycle/Emerging-Technology-Hype-Cycle-for-2009.jpeg" class=""><p>References:</p><ol><li><a href="http://www.gartner.com/technology/research/methodologies/hype-cycle.jsp" target="_blank" rel="noopener">Gartner hype clcle</a></li><li><a href="https://en.wikipedia.org/wiki/Hype_cycle" target="_blank" rel="noopener">wiki hype cycle</a></li><li><a href="https://spotlessdata.com/amaras-law" target="_blank" rel="noopener">AMARA’S LAW</a></li><li><a href="https://www.gartner.com/smarterwithgartner/5-trends-emerge-in-gartner-hype-cycle-for-emerging-technologies-2018/" target="_blank" rel="noopener">Hype Cycle for Emerging Technologies, 2018</a></li><li><a href="https://www.gartner.com/smarterwithgartner/5-trends-appear-on-the-gartner-hype-cycle-for-emerging-technologies-2019/" target="_blank" rel="noopener">5 Trends Appear on the Gartner Hype Cycle for Emerging Technologies, 2019</a></li><li><a href="https://www.gartner.com/smarterwithgartner/5-trends-drive-the-gartner-hype-cycle-for-emerging-technologies-2020/" target="_blank" rel="noopener">5 Trends Drive the Gartner Hype Cycle for Emerging Technologies, 2020</a></li><li><a href="https://www.gartner.com/smarterwithgartner/3-themes-surface-in-the-2021-hype-cycle-for-emerging-technologies/" target="_blank" rel="noopener">3 Themes Surface in the 2021 Hype Cycle for Emerging Technologies</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> technical </category>
          
      </categories>
      
      
        <tags>
            
            <tag> technical </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>程序在哪里执行？</title>
      <link href="/2017/05/30/where-program-execute-in/"/>
      <url>/2017/05/30/where-program-execute-in/</url>
      
        <content type="html"><![CDATA[<p>先上结论：计算机程序可以在ROM或者RAM里执行。</p><a id="more"></a><p>摘自RL78芯片datasheet：</p><blockquote><p>The RL78/F13 and RL78/F14 incorporate the flash memory to which a program can be written, erased, and overwritten. The flash memory includes the “code flash memory”, in which programs can be executed, and the “data flash memory”, an area for storing data.</p></blockquote><p>计算机设备，包括单片机，PC，DSP，FPGA等不同类型的电子设备，可以从ROM中执行程序（试想系统刚上电，也只有ROM中可以读取指令）。初始化完成后，为了提高执行速度可以将ROM中存储的程序到RAM中，再从RAM中执行。</p><p>由于RAM执行速度（～GHz）相较于NorFlash的XIP执行速度（～100MHz）快很多，所以如果RAM空间足够的情况下，从RAM执行程序速度更快。<br>但是由于成本原因，NorFlash在单片机（code flash一般从几K到几M大小）中作为存储程序的主存储器也是很常见的。</p><p>NorFlash支持XIP（<a href="https://en.wikipedia.org/wiki/Execute_in_place" target="_blank" rel="noopener">eXecute In Place</a>），CPU直接从NorFlash取指令、译码、执行。<br>NorFlash更像RAM，使用标准的存储接口，具有独立的地址总线和数据总线，支持随机访问，地址总线与数据总线共用；而NandFlash更像一个硬盘，需要特殊的驱动来访问，地址总线和数据总线是与I/O总线共享，只允许按页访问，。<br>NorFlash直接执行的设备，还是需要RAM的，因为NorFlash中只能存储不可变的指令或数据，运行过程中可变的数据还是需要存储在RAM中。<br>NorFlash的特点(线性存储空间，100%无坏点，随机访问)决定了支持XIP。<br>NorFlash的XIP最快执行速度～100MHz。<br>NorFlash的读取速度（～100ns）比NandFlash（us）快，NandFlash的擦除和写入速度比NorFlash快很多。</p><p>NandFlash只能保证98%无坏块（bad block），需要坏块处理；会有位翻转（bit-flipping）问题，需要EDC（Error Detection Code）/ECC（Error Correction Code）来检错纠错。</p><img src="/2017/05/30/where-program-execute-in/comparison_NOR_NAND.png" class=""><ul><li>SRAM(Static Random Access Memory) - cache/register - faster but more expensive</li><li>DRAM(Dynamic Random Access Memory) - Main Memory - slower but cheaper<br>动态随机存取存储器，最为常见的系统内存。DRAM 只能将数据保持很短的时间。为了保持数据，DRAM使用电容存储，所以必须隔一段时间刷新（refresh）一次，如果存储单元没有被刷新，存储的信息就会丢失。 （关机就会丢失数据）<ul><li>SDRAM(Synchronous Dynamic Random Access Memory):<br>同步动态随机存储器，同步是指内存工作需要同步时钟，内部的命令的发送与数据的传输都以它为基准.</li><li>DDR(Dual Data Rate) SDRAM:双倍速率同步动态随机存储器</li></ul></li><li>Flash <ul><li>NorFlash</li><li>NandFlash <ul><li>SD（Secure Digital）卡</li><li>eMMC（embedded multi-media card）</li><li>SSD（Solid State Disk）</li><li>UFS（Universal Flash Storage）</li></ul></li></ul></li></ul><p>References：</p><ol><li><a href="https://en.wikipedia.org/wiki/Flash_memory" target="_blank" rel="noopener">Flash Memory</a></li><li><a href="https://en.wikipedia.org/wiki/Execute_in_place" target="_blank" rel="noopener">Execute In Place</a></li><li><a href="http://www.blog.chinaunix.net/uid-26404697-id-3152290.html" target="_blank" rel="noopener">norflash芯片内执行（XIP） </a></li><li><a href="http://aturing.umcs.maine.edu/~meadow/courses/cos335/Toshiba%20NAND_vs_NOR_Flash_Memory_Technology_Overviewt.pdf" target="_blank" rel="noopener">Toshiba NAND vs. NOR Flash Memory Technology Overview</a></li><li><a href="https://focus.ti.com/pdfs/omap/diskonchipvsnor.pdf" target="_blank" rel="noopener">Two Flash Technologies Compared: NOR vs. NAND Two Flash Technologies Compared: NOR vs. NAND </a></li><li><a href="https://superuser.com/questions/163425/does-ram-access-slow-down-cpu" target="_blank" rel="noopener">Does RAM access slow-down CPU?</a></li><li><a href="https://electronics.stackexchange.com/questions/102764/flash-and-ram-code-execution" target="_blank" rel="noopener">flash-and-ram-code-execution</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> technical </category>
          
      </categories>
      
      
        <tags>
            
            <tag> software </tag>
            
            <tag> technical </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>软件工程的事实与谬误 by Robert L·Glass</title>
      <link href="/2017/05/12/reading-notes-3-Facts-and-fallacies-of-software-engineering/"/>
      <url>/2017/05/12/reading-notes-3-Facts-and-fallacies-of-software-engineering/</url>
      
        <content type="html"><![CDATA[<img src="/2017/05/12/reading-notes-3-Facts-and-fallacies-of-software-engineering/cover.jpg" class=""><p>软件工程的55个事实和5+5个谬误。<br>划重点：</p><ul><li>软件过程和软件产品的<code>复杂性</code>决定了我们在该领域的许多认识和行为。复杂性不可避免，我们不应该与之对立，而应该学会适应它。</li><li>在软件领域，糟糕的<code>估算</code>和由此带来的<code>时间表压力</code>一直在迫害我们。</li><li>在软件管理者和技术人员之间有<code>隔阂</code>。</li><li><code>鼓吹</code>和<code>通用</code>的观念影响了我们形成专注于有力的、明智的项目方案的能力。</li></ul><a id="more"></a><h1 id="管理"><a href="#管理" class="headerlink" title="管理"></a>管理</h1><p>处于管理最底层且专长于干活的人通常比其他任何人有更大的威力。</p><h2 id="人员"><a href="#人员" class="headerlink" title="人员"></a>人员</h2><p>1.<code>在软件开发中，最重要的因素不是程序员采用的工具和技术，而是程序员自身的质量。</code></p><p>CMM假设良好的过程会得到良好的软件。</p><p>Q：假如你的生命依靠某一软件，那么，关于该软件你最想知道什么？ A：与其他事情相比，我最想知道写该软件的人，这人一定才华横溢，严谨认真，狂热追求软件完美并按照需求运作。其他对我来说都是次要的。</p><p>2.<code>对“个体差异”的研究表明，最好的程序员要比最差的程序员强28倍之多，即使他们的报酬不同，优秀程序员也是软件业中最廉价的劳动力。</code></p><p>3.<code>给延期的项目增加人手会使项目进一步延期。</code><br>    Brooks法则，出自《人月神话》</p><p>4.<code>工作环境对工作效率和产品质量具有深刻影响。</code><br>    你必须找到优秀的人员并善待他们，特别是给她们提供舒适的环境。</p><h2 id="工具和技术"><a href="#工具和技术" class="headerlink" title="工具和技术"></a>工具和技术</h2><p>5.<code>夸大宣传是软件的瘟疫，多数软件工具对于效率和质量的提高幅度仅为5%～35%，但总有人反复说提高幅度是“数量级”的。</code></p><p>6.<code>在学习新工具或者新技术的初期，程序员的工作效率和产品质量都会下降。只有克服了学习曲线之后，才可能得到实质性的收益。只有满足下面两个条件，采用新工具或者新技术才有意义：（a）新东西确实有用；（b）要想获得真正的收益，必须耐心等待。</code></p><p>7.<code>软件开发者对于工具说的多，评估的少，买的多，用的少。</code></p><h2 id="估算"><a href="#估算" class="headerlink" title="估算"></a>估算</h2><p>8.<code>项目失控的两个最主要的原因之一是糟糕的估算（另一个原因见事实23）。</code></p><p>估算是确定项目成本和开发时间表的过程。</p><p>依靠专家—无论专家曾经做过什么项目，无论这些项目与当前项目何等相似，专家都不可能做出合理的推断（软件项目的重要特征之一是各个项目所解决的问题差异很大。）</p><p>依靠估算算法（复杂算法，Line of Code，Function Point）—采用一个假想的项目，按照各种建议算法输入相关数据，得到的结果差异很大（2～8倍）。</p><p>9.<code>许多估算是在软件生命周期开始时完成的。后来，我们才认识到在需求定义之前，即理解问题之前进行项目估算是不正确的；也就是说，估算时机是错误的。</code></p><p>10.<code>许多软件项目都是由高层管理人员或者营销人员来估算，而不是由真正构建软件的人或者他们的主管来进行估算。因此，估算软件的人员是错误的。</code></p><p>高级人员和营销人员搞“政治”预测；软件人员做“理性”预测。</p><p>许多（70%）估算是由与“人事部门”相关的人员完成的，很少（4%）由项目团队进行估算。</p><p>11.<code>软件估算很少根据项目进度进行调整。因此，这些估算通常是错误的人在错误的时间得出的错误结果。</code></p><p>12.<code>因为估算的数据是如此糟糕，所以在软件项目不能达到估算目标时，不应该再考虑估算。但是无论如何，每个人都在考虑它。</code></p><p>极限编程建议客户或者用户先确定成本、时间表、功能和质量这四个因素中的前三个，软件开发者再确定第四个。</p><p>我要求参与者完成一个小任务。我有意增加他的工作量，使工作时间不足。我希望参与者尽力正确地完成整体工作，这样他们会因为时间不够而得出一个未完成的作品。事实并非如此，这些参与者按照不可能的时间表勉强完成了工作。他们的作品粗糙而虚假，看起来完整但根本不可用。这说明人们为了满足不可能的时间表，以至于愿意为此牺牲作品的完整性和质量。</p><p>13.<code>在管理者和程序员之间存在隔阂。对于一个未满足估算目标的项目的调查表明：从管理者看来这是一个失败的项目，而在技术人员看来却是最成功的项目。</code></p><p>根本就没有做过估计的项目进展速度最快，其次是技术人员做估计得项目，最糟糕的是由管理人员做估计。</p><p>在工作效率和驾驭感之间有非常强的关联性。也就是说，如果程序员感觉到能驾驭自己的结局，那么他们的工作效率会高很多。换句话说，高度控制的管理并不一定会得到最好的或者效率最高的项目。</p><p>14.<code>对于可行性调研的回答几乎总是“可行”。</code></p><h2 id="复用"><a href="#复用" class="headerlink" title="复用"></a>复用</h2><p>15.<code>小规模的复用（子程序库）开始于50多年以前，这个问题已经得到很好的解决。</code></p><p>16.<code>虽然每个人都认为大规模服用（组件）非常重要、非常急需，但是这个问题至今还没有基本解决。</code></p><p>作者认为此问题无解，根源在于软件的多样性。</p><p>17.<code>大规模复用最好适用于相关的系统，也就是依赖于具体应用领域，这样就限制了它的应用范围。</code></p><p>在一个更小的特定应用领域中采用大规模复用的方法，成功的概率就比较大。而在跨项目和跨应用领域中采用大规模复用方法的成功概率很小。（McBreen 2002）。</p><p>18.<code>有关复用问题，有两个“三倍法则”：（a）构建可复用的组件比使用组件难三倍；（b）在将组件收录到复用库并成为通用组件之前，应该在三个不同的应用中尝试使用该组件。</code></p><p>19.<code>修改复用的代码特别容易引起错误。如果一个组件中超过20%～25%的代码需要修改，那么重新实现的效率会更高。</code></p><p>20.<code>设计模式复用是解决代码复用中固有问题的一种方法。</code></p><p>设计模式是对反复出现的问题以及该问题的解决方案的一种描述。</p><p>设计模式源于实践，而不是源于理论。</p><h2 id="复杂性"><a href="#复杂性" class="headerlink" title="复杂性"></a>复杂性</h2><p>21.<strong><code>问题的复杂性每增加25%，解决方案的复杂性就增加100%。这不是一个可改变的条件（即使人们都努力降低复杂性），而是客观存在的。</code></strong></p><p>22.<code>80%的软件工作是智力活动。相当大的比例是创造性的活动。很少是文书性的工作。</code></p><h1 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h1><p>生命周期（software life cycle）开始于<code>需求</code>的定义和开发，在这一阶段，定义和分析“什么”问题。接着是<code>设计</code>，在这一阶段确定如何解决问题。然后是<code>编码</code>，将设计转化为计算机上可运行的代码。随后，因为整个过程中极易出现错误，所以进行<code>错误消除</code>。最终，完成了全部测试之后，软件产品交付使用，便开始了<code>维护</code>.<br>不同的步骤形成了瀑布模型，螺旋模型等，这些模型只是将步骤的顺序调整，需求、设计、编码、错误消除和维护，这些步骤都需要完成。</p><h2 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h2><p>23.<code>导致项目失控的两个最常见原因之一是不稳定的需求（另一个见事实8所说的项目估算失误）。</code></p><p>24.<code>在产品完成时修订需求错误的代价最大，在开发早期修订需求错误的代价最小。</code></p><p>错误在软件的存留时间越长，修订的代价越大。</p><p>怎么做？</p><ul><li>计算机学者会坚持采用格式化的规格说明书技术；</li><li>开发者则将复审放在首位；</li><li>测试和质量人员要求有可测试的需求，并建立早期测试用例；</li><li>系统分析员可能会要求采用建模的方法；</li><li>极限编程者提倡在开发团队中吸纳一个客户代表。</li></ul><p>25.<code>遗漏需求是最难修订的需求错误。</code></p><p>最持久的软件错误是遗漏逻辑错误，它可以逃过软件测试过程，进入发布的产品中。遗漏需求会导致遗漏逻辑。</p><h2 id="设计"><a href="#设计" class="headerlink" title="设计"></a>设计</h2><p>26.<strong><code>从需求转入设计时，因为制定方案过程的复杂性，会激增出大量的衍生需求（针对一种特定设计方案的需求）。设计需求时原始需求的50倍之多。</code></strong></p><p>虽然大家都认为需求追溯很有必要，但是需求扩充在一定程度上影响了需求追溯。需求追溯是指在产品的各个阶段的制品中追溯原始需求。</p><p>27.<code>对于一个软件问题，通常不存在唯一的最佳设计方案。</code></p><blockquote><p>在一个房间中坐满了顶级的软件设计人员，如果其中任意两个人达成一致，那就可以通过了。—Bill Curtis</p></blockquote><p>28.<code>设计是一个复杂的、迭代的过程。最初的设计方案可能是错误的，当然也不是最优的。</code></p><p>“从难点开始”。</p><p>设计方案可能是启发式的、试验性的。</p><p>复杂的设计过程通常不能得出最佳的结果，但是我们必须尽力寻找一个“令人满意的”方案。找到最佳设计方案不可能或者代价太高，而“令人满意的”方案（而不是最佳方案）可以满足优秀设计标准，是值得（冒险）选择的解决问题的方法。</p><h2 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h2><p>29.<code>从设计转到编码阶段时，设计者按照自己掌握的水平，已经将问题分解为“原语”。如果编程者和设计者不是同一个人，二者的“原语”不吻合，就会出问题。</code></p><p>如果设计者的原语层次比编码者高，编码者无法将此设计作为起点。因此，编码者在真正编码之前需要花费时间完成额外的设计，填补中间的层次。</p><p>不要轻易将设计工作和编码工作分开。</p><p>30.<code>COBOL是一种糟糕的语言，但是其他的（用于商业数据处理的）语言也同样糟糕。</code></p><p>31.<code>错误消除是软件生命周期中最耗时的阶段。</code></p><p>对于许多软件产品而言，错误消除所用的时间比汇集需求、进行设计或编码都长，通常长一倍。</p><p>“需求-分析-编码-错误消除”所占比例：20-20-20-40 或者 25-25-20-30。</p><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>32.<code>普通程序员认为已经彻底测试过的软件其实只执行了55%～60%的逻辑路径。采用覆盖分析器等自动工具，可以将上述比例提高到85%～90，几乎不可能测试软件中100%的逻辑路径。</code></p><ul><li>需求驱动测试（测试是否满足了所有需求）</li><li>结构驱动测试（测试已构建的软件的所有组成部分是否正确运行）</li><li>统计驱动测试（随机测试确定软件执行的时间和结果）</li><li>风险驱动测试（测试确定是否已经消除了最主要的风险）</li></ul><p>由于软件产品固有的复杂性，任何测试都不会是彻底的测试。因此，（a）测试工作实际上是一种折衷的活动，关键是作出适当的折衷选择；（b）许多重要软件的发行版中存在错误，这不足为奇（追求无瑕疵软件的想法是天真的）。</p><p>33.<strong><code>即使测试覆盖有可能达到100%，这种测试也不够。大约35%的错误是源于逻辑路径的缺失，还有40%的错误源于执行特定的路径组合。不可能实现100%的覆盖。</code></strong></p><p>为了构建成功的、可靠的软件，需要综合采用多种错误消除方法，通常是越多越好。对于这个问题，没有神奇魔法。</p><p>34.<code>没有工具就无法做好错误消除工作。人们常用调试器，很少使用覆盖分析器等其他工具。</code></p><p>35.<code>自动测试很少，也就是说有些测试可以也应该自动化，但是有许多测试任务不能自动完成。</code></p><p>36.<code>程序员在程序中嵌入测试代码、目标代码中的编译参数等方法，都是测试工具的重要补充。</code></p><h2 id="评审和检查"><a href="#评审和检查" class="headerlink" title="评审和检查"></a>评审和检查</h2><p>37.<code>在运行第一个测试用例之前进行严格审查可以消除软件产品中多大90%的错误。</code></p><p>要找到同一个错误，审查的成本低于测试的成本。</p><p>在软件生命周期各个阶段的产品都可以审查。</p><p>决定检查成败的关键不是采用形式化的过程，而是团队成员在审查过程中的严格程度和注意力集中程度。</p><p>38.<code>虽然严格审查有很多优点，但是不能也不应该代替测试。</code></p><p>39.<code>通常认为，事后评审对于了解客户的满意程度和改进过程都很重要。但是很多软件公司不开展事后评审。</code></p><p>软件业的智慧一直没有增长。</p><p>我们在疯狂追求新东西时，往往抛弃了许多旧东西（例如极限编程和敏捷开发等最新的软件方法倾向于拒绝老方法中积累的智慧）。</p><p>软件业一直忙于加速工作，以致于没有时间考虑如何做得更好，而不只是更快。</p><p>40.<code>同行评审涉及技术和社会两方面问题，忽视任何一方面都会产生严重的灾难。</code></p><p>在评审过程中，参与者应该尽力熟知当前软件中的每一个决定和细节。</p><p>评审者必须从评审对象作者的角度来处理评审对象，而不是按照自己的方式，所以评审非常难。许多人穿上别人的鞋都寸步难行。</p><p>大多数人在软件产品中投入大量的情感和智力，因此如果被别人评头论足将会非常敏感。</p><p>禁止经理参加评审（他们倾向于评审开发者，而不是评审产品）；<br>禁止没有准备的人参加评审（他们会使有准备着失望，还会偏离主题）；<br>开发者不能作为评审主管（缩小可能涉及到开发者的自我因素）。</p><h2 id="维护"><a href="#维护" class="headerlink" title="维护"></a>维护</h2><p>41.<strong><code>维护开支通常占软件成本的40%～80%（平均为60%）。因此，维护可能是软件生命周期中最重要的阶段。</code></strong></p><p>软件维护就是在发现错误时进行修订，并在必要时做修改。</p><blockquote><p> 古老的硬件会被抛弃，古老的软件每天都在使用。</p></blockquote><p>42.<strong><code>增强功能大约占软件维护成本的60%，错误更正仅占17%。因此，软件维护的主体是在旧软件中加入新功能，而不是更正错误。</code></strong></p><p>60%: 改进，增强功能<br>18%: 适应性维护，即在改变工作环境时保证软件正常运行，如再另一台计算机上运行、在另一种操作系统上运行、与新的软件包交互、引入新设备等。<br>17%: 错误更正<br>5%:  为了使软件更容易维护所作出的维护工作（预防性维护Preventive Maintenance，重构refactoring）</p><p><strong>60/60规则：60%的软件成本用于软件维护，维护成本60%用于功能增强。因此，增强旧软件是个大问题。</strong></p><p>43.<code>维护是解决方案，而不是问题。</code></p><p>假设软件维护只是修正错误，那么软件维护才是个问题。</p><p>只有维护才能解决在软件中独有的一个问题，即“我们已经构建了一个东西，但是现在需要一个稍微不同的东西。”</p><p>44.<code>比较软件开发和软件维护中的工作，除了维护中“理解现有的产品”这项工作之外，其他工作都一样。这项工作占据了大约30%的维护时间，是主要的维护活动，因此可以说维护比开发更难。</code></p><p>45.<strong><code>更好的软件工程开发导致更多而不是更少的维护。</code></strong></p><p>与构建糟糕的系统相比，构建良好的系统更容易实现功能增强，这样人们对他们的修改更多，导致这些系统的维护时间更长。</p><p>如果我们把维护活动视为一种方案，那么维护越多越好。假如我们执意认为维护是一个问题，那么就无法将维护活动的增加视为一件好事。</p><h1 id="质量"><a href="#质量" class="headerlink" title="质量"></a>质量</h1><h2 id="质量-1"><a href="#质量-1" class="headerlink" title="质量"></a>质量</h2><p>46.<code>质量是一组属性的组合。</code></p><ol><li><strong>可移植性</strong>是指生成易于在不同平台之间移植的软件产品。</li><li><strong>可靠性</strong>是指软件产品满足预期的要求，值得信赖。</li><li><strong>效率</strong>是指软件产品在运行时间和空间消耗上的经济性。</li><li><strong>人类工程学</strong>(又称为可用性)是指软件产品用起来既容易又舒服。</li><li><strong>可测试性</strong>是指软件产品易于测试。</li><li><strong>易理解性</strong>是指维护者易于理解软件产品。</li><li><strong>可修改性</strong>是指维护者易于修改软件产品。</li></ol><p>47.<code>软件质量不是用户满意、满足需求、满足成本和时间表目标，或者可靠性。</code></p><blockquote><p>用户满意 = 满足需求 + 按时提交 + 适当的成本 + 产品质量</p></blockquote><h2 id="可靠性"><a href="#可靠性" class="headerlink" title="可靠性"></a>可靠性</h2><ol start="48"><li><code>绝大多数程序员都会犯某些错误。</code></li></ol><p>49.<code>错误通畅聚集在一起。</code></p><blockquote><p>半数的错误发现在15%的模块中。</p></blockquote><p>50.<code>没有唯一最好的消除软件错误的方法。</code></p><p>51.<code>总会有残存的错误。我们的目标应该是消除严重错误，或者使之最少。</code></p><p>一项2002年的研究：两个采用完全不同软件开发方法（一个团队使用传统方法，处于CMM4；另一个团队采用前卫的形式化方法）的团队都不能构建一个可靠性达到98%的简单产品。</p><p>关于残存错误：</p><ul><li>有经验的个人实践可以使错误的发生减少75%</li><li>大约40%～50%的用户程序包含着较显著的缺陷。</li><li>你不会发现所有的bug<br>关于残存的严重错误：</li><li>小于10%的错误导致90%故障的发生。</li></ul><h2 id="效率"><a href="#效率" class="headerlink" title="效率"></a>效率</h2><p>52.<code>效率主要来自于优秀的设计，而不是优秀的编码。</code></p><p>数据结构是增加逻辑复杂性和改善数据访问效率之间的折衷。因此在设计阶段应认真选择正确的数据结构、文件结构或者数据库访问方法。</p><p>在设计阶段对效率的细微考虑比漂亮的编码更有意义。</p><p>53.<code>高级语言（High-order language，HOL）代码配合适当的编译器优化，大约可以达到汇编语言90%的效率。对于一些复杂的现代体系结构，效率更高。</code></p><p>54.<code>在空间和时间之前存在折衷。通常，改进一方面会降低另一方面。</code></p><p>三角函数：函数值列表，空间换时间。<br>Java: 编译后的字节码比机器码紧凑，但是时间效率很低；JIT（Just-In-Time）编译器可以将字节码编译为机器码。</p><h1 id="研究"><a href="#研究" class="headerlink" title="研究"></a>研究</h1><p>55.<code>许多软件研究者不是做调查，而是鼓吹。因此，（a）有些概念比鼓吹的糟糕、更少；（b）缺少有助于确定这些概念真实价值的评估性研究。</code></p><h1 id="谬误"><a href="#谬误" class="headerlink" title="谬误"></a>谬误</h1><p>1.<code>你不能管理自己无法度量的东西。</code></p><p>优秀的知识管理者趋向于定性度量，而非定量度量。</p><p>实际情况是度量对于软件管理非常重要，谬误存在于具体进行度量的手段和过程中。</p><p>2.<code>可以管理软件产品的质量。</code></p><p>所有的质量属性都有很深刻的技术内容，只有技术人员才能处理这些技术内容。</p><p>3.<code>可以，也应该“忘我”地编程。</code></p><p>我们不可能为了满足别人的需求来抑制自己的需求，我们也同样不太可能为了团队的利益而抑制自我。一个有效运行的系统必须承认人的个性，也必须在这些个性的范围内运作。</p><p>4.<code>工具和技术是通用（one site fits all）的。</code></p><p>5.<code>软件需要更多的方法论。</code></p><p>6.<code>要估算成本和时间表，应首先估算代码行数。</code></p><p>7.<code>随机测试输入是优化测试的好方法。</code></p><p>8.<code>如果有了足够多的关注，所有的bug都显而易见。</code></p><ul><li>错误的深浅与查找错误的人数没有关系。</li><li>有关审查的研究表明：增加审查人数，发现错误数量的增加幅度会迅速减少。</li><li>没有数据表明这句话的正确性。</li></ul><p>9.<code>估计将来的维护成本和做出产品更新的决策需要参考过去的成本数据。</code></p><p>10.<code>教别人编程的方法是教别人写程序。</code></p><p>就像写作一样，要先读后写。</p><ul><li>要教授读代码，我们必须选择所读的范例。</li><li>要教授读代码，需要指导性的教科书，但是却没有。都是关于如何写代码的。</li><li>标准课程教授先写后读，形成了制度。</li><li>我们在软件中需要读代码的唯一时机是维护。维护很不受欢迎，理由之一是读代码是一项非常难的活动。发挥你的创造力写新代码比读别人的老代码有意思得多。</li></ul><blockquote><p>成为程序员最好的方法是写程序，研究别人所写的优秀的程序。。。我到计算机科学中心的垃圾桶里找到了他们操作系统的列表。 —Bill Gates</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> reading-notes </category>
          
      </categories>
      
      
        <tags>
            
            <tag> technical </tag>
            
            <tag> reading-notes </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>一线架构师实践指南 by 温昱</title>
      <link href="/2017/05/05/reading-notes-2-practice-guide-for-frontline-architects/"/>
      <url>/2017/05/05/reading-notes-2-practice-guide-for-frontline-architects/</url>
      
        <content type="html"><![CDATA[<img src="/2017/05/05/reading-notes-2-practice-guide-for-frontline-architects/cover.png" class=""><p>本书从架构师实际困惑出发，提出一套具有可操作性的方法体系来解决这些问题，作者很擅长用图例、表格来阐述观点，让人很受用。</p><a id="more"></a><p>思维导图：</p><img src="/2017/05/05/reading-notes-2-practice-guide-for-frontline-architects/%E4%B8%80%E7%BA%BF%E6%9E%B6%E6%9E%84%E5%B8%88%E5%AE%9E%E8%B7%B5%E6%8C%87%E5%8D%97.png" class="">]]></content>
      
      
      <categories>
          
          <category> reading-notes </category>
          
      </categories>
      
      
        <tags>
            
            <tag> technical </tag>
            
            <tag> reading-notes </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Rust语言(4):格式化输出</title>
      <link href="/2017/03/19/Rust-lang-4-std-fmt/"/>
      <url>/2017/03/19/Rust-lang-4-std-fmt/</url>
      
        <content type="html"><![CDATA[<p>本文对比Rust与Python语言的格式化输出。</p><a id="more"></a><h1 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h1><p>本文所用Rust版本为<code>1.14.0</code>，Python为<code>2.7.12</code>。<br>可以使用在线编译调试工具来测试本文所举示例代码。<br><a href="https://play.rust-lang.org/" target="_blank" rel="noopener">Rust playground</a><br><a href="http://ideone.com/" target="_blank" rel="noopener">Python playground</a></p><h1 id="basic-usage"><a href="#basic-usage" class="headerlink" title="basic usage"></a>basic usage</h1><p>Rust与Python都可以用<code>{}</code>来表示将要被替换变量的占位符。</p><h2 id="Rust"><a href="#Rust" class="headerlink" title="Rust"></a>Rust</h2><ul><li><code>print!</code>将格式化文本输出到控制台，不带换行符。</li><li><code>println!</code>将格式化文本输出到控制到，末尾加一个换行符。</li><li><code>format!</code>将格式化文本输出到字符串。</li></ul><figure class="highlight rust"><figcaption><span>Rust</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print!</span>(<span class="string">"&#123;&#125;.print is output to console w/o newline."</span>, <span class="number">1</span>);</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">"Continue..."</span>);</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">"\n"</span>);</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">"&#123;&#125;.println is string to console w/ newline."</span>, <span class="number">2</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="built_in">str</span> = <span class="built_in">format!</span>(<span class="string">"&#123;&#125;.format is output to a string."</span>, <span class="number">3</span>);</span><br><span class="line"><span class="built_in">assert_eq!</span>(<span class="built_in">str</span>, <span class="string">"3.format is output to a string."</span>);</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">"&#123;&#125;"</span>, <span class="built_in">str</span>);</span><br></pre></td></tr></table></figure><h2 id="Python2-7"><a href="#Python2-7" class="headerlink" title="Python2.7"></a>Python2.7</h2><ul><li><code>print</code>来打印文本到控制台，末尾加一个换行符。</li><li><code>str.format()</code>将格式化文本输出到字符串。</li></ul><figure class="highlight python"><figcaption><span>Python2.7</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"&#123;&#125; world"</span>.format(<span class="string">"Hello"</span>))</span><br></pre></td></tr></table></figure><h1 id="with-arguments"><a href="#with-arguments" class="headerlink" title="with arguments"></a>with arguments</h1><ul><li>more arguments</li><li>positional arguments</li><li>named arguments</li></ul><figure class="highlight rust"><figcaption><span>Rust</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">println!</span>(<span class="string">"&#123;&#125;, &#123;&#125;"</span>, <span class="string">"Hello"</span>, <span class="string">"world"</span>);</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">"&#123;0&#125;, this is &#123;1&#125;. &#123;1&#125;, this is &#123;0&#125;."</span>, <span class="string">"Hellen"</span>, <span class="string">"Tom"</span>);</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">"&#123;subject&#125; &#123;verb&#125; &#123;object&#125;"</span>, object=<span class="string">"the lazy dog"</span>, subject=<span class="string">"the quick brwon fox"</span>, verb=<span class="string">"jumps over"</span>);</span><br></pre></td></tr></table></figure><figure class="highlight python"><figcaption><span>Python2.7</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"&#123;&#125;,&#123;&#125;"</span>.format(<span class="string">"hello"</span>, <span class="string">"world"</span>))</span><br><span class="line">print(<span class="string">"&#123;0&#125;, this is &#123;1&#125;. &#123;1&#125;, this is &#123;0&#125;."</span>.format(<span class="string">"Hellen"</span>, <span class="string">"Tom"</span>))</span><br><span class="line">print(<span class="string">"&#123;subject&#125; &#123;verb&#125; &#123;object&#125;"</span>.format(object=<span class="string">"the lazy dog"</span>, subject=<span class="string">"the quick brown fox"</span>, verb=<span class="string">"jumps over"</span>))</span><br></pre></td></tr></table></figure><h1 id="special-format"><a href="#special-format" class="headerlink" title="special format"></a>special format</h1><table><thead><tr><th align="center">*      数字    *</th><th align="center">* Rust格式     *</th><th align="center">* Python格式      *</th><th align="center">*          输出      *</th><th align="center">*            描述          *</th></tr></thead><tbody><tr><td align="center">3.1415926</td><td align="center">{:.2}</td><td align="center">{:.2f}</td><td align="center">3.14</td><td align="center">保留小数点后两位</td></tr><tr><td align="center">3.1415926</td><td align="center">{:+.2}</td><td align="center">{:+.2f}</td><td align="center">+3.14</td><td align="center">带符号保留小数点后两位</td></tr><tr><td align="center">-1</td><td align="center">{:+.2}</td><td align="center">{:+.2f}</td><td align="center">-1(R)/-1.00(P)</td><td align="center">带符号保留小数点后两位</td></tr><tr><td align="center">-1.0</td><td align="center">{:+.2}</td><td align="center">{:+.2f}</td><td align="center">-1.00</td><td align="center">带符号保留小数点后两位</td></tr><tr><td align="center">2.71828</td><td align="center">{:.0}}</td><td align="center">{:.0f}</td><td align="center">3</td><td align="center">不带小数</td></tr><tr><td align="center">5</td><td align="center">{:0&gt;2}/{:02}</td><td align="center">{:0&gt;2d}/{:02d}</td><td align="center">05</td><td align="center">数字补0 (填充左边, 宽度为2)</td></tr><tr><td align="center">5</td><td align="center">{:x^10}</td><td align="center">{:x^10d}</td><td align="center">xxxx5xxxxx</td><td align="center">居中对齐</td></tr><tr><td align="center">5</td><td align="center">{:x&lt;4}</td><td align="center">{:x&lt;4d}</td><td align="center">5xxx</td><td align="center">数字补x (填充右边, 宽度为4)</td></tr><tr><td align="center">1000000</td><td align="center">NA.</td><td align="center">{:,}</td><td align="center">1,000,000</td><td align="center">以逗号分隔的数字格式</td></tr><tr><td align="center">0.25</td><td align="center">NA.</td><td align="center">{:.2%}</td><td align="center">25.00%</td><td align="center">百分比格式</td></tr><tr><td align="center">1000000000</td><td align="center">NA.</td><td align="center">{:.2e}</td><td align="center">1.00e+09</td><td align="center">指数记法</td></tr><tr><td align="center">1000000000.0</td><td align="center">{:2e}</td><td align="center">{:.2e}</td><td align="center">1e9(R)/1.00e+09(P)</td><td align="center">指数记法</td></tr><tr><td align="center">1000000000.0</td><td align="center">{:2E}</td><td align="center">{:.2E}</td><td align="center">1E9(R)/1.00E+09(P)</td><td align="center">指数记法</td></tr><tr><td align="center">42</td><td align="center">{:b}</td><td align="center">{:b}</td><td align="center">101010</td><td align="center">二进制</td></tr><tr><td align="center">42</td><td align="center">{:o}</td><td align="center">{:o}</td><td align="center">52</td><td align="center">八进制</td></tr><tr><td align="center">42</td><td align="center">{:x}</td><td align="center">{:x}</td><td align="center">2a</td><td align="center">十六进制</td></tr><tr><td align="center">42</td><td align="center">{:X}</td><td align="center">{:X}</td><td align="center">2A</td><td align="center">十六进制</td></tr><tr><td align="center">42</td><td align="center">{:#b}</td><td align="center">{:#b}</td><td align="center">0b101010</td><td align="center">带前缀的二进制</td></tr><tr><td align="center">42</td><td align="center">{:#o}</td><td align="center">{:#o}</td><td align="center">0o52</td><td align="center">带前缀的八进制</td></tr><tr><td align="center">42</td><td align="center">{:#x}</td><td align="center">{:#x}</td><td align="center">0x2a</td><td align="center">带前缀的十六进制</td></tr><tr><td align="center">42</td><td align="center">{:#X}</td><td align="center">{:#X}</td><td align="center">0x2A(R)/0X2A(P)</td><td align="center">带前缀的十六进制</td></tr></tbody></table><figure class="highlight rust"><figcaption><span>Rust precision specified in arg</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第一个参数是小数点后的位数</span></span><br><span class="line"><span class="built_in">println!</span>(<span class="string">"Pi is &#123;:+.*&#125;"</span>, <span class="number">2</span>, <span class="number">3.1415926</span>);</span><br></pre></td></tr></table></figure><h1 id="escape"><a href="#escape" class="headerlink" title="escape {}"></a>escape <code>{}</code></h1><figure class="highlight rust"><figcaption><span>Rust escape&#123;&#125;</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">println!</span>(<span class="string">"&#123;&#123; &#123;t&#125; &#125;&#125;"</span>, t=<span class="string">"escape"</span>);</span><br></pre></td></tr></table></figure><figure class="highlight python"><figcaption><span>Python escape&#123;&#125;</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">" The &#123;&#125; set is often represented as &#123; &#123;0&#125; &#125; "</span>.format(<span class="string">"empty"</span>))</span><br></pre></td></tr></table></figure><p>References：</p><ol><li><a href="https://rustwiki.org/rust-by-example/hello/print.html" target="_blank" rel="noopener">Rust print</a></li><li><a href="https://doc.rust-lang.org/std/fmt/index.html" target="_blank" rel="noopener">Module std::fmt</a></li><li><a href="http://blog.xiayf.cn/2013/01/26/python-string-format/" target="_blank" rel="noopener">Python格式字符串（译）</a></li><li><a href="http://stackoverflow.com/questions/493386/how-to-print-without-newline-or-space" target="_blank" rel="noopener">how-to-print-without-newline-or-space</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Rust </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Rust </tag>
            
            <tag> Python </tag>
            
            <tag> fmt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>software development(2):variant handling</title>
      <link href="/2017/02/27/software-design-2-variant-handling/"/>
      <url>/2017/02/27/software-design-2-variant-handling/</url>
      
        <content type="html"><![CDATA[<p>we should always avoid to use variant handling in software development, because one solution for all variants is the best solution.But sometimes we should compromise due to some limits.</p><a id="more"></a><p>Here are some scenarios I can see now:</p><ol><li>one platform solution for different microconroller/hardware. <a href="#pre-compile">pre-compile</a>. <a href="#link-different-libs">link different libs</a></li><li>confilict functions. <a href="#during-compile">during-compile</a></li><li>cross platform(algorithm development on PC, target is other MCU). <a href="#during-compile">during-compile</a>. <a href="#link-different-libs">link different libs</a></li><li>one ECU for different vehicle models. <a href="#one-time-configuraton">one-time configuraton</a>.  <a href="#bootloader">bootloader</a></li><li>differnt Transmission type for one vehicle model. <a href="#constant-configuration">constant configuration</a></li></ol><h1 id="pre-compile"><a href="#pre-compile" class="headerlink" title="pre-compile"></a>pre-compile</h1><p>copy choosed target files to target directory</p><figure class="highlight plain"><figcaption><span>two targets(A and B),before compile copy targetA or targetB to copied_target, only files in copied_target are included in makefile</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">_____componentA</span><br><span class="line">         |______targetA</span><br><span class="line">         |______targetB</span><br><span class="line">         |______copied_target</span><br></pre></td></tr></table></figure><h1 id="during-compile"><a href="#during-compile" class="headerlink" title="during-compile"></a>during-compile</h1><p>compile switch(macro)</p><figure class="highlight c"><figcaption><span>compile switch</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">if</span> (GS_MAJOR_VER == GS_TARGET_A)</span></span><br><span class="line"><span class="comment">// implementation for GS_TARGET_A</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span> (GS_MAJOR_VER == GS_TARGET_B)</span></span><br><span class="line"><span class="comment">// implementation for GS_TARGET_B</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">error</span> <span class="meta-string">"no such target"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><h1 id="on-the-fly"><a href="#on-the-fly" class="headerlink" title="on the fly"></a>on the fly</h1><h2 id="one-time-configuraton"><a href="#one-time-configuraton" class="headerlink" title="one-time configuraton"></a>one-time configuraton</h2><p>parameter is seleted by vehicle configuration shored in NVM/flash.</p><figure class="highlight c"><figcaption><span>parametes in flash, variant in NVM</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span></span><br><span class="line">&#123;</span><br><span class="line">varaint1_enm,</span><br><span class="line">variant2_enm</span><br><span class="line">&#125;Variants;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> VariantPar_st parameters[]=&#123;variant1_par, variant2_par&#125;;<span class="comment">//all parametes for variants stored in flash</span></span><br><span class="line"></span><br><span class="line">g_variant_u8 = getVariant();<span class="comment">//getVariant() read variant from NVM.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(varaint1_enm == g_variant_u8)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//load variant1 parameter or doing something special for variant1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//loac variant2 paramter or doing something special for variant2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="constant-configuration"><a href="#constant-configuration" class="headerlink" title="constant configuration"></a>constant configuration</h2><h3 id="Signal-Multiplexing"><a href="#Signal-Multiplexing" class="headerlink" title="Signal Multiplexing"></a>Signal Multiplexing</h3><p>One signal in the frame is used as a multiplexor and the remaining payload is interpreted depending on the value of the multiplexor signal.</p><img src="/2017/02/27/software-design-2-variant-handling/signal_multiplexing.png" class=""><h3 id="adaptive-algorithm"><a href="#adaptive-algorithm" class="headerlink" title="adaptive algorithm"></a>adaptive algorithm</h3><p>differnt parameter according different condition(eg.temperature/huminity/speed…)</p><h1 id="post-compile"><a href="#post-compile" class="headerlink" title="post-compile"></a>post-compile</h1><h2 id="link-different-libs"><a href="#link-different-libs" class="headerlink" title="link different libs"></a>link different libs</h2><figure class="highlight plain"><figcaption><span>check your linker user manual and link different lib according to different target</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-L&#123;path to file containing library&#125; -l$&#123;library name&#125;</span><br></pre></td></tr></table></figure><h2 id="merge-different-parameters"><a href="#merge-different-parameters" class="headerlink" title="merge different parameters"></a>merge different parameters</h2><p>pre-condition: parameter size for different variants is the same</p><figure class="highlight plain"><figcaption><span>executable file structure</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">------</span><br><span class="line">Application area</span><br><span class="line">------</span><br><span class="line">Calibration area</span><br><span class="line">------</span><br></pre></td></tr></table></figure><figure class="highlight plain"><figcaption><span>variant1.hex/exe</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">------</span><br><span class="line">Application area</span><br><span class="line">------</span><br><span class="line">Calibration area for variant1</span><br><span class="line">------</span><br></pre></td></tr></table></figure><h1 id="version-control"><a href="#version-control" class="headerlink" title="version control"></a>version control</h1><p>manage by version tools using branch, development path.</p><h1 id="deployment"><a href="#deployment" class="headerlink" title="deployment"></a>deployment</h1><h2 id="bootloader"><a href="#bootloader" class="headerlink" title="bootloader"></a>bootloader</h2><p>use bootloader to flash seperate calibartion data during End of Line according to different vehilce models.</p><figure class="highlight plain"><figcaption><span>executable file structure</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">------</span><br><span class="line">Bootloader area</span><br><span class="line">------</span><br><span class="line">Application area</span><br><span class="line">------</span><br><span class="line">Calibration area</span><br><span class="line">------</span><br></pre></td></tr></table></figure><h2 id="sample-label"><a href="#sample-label" class="headerlink" title="sample label"></a>sample label</h2><p>different executable files for differnt ECUs.</p><p>References:</p><ol><li><a href="https://vector.com/portal/medien/cmc/application_notes/AN-ION-1-0521_Extended_Multiplexing_in_DBC_Databases.pdf" target="_blank" rel="noopener">Extended Signal Multiplexing in DBC Databases</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> software </category>
          
      </categories>
      
      
        <tags>
            
            <tag> software </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>个人博客搭建hexo+github(9):本地搜索</title>
      <link href="/2017/02/15/Static-Blog-hexo-github-9-local-search/"/>
      <url>/2017/02/15/Static-Blog-hexo-github-9-local-search/</url>
      
        <content type="html"><![CDATA[<p>本地搜索，不需要依赖外部的搜索服务，简单易用。</p><a id="more"></a><h1 id="安装hexo-generator-searchdb"><a href="#安装hexo-generator-searchdb" class="headerlink" title="安装hexo-generator-searchdb"></a>安装hexo-generator-searchdb</h1><p><code>npm install hexo-generator-searchdb --save</code></p><h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><p>在<code>hexo</code>(<del>不是主题的</del>)的 <code>_config.yml</code> 中增加配置</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  format: raw</span><br><span class="line">  limit: 10000</span><br></pre></td></tr></table></figure><ul><li>path - file path. Default is search.xml .</li><li>field - the search scope you want to search, you can chose:<ul><li>post (Default) - will only covers all the posts of your blog.</li><li>page - will only covers all the pages of your blog.</li><li>all - will covers all the posts and pages of your blog.</li></ul></li><li>format - the form of the page contents, options are:<ul><li>html (Default) - original html string being minified.</li><li>raw - markdown text of each posts or pages.</li><li>excerpt - only collect excerpt.</li><li>more - act as you think.</li></ul></li><li>limit - define the maximum number of posts being indexed, always prefer the newest.</li></ul><h1 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h1><img src="/2017/02/15/Static-Blog-hexo-github-9-local-search/local_search_example.png" class=""><p>Reference:</p><ol><li><a href="https://www.npmjs.com/package/hexo-generator-searchdb" target="_blank" rel="noopener">hexo-generator-searchdb</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> github </tag>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TeX(2):Mac下安装TeX</title>
      <link href="/2017/02/15/TeX-2-MacTex/"/>
      <url>/2017/02/15/TeX-2-MacTex/</url>
      
        <content type="html"><![CDATA[<p>Mac下TeX环境搭建</p><a id="more"></a><p>简要步骤：</p><ol><li>下载<a href="http://tug.org/mactex/" target="_blank" rel="noopener">MacTeX</a>，MacTeX是基于TeX Live之上的封装，即下即装，即装即用。</li><li>安装字库。由于我的latex文件原来是在windows下调试好字体的，所以一些字体在mac上是没有的，需要从windows把字库拷贝出来，在mac上安装好。</li><li>执行<code>xelatex ／your／file.tex</code>。</li></ol><p>没有错误就打完收工。</p><p>Reference:</p><ol><li><a href="https://www.zhihu.com/question/20928639" target="_blank" rel="noopener">如何在 OS X 上使用 LaTeX ？</a></li><li><a href="https://wuchenxu.com/2016/09/28/TeX-1-introduction/" target="_blank" rel="noopener">TeX(1):简介</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> TeX </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TeX </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>人类简史：从动物到上帝 by 尤瓦尔·赫拉利</title>
      <link href="/2017/01/30/reading-notes-1-history-of-humankind/"/>
      <url>/2017/01/30/reading-notes-1-history-of-humankind/</url>
      
        <content type="html"><![CDATA[<p>在历史的路上，有三大重要革命：大约7万年前，“认知革命”（Cognitive Revolution）让历史正式启动。大约12000年前，“农业革命”（Agricultural Revolution）让历史加速发展。而到了大约不过是500年前，“科学革命”（Scientific Revolution）可以说是让历史画下句点而另创新局。这本书的内容，讲述的就是这三大革命如何改变了人类和其他生物。</p><a id="more"></a><img src="/2017/01/30/reading-notes-1-history-of-humankind/cover_of_a_brief_history_of_humankind.jpg" class=""><h1 id="点评"><a href="#点评" class="headerlink" title="点评"></a>点评</h1><p>作者论述了物理学诞生，到化学， 生物学的产生；意识革命之后开始有历史，产生了语言，人类能够互相沟通，创造出“虚构”的故事；农业革命后，文字出现，有了“想象的共同体”，能够大规模协作智人占据食物链顶端；金钱、帝国、宗教使得人类融合统一，构建全球秩序；科学革命，承认人类的无知，科技的飞速进步使得财富的总量大规模增加，人类也面临着生态环境恶化，人是否比以前幸福快乐的问题；但是未来的路怎么走 是人类内耗灭亡还是第二次生物学革命产生新物种，还是未知之数，毕竟历史只是历史，可以拓宽我们能的思维，但是未来的路还是要人类自己走。<br>作者以宏观的视角，纵观整个人类史，不但精通西方世界的历史，而且对东亚，南美的历史也是信手拈来，这是真正的从时间的维度全球的角度来看待的人类史。</p><h1 id="历史年表"><a href="#历史年表" class="headerlink" title="历史年表"></a>历史年表</h1><p>距今年代</p><ul><li>135亿年 物质和能量出现。物理学的开始。　　　　</li><li>原子和分子出现。化学的开始。</li><li>45亿年 地球形成。</li><li>38亿年 有机生物形成。生物学的开始。</li><li>600万年 人类和黑猩猩最后的共同祖先。</li><li>250万年 非洲的人属开始演化。出现最早的石器。</li><li>200万年 人类由非洲传播到欧亚大陆。　　　　</li><li>演化为不同人种。</li><li>50万年 尼安德特人在欧洲和中东演化。</li><li>30万年 开始日常用火。</li><li>20万年 智人在东非演化。</li><li>7万年 认知革命。出现能够描述虚拟故事的语言。　　　　</li><li>历史学的开始。智人传播至非洲之外。</li><li>4.5万年 智人抵达澳大利亚。澳大利亚巨型动物绝种。</li><li>3万年 尼安德特人绝种。</li><li>1.6万年 智人抵达美洲。美洲巨型动物绝种。</li><li>1.3万年 弗洛里斯人绝种。智人成为唯一存活的人类物种。</li><li>1.2万年 农业革命。驯化动植物。　　　　</li><li>出现永久聚落。</li><li>5000年 出现最早的王国、文字和金钱。多神教信仰。</li><li>4250年 出现最早的帝国：萨尔贡大帝的阿卡德帝国。</li><li>2500年 出现最早的硬币：通用的金钱。　　　　</li><li>波斯帝国：普世的政治秩序（“为全人类的福祉而努力”）。　　　　</li><li>印度佛教：普世的真理（“让所有人类解脱痛苦”）。</li><li>2000年 中国汉帝国。地中海罗马帝国。基督教。</li><li>1400年 伊斯兰教。500年 科学革命。人类承认自己的无知，开始取得前所未有的能力。　　　</li><li>欧洲人开始征服美洲和各大洋。整个地球形成单一历史场域。资本主义兴起。</li><li>200年 工业革命。家庭和社群被国家和市场取代。动植物大规模绝种。</li><li>现在 人类脱离了地球的疆域。　　　</li><li>核武器威胁人类的生存。　　　</li><li>生物开始越来越由智慧设计形塑，而非自然选择。</li><li>未来 智慧设计成为生命的基本原则？　　　</li><li>智人被超人类取代？</li></ul><h1 id="第一部分-认知革命"><a href="#第一部分-认知革命" class="headerlink" title="第一部分 认知革命"></a>第一部分 认知革命</h1><h2 id="第一章-人类：一种也没什么特别的动物"><a href="#第一章-人类：一种也没什么特别的动物" class="headerlink" title="第一章 人类：一种也没什么特别的动物"></a>第一章 人类：一种也没什么特别的动物</h2><p>从地球角度看，人类的历史其实很短。</p><blockquote><p>不过就在6万年前，有一头母猿产下两个女儿，一头成了所有黑猩猩的祖先，另一头则成了所有人类的祖奶奶。</p></blockquote><blockquote><p>从大约200万年前到大约1万年前为止，整个世界其实同时存在多种不同人种。这其实也十分合理。就像今天，地球上还是有许多种的狐狸、熊或是猪，而在几十万年前的地球上，至少就有6种不同的人。从整个历史来看，过去多种人种共存其实是常态，现在地球上只有“一种人”，这才是异常。</p></blockquote><blockquote><p>庞大的大脑也是个庞大的负担。大脑结构脆弱，原本就不利于活动，更别说还得用个巨大的头骨把它装着。而且大脑消耗的能量惊人。对智人来说，大脑只占身体总重约2%～3%，但在身体休息而不活动时，大脑的能量消耗却占了25%。</p></blockquote><p>这也是为啥人类历史上屡屡出现野蛮民族暴虐所谓文明国家。</p><blockquote><p>因为大脑较大，远古人类付出的代价有两种：首先是得花更多时间寻找食物，其次是肌肉退化萎缩。这就像是政府把国防预算转拨给了教育，人类也把手臂二头肌所需的能量拨给了大脑里的神经元。对于在非洲草原上这究竟是不是个好策略，事先只能说无人能知。虽然黑猩猩要讲道理绝对讲不赢智人，但它却能直接把智人像个布娃娃一样扯个稀烂。</p></blockquote><blockquote><p>我们用两条腿直立行走。能够站起来，就更容易扫视整片草原，看看哪里有猎物或敌人，而且既然手不需负责移动身体，就能发挥其他用途，像是丢石块或是做信号。手能做的事情越多，可以说人就变得越厉害；于是人的演化也就越来越着重神经发展，也不断地对手掌和手指的肌肉做修正。于是，人类的手开始能够处理非常精细的任务，特别是能够生产、使用复杂的工具。</p></blockquote><blockquote><p>火带来的最大好处在于开始能够烹饪。有些食物，处于自然形态的时候无法为人类所消化吸收，像小麦、水稻、马铃薯，但正因有了烹饪技术，就成为我们的主食。黑猩猩要咀嚼生肉，每天得花上五个小时，但人类吃的是熟食，每天花上一小时就够。</p></blockquote><h2 id="第二章-知善恶树"><a href="#第二章-知善恶树" class="headerlink" title="第二章 知善恶树"></a>第二章 知善恶树</h2><blockquote><p>大约就是在距今7万到3万年前，出现了新的思维和沟通方式，这也正是所谓的认知革命。会发生认知革命的原因为何？我们无从得知。得到普遍认可的理论认为，某次偶然的基因突变，改变了智人的大脑内部连接方式，让他们以前所未有的方式来思考，用完全新式的语言来沟通。这次突变，几乎就像是吃了《圣经》里那棵知善恶树的果实一样。为什么这只发生在智人的DNA里，而没有发生在尼安德特人的DNA里？我们现在只能说这就是纯粹的偶然。</p></blockquote><blockquote><p>最常见的理论，认为人类语言最为灵活。虽然我们只能发出有限的声音，但组合起来却能产生无限多的句子，各有不同的含义。于是，我们就能吸收、储存和沟通惊人的信息量，并了解我们周遭的世界。</p></blockquote><blockquote><p>第二种理论，也同意人类语言是沟通关于世界的信息的方式。然而，最重要的信息不是关于狮子和野牛，而是关于人类自己。我们的语言发展成了一种八卦的工具。根据这一理论，智人主要是一种社会性的动物，社会合作是我们得以生存和繁衍的关键。对于个人来说，光是知道狮子和野牛的下落还不够。更重要的，是要知道自己的部落里谁讨厌谁，谁跟谁在交往，谁很诚实，谁又是骗子。</p></blockquote><blockquote><p>人类语言真正最独特的功能，并不在于能够传达关于人或狮子的信息，而是能够传达关于一些根本不存在的事物的信息。据我们所知，只有智人能够表达关于从来没有看过、碰过、耳闻过的事物，而且讲得煞有其事。</p></blockquote><blockquote><p>在认知革命之后，智人就能够说出：“狮子是我们部落的守护神。”</p></blockquote><blockquote><p>“讨论虚构的事物”正是智人语言最独特的功能。“虚构”这件事的重点不只在于让人类能够拥有想象，更重要的是可以“一起”想象，编织出种种共同的虚构故事，不管是《圣经》的《创世记》、澳大利亚原住民的“梦世记”（Dreamtime），甚至连现代所谓的国家其实也是种想象。这样的虚构故事赋予智人前所未有的能力，让我们得以集结大批人力、灵活合作。</p></blockquote><blockquote><p>即使到了今天，人类的团体还是继续受到这个神奇的数字影响。只要在150人以下，不论是社群、公司、社会网络还是军事单位，只要靠着大家都认识、彼此互通消息，就能够运作顺畅，而不需要规定出正式的阶层、职称、规范。</p></blockquote><blockquote><p>无论是现代国家、中世纪的教堂、古老的城市，或者古老的部落，任何大规模人类合作的根基，都在于某种只存在于集体想象中的虚构故事。</p></blockquote><p>法人</p><blockquote><p>标致公司只是我们的一个集体想象，这种想象在法律上称为“法律拟制”（legal fiction）。像是公司，我们没办法明确指着它，它不是一个实体对象，而是以一种法律实体的方式存在。这种法律实体就像你我，会受到所在国家法律的管辖，可以开立银行账户，拥有自己的财产，要纳税，也可能独立于所有拥有者或员工之外而遭到起诉。</p></blockquote><blockquote><p>事实就是所有动物只有智人能够进行贸易，而所有我们有详细证据证明存在的贸易网络都明显以虚构故事为基础。例如，如果没有信任，就不可能有贸易，而要相信陌生人又是件很困难的事。今天之所以能有全球贸易网络，正是因为我们相信着一些虚拟实体，像是美元、联邦储备银行，还有企业的商标。而在部落社会里，如果两个陌生人想要交易，往往也得先借助共同的神明、传说中的祖先或图腾动物建立信任。</p></blockquote><img src="/2017/01/30/reading-notes-1-history-of-humankind/chapter2.jpg" class=""><blockquote><p>和认知革命正是历史从生物学中脱离而独立存在的起点。在这之前，所有人类的行为都只称得上是生物学的范畴，也有人喜欢称为“史前史”（但我倾向避免用这个词汇，因为这种说法暗示着即使在认知革命之前，人类也是自成一格，与其他动物不同）。认知革命之后，我们要解释智人的发展，依赖的主要工具就不再是生物学理论，而改用历史叙事。就像是如果要理解为何儒家或共产主义能在中国传播，光知道基因、荷尔蒙和有机体这些还不够，另外也得考虑到各种想法、图像幻想的互动才行。</p></blockquote><blockquote><p>讲到认知革命之后生物学和历史的关系，我们可以简单整理成三点：</p></blockquote><ol><li>基本上，生物学为智人的行为和能力设下了基本限制，像是定出了一个活动范围，而所有的历史都在这个范围之内发生。</li><li>然而，这个范围非常大，能让智人有各种惊人的发挥空间。因为他们有创造虚构故事的能力，就能创造出更多、更复杂的游戏，代代相传也就不断发展精进。</li><li>因此，想了解智人的行为，就必须描述人类行为的历史演化。</li></ol><h2 id="第三章-亚当和夏娃的一天"><a href="#第三章-亚当和夏娃的一天" class="headerlink" title="第三章 亚当和夏娃的一天"></a>第三章 亚当和夏娃的一天</h2><blockquote><p>演化心理学近来发展蓬勃，认为现在人类的各种社会和心理特征早从农业时代之前就已经开始形塑。这个领域的学者认为，即使到了现在，我们的大脑和心灵都还是以狩猎和采集的生活方式在思维</p></blockquote><blockquote><p>就算我们今天可能住在高楼大厦，家家户户的冰箱早就塞满食物，我们的DNA还记得那些在草原上的日子。正因如此，我们才会不知不觉就吃完一整桶的哈根达斯，可能还配着一大杯可口可乐。</p></blockquote><blockquote><p><code>语言和文化</code>正是认知革命的主要成就。而正因为虚构故事已经出现，即使是在类似的生态、同样的基因组成下出现的人类，也能够创造出非常不同的想象现实，表现出来就成了不同的规范和价值观。</p></blockquote><h2 id="第四章-毁天灭地的人类洪水"><a href="#第四章-毁天灭地的人类洪水" class="headerlink" title="第四章 毁天灭地的人类洪水"></a>第四章 毁天灭地的人类洪水</h2><blockquote><p>对这些动物来说，需要靠演化才能学会惧怕人类，但时间根本不够，它们转眼便已灭绝。</p></blockquote><blockquote><p>智人的第一波殖民正是整个动物界最大也最快速的一场生态浩劫。</p></blockquote><blockquote><p>第一波的灭绝浪潮是由于采集者的扩张，接着第二波灭绝浪潮则是因为农民的扩张；这些教训，让我们得以从一个重要观点来看今日的第三波灭绝浪潮：由工业活动所造成的物种灭绝</p></blockquote><h1 id="第二部分-农业革命"><a href="#第二部分-农业革命" class="headerlink" title="第二部分 农业革命"></a>第二部分 农业革命</h1><h2 id="第五章-史上最大骗局"><a href="#第五章-史上最大骗局" class="headerlink" title="第五章 史上最大骗局"></a>第五章 史上最大骗局</h2><blockquote><p>这一切在大约1万年前全然改观，人类开始投入几乎全部的心力，操纵着几种动植物的生命。从日升到日落，人类忙着播种、浇水、除草、牧羊，一心以为这样就能得到更多的水果、谷物和肉类。这是一场关于人类生活方式的革命：农业革命。</p></blockquote><blockquote><p>即使到了今天，虽然人类有着种种先进科技，但食物热量超过90%的来源仍然是来自人类祖先在公元前9500年到公元前3500年间驯化的植物：小麦、稻米、玉米、马铃薯、小米和大麦。在过去2000年间，人类并没有驯化什么特别值得一提的动植物。可以说，人到现代还有着远古狩猎采集者的心，以及远古农民的胃。</p></blockquote><blockquote><p>普遍来说，农民的工作要比采集者更辛苦，而且到头来的饮食还要更糟。农业革命可说是史上最大的一桩骗局。</p></blockquote><blockquote><p>真正的主要嫌疑人，就是那极少数的植物物种，其中包括小麦、稻米和马铃薯。人类以为自己驯化了植物，但其实是植物驯化了智人。</p></blockquote><blockquote><p>智人的身体演化目的并不是为了从事这些活动，我们适应的活动是爬爬果树、追追瞪羚，而不是弯腰清石块、努力挑水桶。于是，人类的脊椎、膝盖、脖子和脚底就得付出代价。研究古代骨骼发现，人类进到农业时代后出现了大量疾病，例如椎间盘突出、关节炎和疝气</p></blockquote><blockquote><p>如果要衡量某种物种演化成功与否，评断标准就在于世界上其DNA螺旋的拷贝数的多寡。</p></blockquote><p>活下去就是胜利</p><blockquote><p>这正是农业革命真正的本质：让更多的人却以更糟的状况活下去。</p></blockquote><blockquote><p>每个世代的人做出了当时最好的抉择，最后的结果不一定是最好的，至少某些方面不是。<br>每一代人都只是继续着上一代生活的方式，在这里修一点，那里改一些。但矛盾的是，一连串为了让生活更轻松的“进步”，最后却像是在这些农民的身上加了一道又一道沉重的枷锁。</p></blockquote><p>积重难返</p><blockquote><p>为什么他们不赶快放弃农耕，回到采集生活？部分原因在于，所有改变都必须点点滴滴累积，经过许多代的时间，才能够改变社会；等到那个时候，已经没有人记得过去曾经有不同的生活方式可选了。另一部分，是因为人口增长就像是破釜沉舟。一旦采用农耕之后，村落的人口从100人成长到110人，难道会有10个人自愿挨饿，好让其他人可以回到过去的美好时光？这已经再无回头路。人类发现时，已经深陷陷阱、无法自拔。</p></blockquote><blockquote><p>多少年轻的大学毕业生投身大企业、从事各种劳心劳力的工作，发誓要努力赚钱，好在35岁就退休，去从事他们真正有兴趣的事业？但等他们到了35岁，却发现自己背着巨额贷款，要付子女的学费，要养在高级住宅区的豪宅，每家得有两部车，而且觉得生活里不能没有高级红酒和国外的假期。他们该怎么做？他们会放下一切，回去野外采果子挖树根吗？当然不可能，而是加倍努力，继续把自己累得半死。</p></blockquote><blockquote><p>这个关于奢侈生活陷阱的故事，告诉我们一个重要的教训。人类一心追求更轻松的生活，于是释放出一股巨大的力量，改变了世界的面貌，但结果并没有任何人料想得到，甚至也不是任何人所乐见的。并没有人在背后操纵农业革命发生，或是意图让人依赖谷类维生。一开始只是各种小事，主要就是希望吃饱一点、生活安全一点，但最后累积引起的效应，就是让远古的采集者开始花上整天的时间，在烈日之下挑水务农。</p></blockquote><blockquote><p>贝克力石阵显示，很有可能其实是先建立起信仰中心，之后才围绕着它形成村子。<br>不幸的是，演化观点并不是唯一判断物种成功与否的标准。它一切只考虑到生存和繁殖，而不顾个体的痛苦或幸福。虽然就演化而言，驯化的鸡和牛很可能是最成功的代表，但它们过的其实是生物有史以来最惨的生活。动物的驯化是建立在一系列的野蛮作为上，而且随着时间的前行，残忍程度只增不减。</p></blockquote><blockquote><p>在许多新几内亚的部落社会里，想判断一个人富不富有，就要看他/她有几头猪。而为了确保猪跑不掉，新几内亚北部的农民会把猪的鼻子切掉一大块。这样一来，每次猪想闻东西，都会感到强烈的疼痛，不但无法觅食，甚至连找路都做不到，于是不得不完全依赖人类主人。在新几内亚的另一个地区，人们甚至还习惯直接把猪的眼睛挖掉，杜绝它们逃跑的可能。</p></blockquote><h2 id="第六章-盖起金字塔"><a href="#第六章-盖起金字塔" class="headerlink" title="第六章 盖起金字塔"></a>第六章 盖起金字塔</h2><p>这就跟人的经验是一样的。经验越多看似好事，但是也限制了其他可能性。思维定式，路径依赖</p><blockquote><p>人类发现自己已经很难离开这些人工岛屿了，所有的房子、田地、谷仓，放弃哪个都可能带来重大的损失。此外，随着时间过去，他们拥有的东西越来越多，不易搬运，也把他们绑得死死的。</p></blockquote><p>知道从哪儿来，才能知道要到哪儿去。</p><blockquote><p>农业革命之后，“未来”的重要性被提到史上新高。农民不仅时时刻刻都得想着未来，还几乎可以说是为了未来在服务。<br>正是这些征收来的多余食粮，养活了政治、战争、艺术和哲学，建起了宫殿、堡垒、纪念碑和庙宇。</p></blockquote><blockquote><p>所有这些合作网络，不管是古代美索不达米亚的城市，还是秦朝和古罗马的帝国，都只是“由想象所建构的秩序”。支持它们的社会规范既不是人类自然的天性本能，也不是人际的交流关系，而是他们都相信着共同的虚构神话故事。</p></blockquote><blockquote><p>不管是汉谟拉比还是美国的开国元勋，心中都有个想象的现实，想象着这个世界有着放诸四海皆准、永恒不变的正义原则（例如平等或阶级），但这种不变的原则其实只存在于智人丰富的想象力里，只存在于他们创造并告诉彼此的虚构故事中。这些原则，从来就没有客观的正确性。</p></blockquote><blockquote><p>伏尔泰就曾说：“世界上本来就没有神，但可别告诉我的仆人，免得他半夜偷偷把我宰了。</p></blockquote><blockquote><ol><li>想象建构的秩序深深与真实的世界结合。</li><li>想象建构的秩序塑造了我们的欲望。</li><li>想象建构的秩序存在于人和人之间思想的连接。</li></ol></blockquote><blockquote><p>“主体间”事物的存在，靠的是许多个人主观意识之间的连接网络。就算有某个人改变了想法，甚至过世，对这项事物的影响并不大。但如果是这个网络里面的大多数都死亡或是改变了想法，这种“主体间”的事物就会发生改变或是消失。之所以会有事物存在于主体之间，其目的并不是想存心骗人，也不是只想打哈哈敷衍。虽然它们不像放射线会直接造成实质影响，但对世界的影响仍然不容小觑。历史上有许多最重要的驱动因素，都是这种存在于主体之间的概念想法：法律、金钱、神、国家。<br>为了改变现有由想象建构出的秩序，就得先用想象建构出另一套秩序才行。</p></blockquote><blockquote><p>每一次我们以为自己打破了监狱的高墙、迈向自由的前方，其实只是到了另一间更大的监狱，把活动范围稍稍加以扩大。</p></blockquote><h2 id="第七章-记忆过载"><a href="#第七章-记忆过载" class="headerlink" title="第七章 记忆过载"></a>第七章 记忆过载</h2><blockquote><p>因为智人的社会秩序是通过想象建构，维持秩序所需的关键信息无法单纯靠DNA复制就传给后代，需要通过各种努力，才能维持种种法律、习俗、程序、礼仪，否则社会秩序很快就会崩溃。</p></blockquote><blockquote><p>正因为结绳语有效又准确，就算在西班牙人占领南美之后，还是用结绳语来管理他们建立的新帝国。</p></blockquote><blockquote><p>文字对人类历史所造成最重要的影响：它逐渐改变了人类思维和看待这个世界的方式。过去的自由连接、整体思考，已经转变为分割思考、官僚制度。</p></blockquote><h2 id="第八章-历史从无正义"><a href="#第八章-历史从无正义" class="headerlink" title="第八章 历史从无正义"></a>第八章 历史从无正义</h2><blockquote><p>是人类创造出了由想象建构的秩序、发明了文字，以这两者补足我们基因中的不足。</p></blockquote><blockquote><p>讽刺的是，非洲人在基因上的优势（免疫力）竟造成了他们在社会上的劣势：正因为他们比欧洲人更能适应热带气候，反让他们成了遭到欧洲主人蹂躏的奴隶！由于这些环境因素，美洲的新兴社会也出现了另一个种姓阶级：欧洲白人的统治阶级，以及非洲黑人的奴隶阶级</p></blockquote><blockquote><p>黑人被困在这个恶性循环里，他们申请不到白领的工作，是因为别人以为他们笨，但证明他们笨的，又是因为白领中很少有黑人。</p></blockquote><blockquote><p>大多数社会政治阶级制度其实都没有逻辑或生物学的基础，不过就是由历史的偶然事件引起，再用虚构的故事延续壮大。这正是历史值得研究的一个很好的理由。</p></blockquote><blockquote><p>我们究竟要如何才能判断，什么是真正在生物学上有所不同，而什么又只是人类说得煞有介事、自找借口？一项黄金法则就是“天生带来允许，文化造成封闭”。天生自然的生物学，可能性几乎无穷无尽。然而，文化却要求必须实现某些可能性，而又封闭了其他可能性。例如女性天生能生小孩，但在某些文化里，女性却是非生不可。生物学上，男人就是能从彼此身上得到性愉悦，但某些文化却极力阻止他们实现这种可能。</p></blockquote><h1 id="第三部分-人类的融合统一"><a href="#第三部分-人类的融合统一" class="headerlink" title="第三部分 人类的融合统一"></a>第三部分 人类的融合统一</h1><h2 id="第九章-历史的方向"><a href="#第九章-历史的方向" class="headerlink" title="第九章 历史的方向"></a>第九章 历史的方向</h2><blockquote><p>人类几乎从出生到死亡都被种种虚构的故事和概念围绕，让他们以特定的方式思考，以特定的标准行事，想要特定的东西，也遵守特定的规范。就是这样，让数百万计的陌生人能遵照着这种人造而非天生的直觉，合作无间。这种人造的直觉就是“文化”。</p></blockquote><blockquote><p>自从法国大革命之后，全球人民逐渐同意“自由”和“平等”都是基本的价值观。然而这两者根本就互相抵触！想要确保“平等”，就得限制住那些较突出的人；而要人人都能“自由”，也就必然影响所有人的平等。</p></blockquote><blockquote><p>一般认为认知失调是人类心理上的一种问题，但这其实是一项重要的特性，如果人真的无法同时拥有互相抵触的信念和价值观，很可能所有的文化都将无从建立，也无以为继。</p></blockquote><blockquote><p>三种全球秩序，首先第一种是经济上的货币秩序，第二种是政治上的帝国秩序，而第三种则是宗教上的全球性宗教，像是佛教、基督教和伊斯兰教。</p></blockquote><h2 id="第十章-金钱的味道"><a href="#第十章-金钱的味道" class="headerlink" title="第十章 金钱的味道"></a>第十章 金钱的味道</h2><blockquote><p>在以物易物的经济里，不管是鞋匠还是种苹果的，每天都得搞清楚几十种商品的相对价格。如果市场上有100种不同的商品，把汇率列出来就足足有洋洋洒洒的4950条。如果市场上有1000种不同的商品，汇率更足足有499500条！这怎么可能记得起来？</p></blockquote><blockquote><p>人们之所以愿意如此，正是因为他们接受了这个集体的想象。“信任”正是所有金钱形式最基本的原料。如果有个富裕的农民卖掉房舍田产换来一袋贝壳，还带着这袋贝壳前往远地的省份，那是因为他相信抵达之后，其他人会愿意用稻米、房屋和田地和他交换这些贝壳。所以，可以说金钱就是一种相互信任的系统，而且还不是随随便便的某种系统：金钱正是有史以来最普遍也最有效的互信系统。</p></blockquote><h2 id="第十一章-帝国的愿景"><a href="#第十一章-帝国的愿景" class="headerlink" title="第十一章 帝国的愿景"></a>第十一章 帝国的愿景</h2><blockquote><p>要建立和维系帝国，确实通常就有惨烈的屠杀，而幸存者也会受到残酷的压迫。帝国的标准配备，常常就包括战争、奴役、驱逐和种族屠杀。</p></blockquote><blockquote><p>虽然居鲁士还是会强调统治者和被统治者之间的种族和文化差异，但认为整个世界基本上为一体，同样一套原则可以适用于所有时间地点，而且所有人类应互相负责。于是，人类就像是一个大家庭：父母享有特权，但同时也要负责孩子的幸福。这种新的帝国思想从居鲁士和波斯人传给了亚历山大大帝，再传给希腊国王、古罗马皇帝、穆斯林哈里发、印度君主，最后甚至还传给苏联总理和美国总统。</p></blockquote><blockquote><p>有一则著名的逸事，讲的是有个印度人雄心勃勃，把英语学得无懈可击，上了西式舞蹈的课程，甚至还养成了用刀叉进食的习惯。他把这一切学好之后前往英格兰，在伦敦大学学院读法律，还成为一名合格的律师。然而，后来这个读法律的年轻人到了英属南非，穿着西装、打着领带，却因为坚持自己该坐头等车厢，而不是像他一样的“有色人种”该坐的三等车厢，便被赶下火车。这个人就是甘地。</p></blockquote><img src="/2017/01/30/reading-notes-1-history-of-humankind/chapter11.jpg" class=""><h2 id="第十二章-宗教的法则"><a href="#第十二章-宗教的法则" class="headerlink" title="第十二章 宗教的法则"></a>第十二章 宗教的法则</h2><h3 id="当崇拜对象是神"><a href="#当崇拜对象是神" class="headerlink" title="当崇拜对象是神"></a>当崇拜对象是神</h3><blockquote><p>真正让多神论与一神论不同的观点，在于多神论认为主宰世界的最高权力不带有任何私心或偏见，因此对于人类各种世俗的欲望、担心和忧虑毫不在意。因此，要向这个最高权力祈求战争胜利、健康或下雨，可以说是完全没有意义，因为从他全知全观的角度来说，某个王国的战争输赢、某个城市的兴衰胜败，又或是某个人的生老病死，根本不构成任何差别。希腊人不会浪费祭品去祭拜命运女神，而印度教徒也并未兴建寺庙来祭拜阿特曼。要接近这个宇宙至高的权力，就代表要放下所有的欲望、接受福祸共存的事实，坦然面对失败、贫穷、疾病和死亡。</p></blockquote><blockquote><p>事实证明，就算把这些迫害的所有受害者全部加起来，在这3个世纪间，多神教古罗马处决基督徒的人数不超过几千人。但相对的是，在接下来的1500年间，虽然基督教号称主张爱与怜悯，但仅仅对信仰的诠释有些许差异，就引发基督徒自相残杀，死亡人数达到数百万。</p></blockquote><blockquote><p>在过去两千年间，一神论者多次发动以暴力消灭其他竞争对手的战争，目的就是要加强自己的掌控。</p></blockquote><blockquote><p>就像是泛神论会继续在多神论里延续，多神论也继续在一神论里存活。</p></blockquote><blockquote><p>一神论宗教大张旗鼓把其他神祇从大门赶了出去，但又从旁边的小窗把他们迎了回来。以基督教为例，就发展出了自己的圣人系统，但这套系统可说和多神教几乎殊无二致。<br>英格兰的守护圣人是圣乔治，苏格兰是圣安德鲁，匈牙利是圣史蒂芬，而法国是圣马丁。</p></blockquote><blockquote><p>这样看来，基督教的圣人和多神教的那些神祇几乎没有两样。但很多时候甚至还不只是类似而已，而根本就是这些神祇的伪装。举例来说，在信奉基督宗教之前，爱尔兰的主神是女神布里基德。等到爱尔兰被基督教化，就连布里基德也仿佛受了洗一样，成了“圣布里基德”。而且直到今天，还是天主教爱尔兰最受尊崇的圣人。</p></blockquote><blockquote><p>“恶的难题”（Problem of Evil），苦苦无法解决。“为什么世界上会有邪恶？为什么有苦难？为什么会有坏事发生在好人身上？”如果神真的是如此无所不知、无所不能、事事完美，又怎么会允许世界上有这么多的苦难？</p></blockquote><blockquote><p>“法则的难题”（Problem of Order）。如果世上就是有善恶两股力量在拉扯，它们拉扯的基础是什么法则？</p></blockquote><p>“马自达“汽车的来源</p><blockquote><p>善神阿胡拉·马兹达（Ahura Mazda）</p></blockquote><p>从历史的角度看宗教</p><blockquote><p>从历史上来看，一神论就像是个万花筒，承继了一神论、二元论、多神论和泛神论，收纳在同一个神圣论述之下。结果就是，基督徒大致上是信奉一神论的上帝，相信二元论的魔鬼，崇拜多神论的圣人，还相信泛神论的鬼魂。像这样同时有着不同甚至矛盾的思想，而又结合各种不同来源的仪式和做法，宗教学上有一个特别的名称：综摄（syncretism）。很有可能，综摄才是全球最大的单一宗教。</p></blockquote><h3 id="崇拜对象时自然法则"><a href="#崇拜对象时自然法则" class="headerlink" title="崇拜对象时自然法则"></a>崇拜对象时自然法则</h3><blockquote><p>在公元前1000年，亚非大陆开始出现全新的宗教及信仰类型。这些新型宗教信仰包括印度的耆那教（Jainism）和佛教，中国的道教和儒教，以及地中海的犬儒主义（Cynicism）和享乐主义（Epicureanism），共同的特征就是崇拜的并非神祇。</p></blockquote><blockquote><p>这些信仰也认为有某种超人类秩序控制着这个世界，但它们所崇拜的这个秩序是自然法则，而不是什么神圣的意志。这些自然法则的宗教信仰虽然某些也相信有神祇存在，但认为神祇就和人类、动物和植物一样会受到自然法则的限制。虽然神祇可以说在这个生态系统中有其优势（就算是大象或豪猪，也各有优势），但他们也像大象一样，并无法改变自然的法则。</p></blockquote><p>现在人的小心思，喜怒哀乐，其实前人都有过，都经历过，思考过，并且给出了解决方案。只是每一代人都有自己独特的生存环境，都觉得自己是独特的，之前的解决方案不适合自己，也许到最后会得出同前人一样的结论。没办法，不经历过，怎知是非对错</p><blockquote><p>人类追求财富和权力，获得知识和财富，生儿育女，建起宫殿和房屋。但不论取得多少成就，却仍然无法满足。穷人梦想着要变富，有一百万的想要两百万，有两百万的想要一千万。而且就算真的有钱了、有名了，他们还是不满意，还是有无尽的烦恼和忧虑，无法从生老病死中解脱<br>最后他体会到，一切苦难并非来自噩运、社会不公或是神祇的任性，而是出于每个人自己心中的思想模式。</p></blockquote><blockquote><p>在事物带来快乐或痛苦的时候，重点是要看清事物的本质，而不是着重在它带来的感受，于是就能不再为此所困。虽然感受悲伤，但不要希望悲伤结束，于是虽然仍有悲伤，也能不再为此而困。即使仍然悲伤，也是一种丰硕的经验。虽然感受快乐，但不要希望快乐继续，于是虽然仍有快乐，也能不失去心中的平静。</p></blockquote><blockquote><p>释迦牟尼制定一套冥想的技巧，能够训练心灵感受事物的本质而排除种种欲求。通过训练，心灵专注在“我现在是什么感受？”，而不是问：“为什么是我？”</p></blockquote><blockquote><p>佛陀的教诲一言以蔽之：痛苦来自欲望；要从痛苦中解脱，就要放下欲望；而要放下欲望，就必须训练心智，体验事物的本质。</p></blockquote><blockquote><p>佛教徒还是崇拜着各种神祇，像是在印度的佛教徒拜着印度的神，西藏的佛教徒拜着本教（Bon）的神，日本的佛教徒也拜着神道教的神。</p></blockquote><blockquote><p>诸佛菩萨是人也非人，他们已经能够达到涅槃、解脱痛苦，但为了解脱和帮助还在轮回中的芸芸众生，倒驾慈航重入世间</p></blockquote><h3 id="当崇拜的对象变成了人"><a href="#当崇拜的对象变成了人" class="headerlink" title="当崇拜的对象变成了人"></a>当崇拜的对象变成了人</h3><img src="/2017/01/30/reading-notes-1-history-of-humankind/chapter12.jpg" class=""><h2 id="第十三章-成功的秘密"><a href="#第十三章-成功的秘密" class="headerlink" title="第十三章 成功的秘密"></a>第十三章 成功的秘密</h2><blockquote><p>“如何”和“为何”之间有何不同？描述“如何”的时候，是要重建一连串从一点导致另一点的事件顺序。至于要解释“为何”的时候，则是要找出因果关系，看看究竟为什么发生的是这一连串的事件，而不是另一连串的事件。</p></blockquote><blockquote><p>历史的铁则就是：事后看来无可避免的事，在当时看来总是毫不明显。直到今天，情况仍是如此。我们已经走出全球经济危机了吗？还是前面还有更大的打击？中国会不会继续成长、成为全球第一的超级大国？美国会不会丧失霸主地位？</p></blockquote><p>不能觉得什么都是理所当然的，战争，经济危机，说不定随时可能发生</p><blockquote><p>在1913年10月，布尔什维克党还只是一个很小的俄国激进党派。任何理性的人都想不到，不过短短4年后，他们就接掌了俄国。在公元600年，如果说一小群住在沙漠里的阿拉伯部落会征服从大西洋到印度的辽阔土地，更是如痴人说梦。</p></blockquote><blockquote><p>这也不是说一切都有可能发生。地理、生物和经济力量确实会造成限制。但限制下仍然有许多发展空间，目前还没有什么确实加以制约的法则。</p></blockquote><blockquote><p>历史就是这样的一团混沌，历史就是无法解释得斩钉截铁，无法预测得十拿九稳。在同一时间，有多方力量互相影响、互相牵制，只要某方力量有了极小的改变，结果就会有巨大的不同。</p></blockquote><blockquote><p>混沌系统分成两级，一级混沌指的是“不会因为预测而改变”。例如天气就属于一级混沌系统。<br>至于二级混沌系统，指的是“会受到预测的影响而改变”，因此就永远无法准确预测。例如市场就属于二级混沌系统。<br>政治也属于二级混沌系统。很多人批评研究苏联的学者没能预测到1989年的苏联解体，也嘲笑中东专家没想到2011年会爆发阿拉伯之春革命。但这是不公平的。从定义上，革命就是无法预测。如果真能预测有革命，革命就永远不会成真。</p></blockquote><p>举例</p><blockquote><p>假设在2010年，有某些天才政治学者与某个计算机鬼才合作，开发出某种绝对准确的算法还有个漂亮的界面，号称能够预测是否发生革命。于是，他们向埃及总统穆巴拉克兜售这项服务，换取了一大笔可观的酬劳，告诉穆巴拉克，他们预测来年在埃及必然爆发大规模革命。穆巴拉克会如何反应？最有可能的是他会立刻降税，用数十亿美元补助人民，顺便也大幅加强秘密警察部队，以防万一。于是，这一切的准备工作发挥了效果。一年很快就过去，而且没有发生革命，真是太让人意想不到了，不是吗？于是，穆巴拉克要求退款。他向科学家大吼大叫：“你这套算法是骗人的！要不是你这套东西，我才不会把钱都拱手让人，我大可多盖一座宫殿！”科学家会辩白道：“可是，正是因为我们预测到了，革命才没有发生啊。”“你是说，你们预测到了，只是没有发生？”穆巴拉克一边说，一边示意叫警卫把他们全部抓起来。“这种神棍，开罗的市场到处都有。”</p></blockquote><p>以史为镜 可以知兴替</p><blockquote><p>我们之所以研究历史，不是为了要知道未来，而是要拓展视野，要了解现在的种种绝非“自然”，也并非无可避免。未来的可能性远超过我们的想象。</p></blockquote><blockquote><p>虽然我们无法解释历史做出的选择，但有一点可以确定：历史的选择绝不是为了人类的利益。</p></blockquote><blockquote><p>根据这种说法，文化并不是某些人为了剥削他人而设计出的阴谋，而是因为种种机缘巧合所出现的心理寄生虫，从出现之后就开始剥削所有受到感染的人。<br>迷因学假设，就像是生物演化是基于“基因”这种有机信息单位的复制，文化演化则是基于“迷因”（meme）这种文化信息单位的复制。而所谓成功的文化，就是特别善于复制其迷因，而丝毫不论这对于其人类宿主的成本或利益。</p></blockquote><h1 id="第四部分-科学革命"><a href="#第四部分-科学革命" class="headerlink" title="第四部分 科学革命"></a>第四部分 科学革命</h1><h2 id="第十四章-发现自己的无知"><a href="#第十四章-发现自己的无知" class="headerlink" title="第十四章 发现自己的无知"></a>第十四章 发现自己的无知</h2><p>大杀器</p><blockquote><p>如果要在过去500年间挑出一个最重大、具代表性的一刻，一定就是1945年7月16日上午5点29分45秒。就在这一秒，美国科学家在新墨西哥的阿拉莫戈多引爆了第一颗原子弹。从这时开始，人类不仅有了改变历史进程的能力，更有了结束历史进程的能力。</p></blockquote><blockquote><p>现代科学与先前的知识体系有三大不同之处：<br>1.愿意承认自己的无知<br>2.以观察和数学为中心。<br>3.取得新能力。</p></blockquote><blockquote><p>现代科学是一套独特的知识体系，独特之处也就在于公开承认这“整套体系”都对一些“最重要的问题”一无所知</p></blockquote><blockquote><p>现代科学愿意承认自己的无知，就让它比所有先前的知识体系更具活力、更有弹性，也更有求知欲。</p></blockquote><blockquote><p>现代想要维持社会政治秩序稳定，只能靠着两种不科学的方法，其他别无选择。<br>1.虽然采用科学理论，但必须违反一般科学做法：宣称这就是绝对的真理。纳粹就是采用这种方式，声称他们的种族政策是来自生物事实的推论。<br>2.不要采取科学方法，而诉诸“非科学的绝对真理”。这一直是自由人文主义的策略。自由人文主义的基础在于坚持主张人类的特殊价值和权利，但很尴尬的是，对智人的科学研究并不认同这种看法。但我们也不该太过惊讶。毕竟，科学还是得倚靠着种种宗教和意识形态信仰，才能取得经费，并将研究正当化。</p></blockquote><blockquote><p>现代科学没有需要严格遵守的教条，但研究方法有一个共同的核心：收集各种实证观察（可以用感官感受到的），并以数学工具整理。</p></blockquote><blockquote><p>有些学者想仿照牛顿，将生物学、经济学和心理学整理成简单的公式，却发现这些领域实在太复杂，不可能依样画葫芦。然而，这并不代表他们就放弃了数学。在过去两百年间，为了处理现实中更复杂的层面，数学发展出一个新的分支：统计学。</p></blockquote><blockquote><p>纵观历史，社会上有两种贫穷：（1）社会性的贫穷，指的是某些人掌握了机会，却不愿意释出给他人；（2）生物性的贫穷，指的是因为缺乏食物和住所，而使人的生存受到威胁。或许社会性的贫穷永远都会存在、无法根除，但在全球许多国家中，生物性的贫穷都已经成了过去式。</p></blockquote><h2 id="第十五章-科学与帝国的联姻"><a href="#第十五章-科学与帝国的联姻" class="headerlink" title="第十五章 科学与帝国的联姻"></a>第十五章 科学与帝国的联姻</h2><blockquote><p>究竟欧洲在现代早期培养了什么潜力，让它能在现代晚期称霸全球？这个问题有两个答案、相辅相成：现代科学和资本主义。</p></blockquote><blockquote><p>有一天，航天员受训的时候刚好碰到一位上了年纪的美国原住民。老人问他们在那里做什么。航天员说他们属于一个研究探险队，不久之后就要上月球了。听到他们这么说，老人沉吟了一会儿，问他们能不能帮个忙。“要帮什么忙呢？”他们问。“是这样的，我们族人都相信我们的圣灵住在月亮上。不知道你们能不能为我们族人带个重要的口信？”老人问。“要带什么话呢？”航天员问。这位老人用族语说了一串，并要求航天员重复再三，直到确定他们背得滚瓜烂熟为止。“这是什么意思？”航天员问。“啊，这个是族人和月亮上的圣灵之间的秘密。”等到航天员回了基地，好不容易才找到了一位会讲当地族语的人，希望能翻译这段话的意思。他们把这段话叽里咕噜背出来，让这位翻译简直笑翻了。等到翻译好不容易平静下来，航天员问他，这段话究竟说的是什么。翻译说，这些航天员费尽心力背下来的这句话是：“不管这些人跟您说什么，千万别相信他们。他们只是要来偷走您的土地。”</p></blockquote><blockquote><p>因此“美洲”这个名词就这样广为流传。说来也算是老天有眼，到头来，全球有1/4的陆地、七大洲之中的两洲，名字就是来自一个名不见经传的意大利人，而他唯一做的事就只是有勇气说出“我们不知道”。</p></blockquote><blockquote><p>阿兹特克的卫生水平远高于西班牙。西班牙人第一次来到墨西哥的时候，不论到了哪里，当地人都派人带着熏香随行。西班牙人原本以为这是代表无上的荣耀。但我们从当地文献发现，这其实是因为当地人觉得这些新来的人实在是臭不可闻。</p></blockquote><blockquote><p>梵语竟然和希腊文、拉丁文有惊人的相似之处，而且这些语言也都和哥特语、凯尔特语、古波斯语、德语、法语和英语若合符节。例如梵文的“母亲”是“matar”，而古凯尔特语则是“mathir”。据琼斯推测，所有这些语言一开始必定有共同的来源，那是个古老而已经被遗忘的语言祖先。就这样，他是第一个发现后来称为“印欧语系”这套体系的人。</p></blockquote><h2 id="第十六章-资本主义教条"><a href="#第十六章-资本主义教条" class="headerlink" title="第十六章 资本主义教条"></a>第十六章 资本主义教条</h2><blockquote><p>在1500年，全球商品和服务总产值约是2500亿美元；而今天是大约60兆美元。更重要的是，在1500年，每人年平均产值约为550美元，但今天不论男女老幼，每人年平均产值高达8800美元。</p></blockquote><blockquote><p>“信任”就是世上绝大多数金钱的唯一后盾。</p></blockquote><p>原来是这个逻辑。 明天不一定比之前好，所以觉得财富总量有限，所以限制商人，一个人集中了财富就等于其他人损失了财富。</p><blockquote><p>正因如此，许多文化都认为赚大钱是种罪恶</p></blockquote><blockquote><p>1776年，苏格兰经济学家亚当·斯密出版了《国富论》，这可以说是史上最重要的经济学著作。在《国富论》的第一卷第八章，亚当·斯密提出了以下的创新论述：如果地主、织工或鞋匠赚得的利润高于养家糊口基本所需，就会雇用更多助手，好进一步提高自己的利润。利润越高，能雇的助手也越多。由此可见，民间企业的获利正是社会整体财富和繁荣的基础。</p></blockquote><blockquote><p>他其实告诉我们：贪婪是好的，而且我们让自己过得好的时候，不只是自己得利，还能让他人受益。“利己”就是“利他”。</p></blockquote><blockquote><p>现代资本主义经济的一大重点，就在于出现了一种新的道德标准：应该把利润拿出来，继续投资生产。</p></blockquote><blockquote><p>新的资本主义教条里，最神圣的开宗明义第一条就是：“生产的利润，必须再投资于提高产量。”</p></blockquote><p>作者对未来还是担忧的</p><blockquote><p>一切指望，就在于那些实验室里的人。像是生物科技、纳米科技的新发现，就可能创造出全新的产业，带来庞大的利润，于是就能拿来打平那些银行和政府从2008年以来虚拟创造出的几万亿数字。而如果实验室的脚步不敌泡沫破灭的速度，可以想见经济前景就会令人十分担忧。</p></blockquote><p>华尔街的来历</p><blockquote><p>荷兰的西印度公司（WIC）也在大西洋大展身手。为了掌控哈德孙河这个重要商业通道，西印度公司在河口的一座小岛上开拓了一个殖民地，名为“新阿姆斯特丹”（New Amsterdam）。这个殖民地不断遭受美国原住民威胁，英国人也多次入侵，最后在1664年落入英国手中。英国人将这个城市改名“纽约”（New York，即“新约克”，约克为英国郡名）。当时西印度公司曾在殖民地筑起一道墙，用来抵御英国人和美国原住民，这道墙的位置现在成了世界上最著名的街道：华尔街（Wall Street，直译为“墙街”）。<br>密西西比公司利用其政治影响力操纵股价、推动购买热潮，结果让法国人民对法国金融系统和国王的金融智慧都失去信心。路易十五越来越难推动各种信贷计划，而这也成为法国海外领土逐渐落入英国手中的主因之一。</p></blockquote><blockquote><p>在中世纪，糖在欧洲是难得的奢侈品，必须由中东进口，而且价钱令人咋舌，使用的时候百般珍惜，视为某种秘密成分，加进各种美食或是蛇油为底的药物中。等到美洲开始有了一片又一片的大型甘蔗园，就开始有越来越多的糖运抵欧洲。糖价开始下跌，而欧洲对甜食也越来越贪得无厌。</p></blockquote><blockquote><p>这是自由市场资本主义美中不足之处。它无法保证利润会以公平的方式取得或是以公平的方式分配。而且相反的是，因为人类有追求利润和经济成长的渴望，就会决定盲目扫除一切可能的阻挠。等到“成长”成了无上的目标、不受其他道德伦理考虑的制衡，就很容易衍生成一场灾难。</p></blockquote><blockquote><p>有一些宗教（例如基督教和纳粹）杀害了数百万人，原因是出于仇恨。然而，资本主义也杀害了数百万人，原因则是出于冷漠和贪婪</p></blockquote><h2 id="第十七章-工业的巨轮"><a href="#第十七章-工业的巨轮" class="headerlink" title="第十七章 工业的巨轮"></a>第十七章 工业的巨轮</h2><p>能量转化靠人</p><blockquote><p>在当时想要转换能量，只能靠一种东西：人类或动物自己的身体。在自然的代谢过程里，人类和其他动物燃烧有机燃料（也就是食物），把能量转换为肌肉运动。于是，男男女女或动物摄取谷物和肉类，燃烧碳水化合物和脂肪，再用这些能量来拉车或犁田。</p></blockquote><blockquote><p>由此看来，历史上人类成就的几乎所有事情，第一步靠的都是将植物取得的太阳能转换为肌肉的力量。</p></blockquote><blockquote><p>每次有哪个家庭主妇或仆人想要烧水泡茶，或是把装满了马铃薯的锅放在炉子上煮，这项发明就这样明显地在他们眼前。在水煮沸的那一刻，水壶或锅的盖子会开始跳上跳下。这时热能转换为动能，但是我们过去都只觉得这样乱跳有点烦人，至于一时忘记而让水煮干就更麻烦了。没人注意到这件事的真正潜力。</p></blockquote><blockquote><p>直到后来（起因可能是某些炸弹专家在研钵里磨火药，磨杵却被大力炸飞？），才终于发明了枪</p></blockquote><blockquote><p>1830年9月15日，第一条商业化铁路开通，连接了利物浦与曼彻斯特，用的同样是与抽水或纺织相同的蒸汽动力。</p></blockquote><blockquote><p>工业革命的核心，其实就是能源转换的革命。</p></blockquote><blockquote><p>如果与太阳任何一天放射出的能量相比，全球所有化石燃料所储存的能源简直是微不足道。太阳的能量只有一小部分会到达地球，但即使是这一小部分，就已经高达每年3766800艾焦（焦耳是能量单位，在地心引力下将一颗小苹果抬升一米，所需的能量就是一焦耳；至于艾焦则是1018焦耳，这可是很多很多颗苹果。）全球所有植物进行光合作用，也只能保留大约3000艾焦的能量。现在人类所有活动和产业每年约消耗500艾焦，而地球只要大约短短90分钟，就能从太阳接收到这么多能量。</p></blockquote><blockquote><p>19世纪60年代，法国皇帝拿破仑三世还会用铝质餐具来宴请最尊贵的客人，至于那些二等的客人，就只能用黄金的刀叉来凑合凑合。</p></blockquote><blockquote><p>工业革命最重要的一点，其实在于它就是第二次的农业革命。</p></blockquote><blockquote><p>猪的智商和好奇心在哺乳动物里数一数二，可能只低于巨猿。</p></blockquote><blockquote><p>大西洋奴隶贸易并非出于对非洲人的仇恨，而现代畜牧业也同样不是出于对动物的仇恨。这两者背后共同的推手，就是冷漠。</p></blockquote><blockquote><p>随着农业工业化，只需要越来越少的农民数量，就足以养活越来越多的办公或工厂人口。</p></blockquote><blockquote><p>正是因为农业释放出了数十亿的人力，由工厂和办公室吸纳，才开始像雪崩一样有各种新产品倾泻而出</p></blockquote><blockquote><p>资本主义和消费主义的伦理可以说是一枚硬币的正反两面，将这两种秩序合而为一。有钱人的最高指导原则是——“投资！”而我们这些其他人的最高指导原则则是——“购买！”</p></blockquote><h2 id="第十八章-一场永远的革命"><a href="#第十八章-一场永远的革命" class="headerlink" title="第十八章 一场永远的革命"></a>第十八章 一场永远的革命</h2><blockquote><p>工业革命找出新方法来进行能量转换和商品生产，于是人类对于周遭生态系统的依赖大减</p></blockquote><blockquote><p>工业革命不仅为人类带来了时刻表和生产线的概念，更将这些概念推广到几乎所有的人类活动当中</p></blockquote><blockquote><p>因为火车的速度比传统马车快上太多，所以各地时间的微小差异就造成了巨大的困扰。1847年，英国各家火车业者齐聚一堂，研拟同意统一协调所有火车时刻表，一概以格林尼治天文台的时间为准，而不再遵循利物浦、曼彻斯特、格拉斯哥或任何其他城市的当地时间</p></blockquote><blockquote><p>最后在1880年，英国政府迈出了前所未有的一步，立法规定全英国的时刻表都必须以格林尼治时间为准。这是史上第一次有国家采取了全国统一的时刻表，要求人民依据人工的时钟来过生活，而不是依据当地的日升日落周期有所调整。</p></blockquote><blockquote><p>这一切都比不上有史以来人类最大的社会革命：家庭和地方社群崩溃，改由国家和市场取代。</p></blockquote><blockquote><p>很多时候，王国和帝国就像是收着保护费的黑道集团。国王就是黑道大哥，收了保护费就得罩着自己的人民，不受附近其他黑道集团或当地小混混骚扰。除此之外，其实也没什么功用。</p></blockquote><blockquote><p>随着时间过去，国家和市场的权力不断扩大，也不断削弱家庭和社群过去对成员的紧密连接。国家开始派出警察，制止家族里的私刑，改用法院判决取代。市场也派出小贩和商人，让各地悠久的传统逐渐消失，只剩下不断汰换的流行商业文化。</p></blockquote><blockquote><p>国家与市场找上家庭和社群的各个成员，开出了他们无法拒绝的条件。他们说：“做自己吧！想娶想嫁都随你的意，别管父母准不准。想挑什么工作都可以，别担心什么大家长说的话。想住哪就住哪，就算没办法每周和家人吃上一次饭又有什么关系呢？你不用再依赖家庭或社群了。我们，也就是国家和市场，让我们来照顾你吧。我们会给你食物、住房、教育、保健、福利和就业机会。我们也会给你退休金、保险和保障。”</p></blockquote><blockquote><p>市场和国家要增强这些情感面，靠的就是塑造“想象的社群”（imagined communities，另译“想象的共同体”<br>现代所兴起的两大想象社群，就是“民族”和“消费大众”。所谓民族，是国家的想象社群。而所谓消费大众，则是市场的想象社群。</p></blockquote><blockquote><p>我们现在之所以有叙利亚人、黎巴嫩人、约旦人、伊拉克人的区别，只是因为当初英法两国的外交官在完全不顾当地历史、地理和经济的情况下，在一片沙漠之中确定出了所谓的边界。</p></blockquote><p>宏观角度</p><blockquote><p>我们比较容易体会个人的辛酸，而不是人类整体的苦难。但为了从宏观角度来看历史进程，我们需要看整体统计数据，而不只是看个人的故事而已。在公元2000年，全球战争造成31万人丧生，而暴力犯罪造成52万人死亡。当然，对每一个受害者来说这都是世界的毁灭，家破人亡，朋友和亲戚悲痛欲绝。但从宏观的角度来看，在2000年总共83万的死亡者只占了全球5600万总死亡人数的1.5%。在同样一年，车祸死亡的人数达到126万（占总死亡人数2.25%），自杀人数达81.5万（占总死亡人数1.45%）</p></blockquote><p>恐怖平衡</p><blockquote><p>如果说有个最高诺贝尔和平奖，应该把奖颁给罗伯特·奥本海默以及和他一起研发出原子弹的同事。有了核武器之后，超级大国之间如果再开战，无异等于集体自杀。因此，想要武力征服全球也成了不可能的任务。其次，正因为战争的成本飙升，也就代表其利润下降。</p></blockquote><blockquote><p>虽然现在世界上仍然偶尔会发生大规模国际战争（例如伊拉克入侵科威特），但原因在于这些地方的财富多半属于传统的实质财富。</p></blockquote><blockquote><p>同时，虽然战争已经不再那么有利可图，但和平却成了一笔越来越划算的生意。在过去的农业经济中，长途贸易和外国投资并非重点，因此和平顶多只是省下战争费用，其他并无太大好处。</p></blockquote><blockquote><p>最后一项重点，在于全球政治文化也有了结构性的大变动。</p></blockquote><blockquote><p>现在有四大因素形成了一个良性循环。核子末日的威胁促进了和平主义；和平主义大行其道，于是战争退散、贸易兴旺；贸易成长，也就让和平的利润更高，而战争的成本也更高。</p></blockquote><h2 id="第十九章-从此过着幸福快乐的日子"><a href="#第十九章-从此过着幸福快乐的日子" class="headerlink" title="第十九章 从此过着幸福快乐的日子"></a>第十九章 从此过着幸福快乐的日子</h2><h3 id="快感"><a href="#快感" class="headerlink" title="快感"></a>快感</h3><blockquote><p>目前有一项耐人寻味的结论：金钱确实会带来快乐，但是有一定限度，超过限度之后的效果就不那么明显。所以，对于在经济阶层底层的人来说，确实是钱越多就越快乐。</p></blockquote><p>知足常乐</p><blockquote><p>快乐并不在于任何像是财富、健康甚至社群之类的客观条件，而在于客观条件和主观期望之间是否相符</p></blockquote><blockquote><p>如果说快乐要由期望来决定，那么我们社会的两大支柱（大众媒体和广告业）很有可能正在不知不觉地让全球越来越不开心。</p></blockquote><p>赚钱买门票啊</p><blockquote><p>穷人和受压迫者之所以还能自我安慰，就是因为死亡是唯一完全公平的事。不论再富有、权力再大，人也难逃一死。光是想到自己得死，但有钱人居然能长生不老，就会让穷人怒火中烧、不可遏抑。</p></blockquote><blockquote><p>我们能够快乐的唯一原因，就是身体内发出快感的感官感受。</p></blockquote><blockquote><p>演化就把快感当成奖赏，鼓励男性和女性发生性行为、将自己的基因传下去。如果性交没有高潮，大概很多男性就不会那么热衷。但同时，演化也确保高潮得迅速退去。如果性高潮永续不退，可以想象男性会非常开心，但连觅食的动力都没了，最后死于饥饿</p></blockquote><blockquote><p>我们就不用再浪费时间处理政治和社会改革、叛乱和意识形态，而是开始全力研究唯一能真正让我们快乐的方法：操纵人类的生化机制</p></blockquote><p>以后人类就插着管子 戴着VR活着好了</p><blockquote><p>百忧解（Prozac）之所以让人不再沮丧，靠的就不是对任何体制的改革，而只是提高血清素的浓度。</p></blockquote><h3 id="赋予生命意义"><a href="#赋予生命意义" class="headerlink" title="赋予生命意义"></a>赋予生命意义</h3><blockquote><p>正如尼采所言，只要有了活下去的理由，几乎什么都能够忍受。生活有意义，就算在困境中也能甘之如饴；生活无意义，就算在顺境中也度日如年。</p></blockquote><blockquote><p>从我们所知的纯粹科学角度来看，人类的生命本来就完全没有意义。人类只是在没有特定目标的演化过程中，盲目产生的结果。人类的行动没有什么神圣的整体计划，而且如果整个地球明天早上就爆炸消失，整个宇宙很可能还是一样这么继续运行下去。</p></blockquote><blockquote><p>我们对生活所赋予的任何意义，其实都只是错觉</p></blockquote><blockquote><p>如果快乐是在于感受快感，想要更快乐，就得操纵我们的生化系统。如果快乐是在于觉得生命有意义，想要更快乐，就得要骗自己骗得更彻底</p></blockquote><blockquote><p>DNA就像撒旦，用一些稍纵即逝的快乐作为引诱，令人为之臣服。</p></blockquote><h3 id="放下追求主观感受"><a href="#放下追求主观感受" class="headerlink" title="放下追求主观感受"></a>放下追求主观感受</h3><blockquote><p>佛教认为，快乐既不是主观感受到愉悦，也不是主观觉得生命有意义，反而是在于放下追求主观感受这件事。</p></blockquote><blockquote><p>苦的根源既不在于感到悲伤或疼痛，也不在于感觉一切没有意义。苦真正的根源就在于“追求”主观感受这件事，不管追求的是什么，都会让人陷入持续的紧张、困惑和不满之中。</p></blockquote><blockquote><p>人想要离苦得乐，就必须了解自己所有的主观感受都只是一瞬间的波动，而且别再追求某种感受。如此一来，虽然感受疼痛，但不再感到悲惨；虽然愉悦，但不再干扰心灵的平静。于是，心灵变得一片澄明、自在。这样产生的心灵平静力量强大，那些穷极一生疯狂追求愉悦心情的人完全难以想象。这就像是有人已经在海滩上站了数十年，总是想抓住“好的海浪”，让这些海浪永远留下来，同时又想躲开某些“坏的海浪”，希望这些海浪永远别靠近。就这样一天又一天，这个人站在海滩上徒劳无功，被自己累得几近发疯。最后终于气力用尽，瘫坐在海滩上，让海浪就这样自由来去。忽然发现，这样多么平静啊！</p></blockquote><h2 id="第二十章-智人末日"><a href="#第二十章-智人末日" class="headerlink" title="第二十章 智人末日"></a>第二十章 智人末日</h2><blockquote><p>达尔文理论美妙的地方，就是并不需要有某位智慧过人的设计者来解释为什么长颈鹿会有长脖子。</p></blockquote><blockquote><p>经过40亿年的自然选择之后，阿巴可说是站在新时代曙光乍现的时间点，生命即将改由智能设计来操控</p></blockquote><blockquote><p>有三种方式可能让智慧设计取代自然选择：<br>生物工程（biological engineering）、<br>仿生工程（cyborg engineering）与<br>无机生命（inorganic life）工程。</p></blockquote><h3 id="生物工程"><a href="#生物工程" class="headerlink" title="生物工程"></a>生物工程</h3><blockquote><p>所谓生物工程，指的是人类刻意在生物层次进行的干预行为（例如植入基因），目的在于改变生物体的外形、能力、需求或欲望，以实现某些预设的文化概念（例如爱德华多·卡茨心中的那种艺术）。</p></blockquote><blockquote><p>在英文里，未阉割的公牛称为“bull”，阉割后的称为“ox”，这种将牛阉割的做法已经有大约一万年之久，阉割后的牛比较不具侵略性，也就比较容易训练拉犁。</p></blockquote><p>人类可以让尼安德特人再现，可以改变人类的生理、免疫系统和寿命长短。</p><blockquote><p>许多人都认为，现在人类太快看到太多的机会，手中已经握有基因修改能力，却还无法做出明智、有远见的决定。</p></blockquote><blockquote><p>由俄罗斯、日本和韩国组成的科学家团队最近已经完成长毛象的基因定序。他们正在计划要拿一个现代大象的受精卵细胞，将大象的DNA换成长毛象DNA，再重新植回大象的子宫。只要再经过大约22个月，长毛象就能在绝迹近5000年后再次重现于地球。</p></blockquote><h3 id="仿生工程"><a href="#仿生工程" class="headerlink" title="仿生工程"></a>仿生工程</h3><blockquote><p>仿生工程结合有机和无机组织，创造出“生化人”（cyborg），例如为人类装上生化手就是一例。</p></blockquote><p>这不是三体人吗？</p><blockquote><p>在所有目前进行的研究当中，最革命性的就是要建构一个直接的大脑–计算机双向接口，让计算机能够读取人脑的电子信号，并且同时输回人脑能够了解的电子信号。如果这种设备成功，再直接将大脑连上网络，或是让几个大脑彼此相连，形成“脑际网络”，情况会如何？</p></blockquote><h3 id="无机生命"><a href="#无机生命" class="headerlink" title="无机生命"></a>无机生命</h3><blockquote><p>创造完全无机的生命。最明显的例子，就是能够自行独立演化的计算机程序和计算机病毒。<br>基因程序设计（genetic programming）</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> reading-notes </category>
          
      </categories>
      
      
        <tags>
            
            <tag> reading-notes </tag>
            
            <tag> history </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Rust语言(3):引用依赖库</title>
      <link href="/2017/01/25/Rust-lang-3-crate/"/>
      <url>/2017/01/25/Rust-lang-3-crate/</url>
      
        <content type="html"><![CDATA[<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=396696&auto=0&height=66"></iframe><p><a href="https://crates.io/" target="_blank" rel="noopener">crate.io</a>是Rust社区的中心package仓库，该仓库有各种不同功能的Rust软件库。</p><p>（过年喽，年前最后一篇了，还有很多坑没填。2017，Year of Rooster，加油，fighting！）</p><a id="more"></a><h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p><a href="https://crates.io/" target="_blank" rel="noopener">crate.io</a>是Rust社区的中心package仓库，<code>cargo</code>用来管理package，下载、版本管理、编译、运行依赖的packages。<br><code>crate</code>本身是<code>木箱</code>的意思，而<code>cargo</code>有<code>货运</code>的意思，<code>cargo</code>承载着各种<code>货物</code>，其中有一些是封装好的<code>木箱</code>。这个比喻倒也贴切。</p><h1 id="add-package"><a href="#add-package" class="headerlink" title="add package"></a>add package</h1><h2 id="packages-from-crate-io"><a href="#packages-from-crate-io" class="headerlink" title="packages from crate.io"></a>packages from crate.io</h2><p>使用Rust（当前版本<code>1.14.0</code>）过程中，如果需要使用一些非核心库（Rust的核心库功能有限，使用到其他的库是大概率事件），则需要在<code>Cargo.toml</code>文件添加依赖的package。这些package可以是来自<a href="https://crates.io/" target="_blank" rel="noopener">crate.io</a>，或者<code>git仓库</code>，或者本地路径。</p><p>以下是一个从 crate.io 引用 crate 的例子，两个步骤：</p><ol><li><p>在 Cargo.toml 文件中增加dependencies的package名字以及版本。</p><figure class="highlight toml"><figcaption><span>Cargo.toml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[dependencies]</span></span><br><span class="line"><span class="attr">webbrowser</span> = <span class="string">"0.2.2"</span></span><br></pre></td></tr></table></figure></li><li><p>在rust源文件中引入 crate。</p><figure class="highlight rs"><figcaption><span>Rust import external crate</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extern</span> <span class="keyword">crate</span> webbrowser;</span><br></pre></td></tr></table></figure></li></ol><h2 id="packages-from-git-repository"><a href="#packages-from-git-repository" class="headerlink" title="packages from git repository"></a>packages from git repository</h2><figure class="highlight toml"><figcaption><span>dependencies from git repository</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[dependencies]</span></span><br><span class="line"><span class="attr">rand</span> = &#123; git = <span class="string">"https://github.com/rust-lang-nursery/rand"</span>, branch = <span class="string">"next"</span> &#125;</span><br></pre></td></tr></table></figure><p>如果不加<code>branch=&quot;next&quot;</code>，则默认获取最新的commit，当然可以用<code>rev</code>、<code>tag</code>、<code>branch</code>来指定不同的版本。</p><h2 id="packages-from-local-path"><a href="#packages-from-local-path" class="headerlink" title="packages from local path"></a>packages from local path</h2><figure class="highlight toml"><figcaption><span>dependencies from local directory</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[dependencies]</span></span><br><span class="line"><span class="attr">my_crate_name</span> = &#123; path = <span class="string">"../my-crate-directory"</span>, version = <span class="string">"0.1.0"</span> &#125;</span><br></pre></td></tr></table></figure><p>如果不加<code>version=&quot;0.1.0&quot;</code>，则不会进行版本检查。</p><h1 id="package-version"><a href="#package-version" class="headerlink" title="package version"></a>package version</h1><h2 id="Semver"><a href="#Semver" class="headerlink" title="Semver"></a>Semver</h2><p>版本号<code>0.2.2</code>有讲究，这是符合<a href="http://semver.org/" target="_blank" rel="noopener">语义化版本控制(Semantic Versioning)</a>格式，这种格式制定了严格的版本号更新要求，严格遵守可以防止<code>dependency hell(依赖地狱)</code>问题。</p><blockquote><p>Given a version number MAJOR.MINOR.PATCH, increment the:<br>MAJOR version when you make incompatible API changes,<br>MINOR version when you add functionality in a backwards-compatible manner, and<br>PATCH version when you make backwards-compatible bug fixes.<br>Additional labels for pre-release and build metadata are available as extensions to the MAJOR.MINOR.PATCH format.</p></blockquote><h2 id="Caret-requirements"><a href="#Caret-requirements" class="headerlink" title="Caret requirements"></a>Caret requirements</h2><p>版本号还可以有另外一种crate格式，这种格式<code>^x.y.z</code>允许升级到与要求版本号兼容的最新版本上。</p><figure class="highlight plain"><figcaption><span>Crate format</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">^1.2.3 :&#x3D; &gt;&#x3D;1.2.3 &lt;2.0.0</span><br><span class="line">^1.2 :&#x3D; &gt;&#x3D;1.2.0 &lt;2.0.0</span><br><span class="line">^1 :&#x3D; &gt;&#x3D;1.0.0 &lt;2.0.0</span><br><span class="line">^0.2.3 :&#x3D; &gt;&#x3D;0.2.3 &lt;0.3.0</span><br><span class="line">^0.0.3 :&#x3D; &gt;&#x3D;0.0.3 &lt;0.0.4</span><br><span class="line">^0.0 :&#x3D; &gt;&#x3D;0.0.0 &lt;0.1.0</span><br><span class="line">^0 :&#x3D; &gt;&#x3D;0.0.0 &lt;1.0.0</span><br></pre></td></tr></table></figure><h2 id="Tilde-requirements"><a href="#Tilde-requirements" class="headerlink" title="Tilde requirements"></a>Tilde requirements</h2><p>版本号还支持另一种Tilde格式，这种格式<code>~x.y.z</code>指定了最低版本号要求。</p><figure class="highlight plain"><figcaption><span>Tilde format</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">~1.2.3 :&#x3D; &gt;&#x3D;1.2.3 &lt;1.3.0</span><br><span class="line">~1.2   :&#x3D; &gt;&#x3D;1.2.0 &lt;1.3.0</span><br><span class="line">~1     :&#x3D; &gt;&#x3D;1.0.0 &lt;2.0.0</span><br></pre></td></tr></table></figure><h2 id="Wildcard-requirements"><a href="#Wildcard-requirements" class="headerlink" title="Wildcard requirements"></a>Wildcard requirements</h2><p>版本号支持通配符。</p><figure class="highlight plain"><figcaption><span>ver wildcard</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* :&#x3D; &gt;&#x3D;0.0.0</span><br><span class="line">1.* :&#x3D; &gt;&#x3D;1.0.0 &lt;2.0.0</span><br><span class="line">1.2.* :&#x3D; &gt;&#x3D;1.2.0 &lt;1.3.0</span><br></pre></td></tr></table></figure><h1 id="build-a-project-with-dependencies"><a href="#build-a-project-with-dependencies" class="headerlink" title="build a project with dependencies"></a>build a project with dependencies</h1><p>我做的一个例子<a href="https://github.com/WuChenxu/Rust/tree/master/04_take_a_break" target="_blank" rel="noopener">take a break</a>，实现了每隔一段时间打开默认浏览器播放音乐功能，其中需要用到<code>webbrowser</code>库。</p><figure class="highlight sh"><figcaption><span>cargo build a project with depedencies</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt;cargo build</span><br><span class="line">    Updating registry `https://github.com/rust-lang/crates.io-index`</span><br><span class="line"> Downloading webbrowser v0.2.2</span><br><span class="line">   Compiling webbrowser v0.2.2</span><br><span class="line">   Compiling take_a_break v0.1.0 (file:///Users/alta/github/Rust/04_take_a_break)</span><br><span class="line">    Finished debug [unoptimized + debuginfo] target(s) <span class="keyword">in</span> 0.66 secs</span><br></pre></td></tr></table></figure><h1 id="update-a-project-with-dependencies"><a href="#update-a-project-with-dependencies" class="headerlink" title="update a project with dependencies"></a>update a project with dependencies</h1><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;cargo <span class="keyword">update</span></span><br><span class="line">    Updating registry `http<span class="variable">s:</span>//github.<span class="keyword">com</span>/rust-lang/crates.io-<span class="built_in">index</span>`</span><br></pre></td></tr></table></figure><p>Reference:</p><ol><li><a href="http://doc.crates.io/guide.html" target="_blank" rel="noopener">Cargo Guide</a></li><li><a href="https://github.com/steveklabnik/semver" target="_blank" rel="noopener">Rust semver</a></li><li><a href="http://semver.org/lang/zh-CN/" target="_blank" rel="noopener">semver</a></li><li><a href="https://github.com/WuChenxu/Rust/tree/master/04_take_a_break" target="_blank" rel="noopener">take a break</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Rust </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Rust </tag>
            
            <tag> crate </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>软件开发(1):state machine</title>
      <link href="/2017/01/16/software-design-1-state-machine/"/>
      <url>/2017/01/16/software-design-1-state-machine/</url>
      
        <content type="html"><![CDATA[<p>FSM,HSM,Model-Base…</p><a id="more"></a><h1 id="state-machine"><a href="#state-machine" class="headerlink" title="state machine"></a>state machine</h1><h2 id="状态机是什么"><a href="#状态机是什么" class="headerlink" title="状态机是什么"></a>状态机是什么</h2><h2 id="硬件"><a href="#硬件" class="headerlink" title="硬件"></a>硬件</h2><h2 id="软件"><a href="#软件" class="headerlink" title="软件"></a>软件</h2><h2 id="通信"><a href="#通信" class="headerlink" title="通信"></a>通信</h2><h1 id="FSM-Finite-State-Machine"><a href="#FSM-Finite-State-Machine" class="headerlink" title="FSM(Finite State Machine)"></a>FSM(Finite State Machine)</h1><h2 id="三段式"><a href="#三段式" class="headerlink" title="三段式"></a>三段式</h2><h2 id="状态转移表"><a href="#状态转移表" class="headerlink" title="状态转移表"></a>状态转移表</h2><h1 id="HSM-hierarchical-State-Machine"><a href="#HSM-hierarchical-State-Machine" class="headerlink" title="HSM(hierarchical State Machine)"></a>HSM(hierarchical State Machine)</h1><p>注意状态之间的同步</p><h1 id="Modeling"><a href="#Modeling" class="headerlink" title="Modeling"></a>Modeling</h1><p>design<br>integration<br>simulate<br>validation<br>generate code</p><h2 id="Matlab-Stateflow"><a href="#Matlab-Stateflow" class="headerlink" title="Matlab Stateflow"></a><a href="https://www.mathworks.com/products/stateflow.html" target="_blank" rel="noopener">Matlab Stateflow</a></h2><h2 id="YAKINDU-Statechart-Tools-SCT"><a href="#YAKINDU-Statechart-Tools-SCT" class="headerlink" title="YAKINDU Statechart Tools (SCT)"></a><a href="https://www.itemis.com/en/yakindu/statechart-tools/" target="_blank" rel="noopener">YAKINDU Statechart Tools (SCT)</a></h2>]]></content>
      
      
      <categories>
          
          <category> software </category>
          
      </categories>
      
      
        <tags>
            
            <tag> software </tag>
            
            <tag> design </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>怎样开发一个产品</title>
      <link href="/2017/01/11/how-to-develop-a-product/"/>
      <url>/2017/01/11/how-to-develop-a-product/</url>
      
        <content type="html"><![CDATA[<p>个人的一点看法，欢迎讨论。谢绝转载。</p><a id="more"></a><h1 id="逆向开发"><a href="#逆向开发" class="headerlink" title="逆向开发"></a>逆向开发</h1><p>如果是一个成熟产品，市面上有很多现成的产品，那么一个快速开发的捷径是”抄”。硬件可以模仿甚至抄板，软件可以通过学习市场上其他产品的功能，算法可以参考一些公开的论文，结合对其他产品的反向分析。<br>曾经有过极端的案例是，硬件抄板成一模一样，软件读出来，直接烧录进去就可以出货了。当然了这种极端的做法是侵犯了别人的知识产权，我是不支持的。</p><h1 id="正向开发"><a href="#正向开发" class="headerlink" title="正向开发"></a>正向开发</h1><p>按照顺序：</p><ol><li>定义问题</li><li>寻找解决方案</li><li>系统架构设计</li><li>硬件设计设计</li><li>软件架构设计</li><li>软件开发</li><li>软件测试</li><li>系统测试</li></ol><p>核心竞争力：建立开发（development）和系统性能调优（system preformance tuning）的能力（know-how，toolchain…）。<br>系统设计可以划分子系统，子系统下面可以划分子模块，每个模块可独立演进，每个模块的算法可以优化迭代。<br>软件模块开发可以考虑用基于模型的设计（Model-Based design），如Matlab，既可以做SIL（Software In the Loop）或者HIL（Hardware In the Loop），也可以生成代码在嵌入式设备中运行。<br>有前瞻性的预研团队，可以与高校或者研究所合作，确保技术上不断更新。<br>当然对汽车行业还要考虑更多：A-SPICE、ISO26262（functional safety），AUTOSAR。</p><h1 id="混合模式"><a href="#混合模式" class="headerlink" title="混合模式"></a>混合模式</h1><p>就算是已正向开发为主的大公司，也会进行所谓”竞争对手分析”，对比市场上的产品与一家产品的功能及性能差距，优点可以在向客户的推介材料里展示，缺点可以称为改进的方向，以确保产品在市场上有竞争力。<br>如果一家刚起步的公司两种方法：</p><ol><li>集中精力开发核心模块，其他模块都外包，如Mobieye专攻图像处理器和算法，可以集成到Tier1或者OEM的video里。</li><li>先逆向开发出产品，杀入市场，占领一部分市场，然后慢慢建立自己的正向研发能力，如国内主机厂，华为手机原来是白牌。</li></ol><p>reference：</p><ol><li><a href="https://en.wikipedia.org/wiki/Mobileye" target="_blank" rel="noopener">Mobieye</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> product </category>
          
      </categories>
      
      
        <tags>
            
            <tag> idea </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows command(20):date time</title>
      <link href="/2016/12/18/windows-cmd-20-date-time/"/>
      <url>/2016/12/18/windows-cmd-20-date-time/</url>
      
        <content type="html"><![CDATA[<p><code>data</code>命令用来显示日期；<code>time</code>命令用来显示时间。</p><a id="more"></a><h1 id="Basics"><a href="#Basics" class="headerlink" title="Basics"></a>Basics</h1><figure class="highlight bat"><figcaption><span>date</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="built_in">echo</span> <span class="variable">%date%</span></span><br><span class="line">Sun <span class="number">12</span>/<span class="number">18</span>/<span class="number">2016</span></span><br></pre></td></tr></table></figure><figure class="highlight bat"><figcaption><span>time</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="built_in">echo</span> <span class="variable">%time%</span></span><br><span class="line"><span class="number">17</span>:<span class="number">00</span>:<span class="number">35</span>.<span class="number">87</span></span><br></pre></td></tr></table></figure><p>note:</p><ol><li><code>%</code>可以替换为<code>!</code>，效果一样。</li><li>注册表里<code>HKCU\Control Panel\International</code>下的一些键值：<br> <code>sShortDate</code>键值为<code>M/d/yyyy</code><br> <code>sTimeFormat</code>键值为<code>h:mm:ss tt</code><br> 以上键值不同则输出的格式会有不同。</li></ol><h1 id="format-output"><a href="#format-output" class="headerlink" title="format output"></a>format output</h1><h2 id="截取字符串"><a href="#截取字符串" class="headerlink" title=":截取字符串"></a><code>:</code>截取字符串</h2><figure class="highlight bat"><figcaption><span>date year</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="built_in">echo</span> <span class="variable">%date：~10,4%</span></span><br><span class="line"><span class="number">2016</span></span><br></pre></td></tr></table></figure><p><code>date</code>后的<code>:</code>表示对变量作处理，<code>~10</code>表示从第10个字符开始取内容（从0开始计数），<code>,4</code>表示去4个字符。</p><figure class="highlight bat"><figcaption><span>date month</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="built_in">echo</span> <span class="variable">%date：~4,2%</span></span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure><figure class="highlight bat"><figcaption><span>date day</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="built_in">echo</span> <span class="variable">%date：~7,2%</span></span><br><span class="line"><span class="number">18</span></span><br></pre></td></tr></table></figure><figure class="highlight bat"><figcaption><span>time hour</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="built_in">echo</span> <span class="variable">!time:~,2!</span></span><br><span class="line"><span class="number">19</span></span><br></pre></td></tr></table></figure><figure class="highlight bat"><figcaption><span>time minute</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="built_in">echo</span> <span class="variable">!time:~3,2!</span></span><br><span class="line"><span class="number">58</span></span><br></pre></td></tr></table></figure><figure class="highlight bat"><figcaption><span>time second</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="built_in">echo</span> <span class="variable">!time:~6,2!</span></span><br><span class="line"><span class="number">20</span></span><br></pre></td></tr></table></figure><h2 id="for语句"><a href="#for语句" class="headerlink" title="for语句"></a><code>for</code>语句</h2><figure class="highlight bat"><figcaption><span>for-date</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="keyword">for</span> /F "tokens=<span class="number">1</span>-<span class="number">4</span> delims=/ " %i <span class="keyword">in</span> ("<span class="variable">%date%</span>") <span class="keyword">do</span> @<span class="built_in">echo</span> <span class="variable">%i-%</span>j-<span class="variable">%k-%</span>l</span><br><span class="line">Sun-<span class="number">12</span>-<span class="number">18</span>-<span class="number">2016</span></span><br><span class="line">&gt;<span class="keyword">for</span> /F "tokens=<span class="number">1</span>-<span class="number">4</span> delims=/ " %i <span class="keyword">in</span> ("<span class="variable">%date%</span>") <span class="keyword">do</span> @<span class="built_in">echo</span> <span class="variable">%l-%</span>j-%k</span><br><span class="line"><span class="number">2016</span>-<span class="number">12</span>-<span class="number">18</span></span><br></pre></td></tr></table></figure><figure class="highlight bat"><figcaption><span>for-time</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="keyword">for</span> /F "tokens=<span class="number">1</span>-<span class="number">4</span> delims=:." %i <span class="keyword">in</span> ("<span class="variable">%time%</span>") <span class="keyword">do</span> @<span class="built_in">echo</span> <span class="variable">%i-%</span>j-<span class="variable">%k-%</span>l</span><br><span class="line"><span class="number">20</span>-<span class="number">29</span>-<span class="number">30</span>-<span class="number">71</span></span><br><span class="line">&gt;<span class="keyword">for</span> /F "tokens=<span class="number">1</span>-<span class="number">4</span> delims=:." %i <span class="keyword">in</span> ("<span class="variable">%time%</span>") <span class="keyword">do</span> @<span class="built_in">echo</span> <span class="variable">%i%</span>j</span><br><span class="line"><span class="number">2029</span></span><br></pre></td></tr></table></figure><h1 id="unified-output-format-in-different-operation-settings"><a href="#unified-output-format-in-different-operation-settings" class="headerlink" title="unified output format in different operation settings"></a>unified output format in different operation settings</h1><p>由于Windows语言和日期格式设置不同，可能的输出也不同：</p><figure class="highlight plain"><figcaption><span>date format</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">星期日 2016-12-18</span><br><span class="line">2016-12-18 星期日</span><br><span class="line">12&#x2F;18&#x2F;2016 Sun</span><br><span class="line">Sun 12&#x2F;18&#x2F;2016</span><br></pre></td></tr></table></figure><p>不同的格式用<a href="#format-output">上一节</a>所述方法，在不同设置的操作系统上，会得到不同的结果，有可能是错误的结果；<br>通过修改注册表中的<code>sShortDate</code>键值来保证不同的操作系统设置都能输出正确的格式。</p><figure class="highlight bat"><figcaption><span>date.bat</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="keyword">for</span> /f "delims=" <span class="variable">%%a</span> <span class="keyword">in</span> ('reg query "HKEY_CURRENT_USER\Control Panel\International" /v sShortDate') <span class="keyword">do</span> (</span><br><span class="line">  <span class="built_in">set</span> "RegDateOld=<span class="variable">%%a</span>"</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> RegDateOld=<span class="variable">%RegDateOld:~-8%</span></span><br><span class="line"></span><br><span class="line">reg add "HKEY_CURRENT_USER\Control Panel\International" /v sShortDate /t REG_SZ /d yyyy-M-d /f&gt;<span class="built_in">nul</span></span><br><span class="line"><span class="built_in">set</span> Today=%<span class="built_in">date</span>: =%</span><br><span class="line"></span><br><span class="line">reg add "HKEY_CURRENT_USER\Control Panel\International" /v sShortDate /t REG_SZ /d <span class="variable">%RegDateOld%</span> /f&gt;<span class="built_in">nul</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> "<span class="variable">%Today:~0,1%</span>" <span class="keyword">gtr</span> "<span class="number">9</span>" (</span><br><span class="line">  <span class="built_in">set</span> Today=<span class="variable">%Today:~-10%</span></span><br><span class="line">) <span class="keyword">else</span> (</span><br><span class="line">  <span class="built_in">set</span> Today=<span class="variable">%Today:~0,10%</span></span><br><span class="line">)</span><br><span class="line"><span class="built_in">echo</span>,<span class="variable">%Today%</span></span><br></pre></td></tr></table></figure><figure class="highlight bat"><figcaption><span>execute date.bat</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;.\<span class="built_in">date</span>.bat</span><br><span class="line"><span class="number">2016</span>-<span class="number">12</span>-<span class="number">18</span></span><br></pre></td></tr></table></figure><p>References:</p><ol><li><a href="http://www.jb51.net/article/44361.htm" target="_blank" rel="noopener">再谈DOS批处理下格式化日期字符串的三种方法(详解)</a></li><li><a href="http://www.jb51.net/article/52749.htm" target="_blank" rel="noopener">批处理bat标准化获取当前系统日期的几种方法</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> windows cmd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmd </tag>
            
            <tag> date </tag>
            
            <tag> time </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows command(19):console颜色 color</title>
      <link href="/2016/12/07/windows-cmd-19-color/"/>
      <url>/2016/12/07/windows-cmd-19-color/</url>
      
        <content type="html"><![CDATA[<p>color命令用来设置console的前景色或者背景色。</p><a id="more"></a><h1 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h1><p>用法很简单，<code>color [fb]</code>，其中<code>f</code>表示前景色，<code>b</code>表示背景色，取值范围为<code>0</code>-<code>F</code>，也就是十六进制数的一位。<br>color definition:<br><span style="background-color:gray;color:black">0 = Black </span><br><span style="background-color:black;color:blue"> 1 = Blue  </span><br><span style="background-color:black;color:green">2 = Green  </span><br><span style="background-color:black;color:aqua"> 3 = Aqua  </span><br><span style="background-color:black;color:red">  4 = Red  </span><br><span style="background-color:black;color:purple"> 5 = Purple  </span><br><span style="background-color:black;color:yellow"> 6 = Yellow  </span><br><span style="background-color:black;color:white"> 7 = White  </span><br><span style="background-color:black;color:gray"> 8 = Gray  </span><br><span style="background-color:black;color:#ADD8E6"> 9 = Light Blue  </span><br><span style="background-color:black;color:#90ee90"> A = Light Green  </span><br><span style="background-color:black;color:#93FFE8"> B = Light Aqua  </span><br><span style="background-color:black;color:#CD5C5C"> C = Light Red  </span><br><span style="background-color:black;color:#9370D8"> D = Light Purple  </span><br><span style="background-color:black;color:#FFFFE0"> E = Light Yellow  </span><br><span style="background-color:black;color:#FEFCFF"> F = Bright White  </span></p><h1 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h1><h2 id="foreground"><a href="#foreground" class="headerlink" title="foreground"></a>foreground</h2><img src="/2016/12/07/windows-cmd-19-color/cmd_color_02.png" class="image"><h2 id="background"><a href="#background" class="headerlink" title="background"></a>background</h2><img src="/2016/12/07/windows-cmd-19-color/cmd_color_20.png" class="image"><h2 id="same-color"><a href="#same-color" class="headerlink" title="same color"></a>same color</h2><p>如果前景色与背景色设置为一样，如<code>color 00</code>，设置不会生效，结果是保持当前的前景色和背景色不变。</p><img src="/2016/12/07/windows-cmd-19-color/cmd_color_same_color_error.png" class=""><h2 id="start-new-console"><a href="#start-new-console" class="headerlink" title="start new console"></a>start new console</h2><p>在改变console颜色之后，再通过<code>start</code>来创建一个新的console，新的控制台颜色还是保持</p><img src="/2016/12/07/windows-cmd-19-color/change_color_start_console.png" class=""><h1 id="Advanced"><a href="#Advanced" class="headerlink" title="Advanced"></a>Advanced</h1><p>修改注册表<code>HKEY_CURRENT_USER\Software\Microsoft\Command Processor\DefaultColor</code>的键值，可以修改通过<code>cmd.exe</code>或者<code>start</code>启动的窗口的颜色。</p><figure class="highlight plain"><figcaption><span>help COLOR</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">Sets the default console foreground and background colors.</span><br><span class="line"></span><br><span class="line">COLOR [attr]</span><br><span class="line"></span><br><span class="line">  attr        Specifies color attribute of console output</span><br><span class="line"></span><br><span class="line">Color attributes are specified by TWO hex digits -- the first</span><br><span class="line">corresponds to the background; the second the foreground.  Each digit</span><br><span class="line">can be any of the following values:</span><br><span class="line"></span><br><span class="line">    0 &#x3D; Black       8 &#x3D; Gray</span><br><span class="line">    1 &#x3D; Blue        9 &#x3D; Light Blue</span><br><span class="line">    2 &#x3D; Green       A &#x3D; Light Green</span><br><span class="line">    3 &#x3D; Aqua        B &#x3D; Light Aqua</span><br><span class="line">    4 &#x3D; Red         C &#x3D; Light Red</span><br><span class="line">    5 &#x3D; Purple      D &#x3D; Light Purple</span><br><span class="line">    6 &#x3D; Yellow      E &#x3D; Light Yellow</span><br><span class="line">    7 &#x3D; White       F &#x3D; Bright White</span><br><span class="line"></span><br><span class="line">If no argument is given, this command restores the color to what it was</span><br><span class="line">when CMD.EXE started.  This value either comes from the current console</span><br><span class="line">window, the &#x2F;T command line switch or from the DefaultColor registry</span><br><span class="line">value.</span><br><span class="line"></span><br><span class="line">The COLOR command sets ERRORLEVEL to 1 if an attempt is made to execute</span><br><span class="line">the COLOR command with a foreground and background color that are the</span><br><span class="line">same.</span><br><span class="line"></span><br><span class="line">Example: &quot;COLOR fc&quot; produces light red on bright white</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> windows cmd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmd </tag>
            
            <tag> color </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>康威定律（Conway&#39;s law）</title>
      <link href="/2016/11/20/Conways-law/"/>
      <url>/2016/11/20/Conways-law/</url>
      
        <content type="html"><![CDATA[<img src="/2016/11/20/Conways-law/tech_organization_structure.png" class=""><p>系统是设计该系统的组织结构的映射。</p><a id="more"></a><h1 id="来源"><a href="#来源" class="headerlink" title="来源"></a>来源</h1><p>Conway’s law 最初是Conway在1967年发表的论文《<a href="http://www.melconway.com/Home/Committees_Paper.html" target="_blank" rel="noopener">How Do Committees Invent?</a>》，然后 Fred Brooks 在《人月神话》（The Mythical Man-Month）这本书中引用了这篇论文的结论，并命名为康威定律（Conway’s law）。</p><h1 id="观点"><a href="#观点" class="headerlink" title="观点"></a>观点</h1><h2 id="康威定律的结论"><a href="#康威定律的结论" class="headerlink" title="康威定律的结论"></a>康威定律的结论</h2><blockquote><p><strong>Organizations which design systems (in the broad sense used here) are constrained to produce designs which are copies of the communication structures of these organizations.</strong> We have seen that this fact has important implications for the management of system design. Primarily, we have found a criterion for the structuring of design organizations: a design effort should be organized according to the need for communication.<br>This criterion creates problems because the need to communicate at any time depends on the system concept in effect at that time. Because the design which occurs first is almost never the best possible, the prevailing system concept may need to change. Therefore, flexibility of organization is important to effective design.<br>Ways must be found to reward design managers for keeping their organizations <strong>lean and flexible</strong>. There is need for a philosophy of system design management which is not based on the assumption that adding manpower simply adds to productivity. The development of such a philosophy promises to unearth basic questions about value of resources and techniques of communication which will need to be answered before our system-building technology can proceed with confidence. </p></blockquote><p>论文主要的观点：系统的结构受限于设计这个系统的组织的沟通结构。由于系统的结构可能会随着设计的深入而变化，所以必须保持设计组织结构的精简与灵活。<br>原论文是基于一种社会学的观察得出来的结论，所以这里的<code>系统</code>可以指代广义的系统，一个政府，一架飞机，一个芯片都可以认为是一个系统。</p><h2 id="变体"><a href="#变体" class="headerlink" title="变体"></a>变体</h2><blockquote><p>The organization of the software and the organization of the software team will be congruent.</p></blockquote><p>软件本身的组织结构与软件团队的组织结构式一致的。</p><blockquote><p>If the parts of an organization (e.g. teams, departments, or subdivisions) do not closely reflect the essential parts of the product, or if the relationship between organizations do not reflect the relationships between product parts, then the project will be in trouble… Therefore: Make sure the organization is compatible with the product architecture”.</p></blockquote><p>如果组织（团队，部门，或者分支部门）的组成部分不能正确地与产品的必要组成部门相对应，或者组织之间的关系不能反映产品组成部分之间的关系，那么这个项目就会有麻烦。。。所以：必须保证组织与产品架构的相互兼容。</p><blockquote><p>The structure of a problem reflects the structure of the organization that created it.</p></blockquote><p>问题的结构反应了产生问题的组织的结构。</p><h1 id="论据"><a href="#论据" class="headerlink" title="论据"></a>论据</h1><h2 id="compiler"><a href="#compiler" class="headerlink" title="compiler"></a>compiler</h2><p>Conway博士在一个研究组织中作了如下实验：分别给COBOL编译器开发团队安排5个人，给ALGOL编译器开发团队安排3个人，最后COBOL编译器和ALGOL编译器分别是5个步骤和3个步骤的。</p><h2 id="interface"><a href="#interface" class="headerlink" title="interface"></a>interface</h2><p>只有模块A的开发者和模块B的开发者有沟通，模块A和模块B才能有良好的接口（interface）。所以系统的接口结构会反应开发这个系统的组织的结构。</p><h1 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h1><p>“康威定律” 没有提供相应的诊断工具，帮助执行团队判断自己的组织框架是否合理，以及公司在什么时候进行重组比较合适。它只引发了一个问题：公司的组织架构能否为用户提供最好的产品？</p><p>Reference：</p><ol><li><a href="http://www.melconway.com/Home/Conways_Law.html" target="_blank" rel="noopener">CONWAY’S LAW</a></li><li><a href="https://en.wikipedia.org/wiki/Conway%27s_law" target="_blank" rel="noopener">Conway’s law in wiki</a></li><li><a href="https://dzone.com/articles/how-to-design-with-conways-law-in-mind" target="_blank" rel="noopener">How to Design With Conway’s Law in Mind</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> software </category>
          
      </categories>
      
      
        <tags>
            
            <tag> architecture </tag>
            
            <tag> programmer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TeX(1):简介</title>
      <link href="/2016/09/28/TeX-1-introduction/"/>
      <url>/2016/09/28/TeX-1-introduction/</url>
      
        <content type="html"><![CDATA[<p>本文介绍了在Windows下TeX的安装及使用。</p><a id="more"></a><h1 id="What"><a href="#What" class="headerlink" title="What"></a>What</h1><p>TeX是一个排版软件，LaTeX从TeX衍生而来，命令较为简单.</p><blockquote><p>TeX provides an unusual macro language; The TeX macro language has been successfully used to extend TeX to, for instance, LaTeX and ConTeXt.<br>When TeX “compiles” a document, it follows (from the user’s point of view) the following processing sequence: Macros → TeX → Driver → Output.</p></blockquote><h1 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h1><p>安装<a href="http://www.ctex.org/" target="_blank" rel="noopener">CTeX</a>，CTeX打包了MiTeX以及其他一些宏包、字体等。</p><p>直接用原生的latex需要加载宏包才能支持汉字，否则编译会报错：<code>Invalid UTF-8 byte or sequence at line 4 replaced by U+FFFD.</code></p><p>XeTeX就是为了支持多语言而重新设计的新一代TeX系统，这意味着在XeTeX眼里，中文文档和英文文档再没有任何区别，无需额外的外挂包；而且，XeTeX原生支持系统字体，这意味着我们无需再额外编译字体，系统安装了什么字体，我们就能使用什么字体。</p><p>使用xelatex编译，不需要写<code>\begin{CJK*}{UTF8}{song}</code></p><figure class="highlight tex"><figcaption><span>example.tex</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">documentclass</span><span class="string">[12pt,a4paper]</span><span class="string">&#123;article&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;fontspec&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">setmainfont</span><span class="string">&#123;Microsoft YaHei&#125;</span></span></span><br><span class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;document&#125;</span></span></span><br><span class="line">Hello,World！</span><br><span class="line">这是一个测试的中文文档！</span><br><span class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;document&#125;</span></span></span><br></pre></td></tr></table></figure><p>用notepad输入，<code>保存成utf-8格式</code>, 后用xelatex example.tex编译，生成pdf。</p><h1 id="Usage-amp-Warning"><a href="#Usage-amp-Warning" class="headerlink" title="Usage &amp; Warning"></a>Usage &amp; Warning</h1><ul><li><p><code>\fontsize{字号}{基本行距}</code><br>其中字号和基本行距两个参数是纯数字，单位是 pt。命令也在 \selectfont 后生效。</p></li><li><p><code>Overfull \hbox (76.35919pt too wide) in paragraph at lines 11--15</code>找到对应的提示行，然后将最后几个单词任意截断，然后另起一行即可。</p></li><li><p><code>texdoc fontspec</code>可以查看宏包<code>fontspec</code>的帮助文档。</p></li><li><p><code>fc-list</code>可以查看电脑中安装了哪些字体；<code>fc-list ;lang=zh-cn</code>可以查看安装了哪些中文字体。</p></li></ul><p>附上一个台湾版cwTeX中的示例(台湾的明体应该对应大陆的宋体)</p><figure class="highlight tex"><figcaption><span>TeX</span><a href="/downloads/code/TeX/排版的原则.tex">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%!TEX TS-program = xelatex</span></span><br><span class="line"><span class="comment">%!TEX encoding = UTF-8 Unicode</span></span><br><span class="line"><span class="tag">\<span class="name">documentclass</span><span class="string">[12pt,a4paper]</span><span class="string">{article}</span></span></span><br><span class="line"><span class="tag">\<span class="name">XeTeXlinebreaklocale</span></span> "zh"     <span class="comment">% 针对中文进行断行</span></span><br><span class="line"><span class="tag">\<span class="name">XeTeXlinebreakskip</span> = <span class="number">0pt</span></span> plus 1pt minus 0.1pt  <span class="comment">% 给予TeX断行一定自由度</span></span><br><span class="line"><span class="tag">\<span class="name">linespread</span><span class="string">{1.5}</span></span>                                <span class="comment">% 1.5倍行距</span></span><br><span class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">{fontspec,xunicode,}</span></span></span><br><span class="line"><span class="comment">%\usepackage{xltxtra}</span></span><br><span class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">[small, sf]</span><span class="string">{titlesec}</span></span></span><br><span class="line"></span><br><span class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">youyuan</span><span class="string">{YouYuan}</span></span> </span><br><span class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">hwcaiyun</span><span class="string">{STCaiyun}</span></span> </span><br><span class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">hwhupo</span><span class="string">{STHupo}</span></span> </span><br><span class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">yaoti</span><span class="string">{FZYaoTi}</span></span> </span><br><span class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">kaiti</span><span class="string">{KaiTi}</span></span> </span><br><span class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">xsong</span><span class="string">{NSimSun}</span></span> </span><br><span class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">hwsong</span><span class="string">{STSong}</span></span> </span><br><span class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">yahei</span><span class="string">{Microsoft YaHei}</span></span> </span><br><span class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">fangsong</span><span class="string">{FangSong}</span></span> </span><br><span class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">song</span><span class="string">{SimSun}</span></span> </span><br><span class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">hwfangsong</span><span class="string">{STFangsong}</span></span> </span><br><span class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">weiti</span><span class="string">{STXinwei}</span></span> </span><br><span class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">heiti</span><span class="string">{SimHei}</span></span> </span><br><span class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">hwxingkai</span><span class="string">{STXingkai}</span></span> </span><br><span class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">hwlishu</span><span class="string">{STLiti}</span></span> </span><br><span class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">zhongsong</span><span class="string">{STZhongsong}</span></span> </span><br><span class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">shuti</span><span class="string">{FZShuTi}</span></span> </span><br><span class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">hwhei</span><span class="string">{STXihei}</span></span> </span><br><span class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">lishu</span><span class="string">{LiSu}</span></span> </span><br><span class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">hwkai</span><span class="string">{STKaiti}</span></span></span><br><span class="line"></span><br><span class="line"><span class="tag">\<span class="name">setmainfont</span><span class="string">[BoldFont={SimHei}]</span><span class="string">{SimSun}</span></span></span><br><span class="line"><span class="tag">\<span class="name">setsansfont</span><span class="string">[Mapping=tex-text]</span><span class="string">{Microsoft Sans Serif}</span></span> </span><br><span class="line"><span class="tag">\<span class="name">setmonofont</span><span class="string">{Courier New}</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">\<span class="name">titleformat*</span><span class="string">{\section}</span><span class="string">{\youyuan}</span></span></span><br><span class="line"><span class="tag">\<span class="name">titleformat*</span><span class="string">{\subsection}</span><span class="string">{\youyuan}</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">\<span class="name">begin</span><span class="string">{document}</span></span></span><br><span class="line"><span class="tag">\<span class="name">begin</span><span class="string">{center}</span></span></span><br><span class="line">{<span class="tag">\<span class="name">Large</span></span> <span class="tag">\<span class="name">textbf</span></span> {排版的原则}}<span class="tag">\<span class="name">\</span><span class="string">[5mm]</span></span> <span class="comment">%指令末端之 \\ 為換行指令 , 指示本行結束 ; 緊接著的 [5mm] 則設定行距加大 0.5 公分。 </span></span><br><span class="line">吴聪敏<span class="tag">\<span class="name">\</span><span class="string">[2mm]</span></span></span><br><span class="line">2005.03</span><br><span class="line"><span class="tag">\<span class="name">end</span><span class="string">{center}</span></span></span><br><span class="line"></span><br><span class="line"><span class="tag">\<span class="name">bigskip</span></span> <span class="comment">%定行内距,medskip-half,small-qua</span></span><br><span class="line"><span class="tag">\<span class="name">fontsize</span><span class="string">{12}</span><span class="string">{20pt}</span></span><span class="tag">\<span class="name">selectfont</span></span> <span class="comment">%字体 12pt,行距20pt</span></span><br><span class="line">排版的目的是为了有效率地表达你的意见，</span><br><span class="line">让读者容易阅读或吸收。</span><br><span class="line"></span><br><span class="line"><span class="tag">\<span class="name">section</span><span class="string">{常见的排版错误}</span></span></span><br><span class="line">桌上排版系统普及之后，每个人都能排版，</span><br><span class="line">但这不表示每个人都能做出好的排版。</span><br><span class="line">关于字体之使用，常见的错误如下：</span><br><span class="line"><span class="tag">\<span class="name">begin</span><span class="string">{itemize}</span></span> <span class="comment">%无序，不带标号</span></span><br><span class="line"><span class="tag">\<span class="name">item</span></span> 楷体与仿宋体等可用于标题,</span><br><span class="line">  但不宜用于正文；正文请使用明体。</span><br><span class="line"><span class="tag">\<span class="name">item</span></span> 较长之英文段落应使用纯英文字体编排，</span><br><span class="line">  如 Times New Roman，Book Antiquarian 等。</span><br><span class="line">  使用中文之细明体或楷体之英文字体，</span><br><span class="line">  结果保证惨不忍睹。</span><br><span class="line"><span class="tag">\<span class="name">item</span></span> 欲强调之字词，请使用粗黑体或圆体，勿加底线。</span><br><span class="line"><span class="tag">\<span class="name">end</span><span class="string">{itemize}</span></span></span><br><span class="line">Windows 系统提供明体与楷体两种字体，</span><br><span class="line">许多人只能使用楷体排版正文或投影片，</span><br><span class="line">但排版效果奇差无比。</span><br><span class="line"></span><br><span class="line">除了字体之外，版面应注意之细节如下：</span><br><span class="line"><span class="tag">\<span class="name">begin</span><span class="string">{enumerate}</span></span><span class="tag">\<span class="name">itemsep</span>=<span class="number">-2pt</span></span> <span class="comment">%带编号，設定使項目之間距比內定值小 2pt</span></span><br><span class="line"><span class="tag">\<span class="name">item</span></span> 文章前端请写下题目，作者名字，日期。</span><br><span class="line"><span class="tag">\<span class="name">item</span></span> 版面之一行勿拉太长，行距不应过小。</span><br><span class="line"><span class="tag">\<span class="name">item</span></span> 标点符号不应出现在一行前端（避头点）。</span><br><span class="line"><span class="tag">\<span class="name">item</span></span> 标示注解之号码在句子标点符号之后。</span><br><span class="line"><span class="tag">\<span class="name">item</span></span> 章节编号使用阿拉伯数字，如1.1节，2.3节；</span><br><span class="line">避免使用“一、二节”，或“二、三节”。</span><br><span class="line"><span class="tag">\<span class="name">item</span></span> 阿拉伯数字“1,534”比“一千五百三十四”清楚。</span><br><span class="line"><span class="tag">\<span class="name">end</span><span class="string">{enumerate}</span></span></span><br><span class="line"></span><br><span class="line"><span class="tag">\<span class="name">section</span><span class="string">{图形与表格}</span></span></span><br><span class="line">图形与表格是表现咨询的有效方法，</span><br><span class="line">但是图表作的不好，无法达到目标。</span><br><span class="line">常见的表格排版错误是格线太多，</span><br><span class="line">但另一个问题是单位不清楚。</span><br><span class="line">大型图表应移于版面的上方或下方，而非排版于段落中间。</span><br><span class="line">非万不得已，表格勿拆为两页。</span><br><span class="line"></span><br><span class="line"><span class="tag">\<span class="name">par</span></span><span class="tag">\<span class="name">vfill</span></span><span class="tag">\<span class="name">jobname</span></span>.tex <span class="comment">%par新起段落 vfill將段落之間距儘可能拉大</span></span><br><span class="line"><span class="tag">\<span class="name">end</span><span class="string">{document}</span></span></span><br></pre></td></tr></table></figure><p>效果</p><a href="/2016/09/28/TeX-1-introduction/%E6%8E%92%E7%89%88%E7%9A%84%E5%8E%9F%E5%88%99.pdf" title="排版的原则.pdf">排版的原则.pdf</a><p>References:</p><ol><li><a href="https://en.wikipedia.org/wiki/TeX" target="_blank" rel="noopener">TeX</a></li><li><a href="https://en.wikipedia.org/wiki/LaTeX" target="_blank" rel="noopener">LaTex</a></li><li><a href="http://blog.jqian.net/post/xelatex.html" target="_blank" rel="noopener">使用xelatex生成中文pdf</a></li><li><a href="https://en.wikibooks.org/wiki/LaTeX/Errors_and_Warnings" target="_blank" rel="noopener">LaTeX/Errors and Warnings</a></li><li><a href="http://homepage.ntu.edu.tw/~ntut019/cwtex/cxbook3.pdf" target="_blank" rel="noopener">cwTeX排版系統</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> TeX </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TeX </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows command(18):打印目录结构tree</title>
      <link href="/2016/09/17/windows-cmd-18-tree/"/>
      <url>/2016/09/17/windows-cmd-18-tree/</url>
      
        <content type="html"><![CDATA[<p>tree命令用来打印文件夹目录结构。</p><a id="more"></a><h1 id="tree打印目录结构"><a href="#tree打印目录结构" class="headerlink" title="tree打印目录结构"></a>tree打印目录结构</h1><figure class="highlight bat"><figcaption><span>tree打印目录结构</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">tree</span>&gt;<span class="title">tree</span></span></span><br><span class="line"><span class="function">卷 <span class="title">LENOVO</span> 的文件夹 <span class="title">PATH</span> 列表</span></span><br><span class="line"><span class="function">卷序列号为 0005-42<span class="title">D7</span></span></span><br><span class="line"><span class="function"><span class="title">D</span>:.</span></span><br><span class="line"><span class="function">├─<span class="title">node1</span></span></span><br><span class="line"><span class="function">└─<span class="title">node2</span></span></span><br></pre></td></tr></table></figure><h1 id="tree-F打印目录结构及每个目录下的文件"><a href="#tree-F打印目录结构及每个目录下的文件" class="headerlink" title="tree /F打印目录结构及每个目录下的文件"></a>tree /F打印目录结构及每个目录下的文件</h1><p>显示每个目录的文件名</p><figure class="highlight bat"><figcaption><span>tree</span><a href="/F">link</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">tree</span>&gt;<span class="title">tree</span> /<span class="title">F</span></span></span><br><span class="line"><span class="function">卷 <span class="title">LENOVO</span> 的文件夹 <span class="title">PATH</span> 列表</span></span><br><span class="line"><span class="function">卷序列号为 0005-42<span class="title">D7</span></span></span><br><span class="line"><span class="function"><span class="title">D</span>:.</span></span><br><span class="line"><span class="function">│  <span class="title">tree.txt</span></span></span><br><span class="line"><span class="function">│</span></span><br><span class="line"><span class="function">├─<span class="title">node1</span></span></span><br><span class="line"><span class="function">│      <span class="title">node1.txt</span></span></span><br><span class="line"><span class="function">│</span></span><br><span class="line"><span class="function">└─<span class="title">node2</span></span></span><br><span class="line"><span class="function">        <span class="title">node2.txt</span></span></span><br></pre></td></tr></table></figure><h1 id="打印结果输出到到文件"><a href="#打印结果输出到到文件" class="headerlink" title="打印结果输出到到文件"></a>打印结果输出到到文件</h1><p><code>tree /f &gt; file.txt</code></p><p>References:</p><figure class="highlight plain"><figcaption><span>help tree</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">以图形显示驱动器或路径的文件夹结构。</span><br><span class="line"></span><br><span class="line">TREE [drive:][path] [&#x2F;F] [&#x2F;A]</span><br><span class="line"></span><br><span class="line">   &#x2F;F   显示每个文件夹中文件的名称。</span><br><span class="line">   &#x2F;A   使用 ASCII 字符，而不使用扩展字符。</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> windows cmd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmd </tag>
            
            <tag> tree </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Rust语言(2):Cargo</title>
      <link href="/2016/09/13/Rust-lang-2-Cargo/"/>
      <url>/2016/09/13/Rust-lang-2-Cargo/</url>
      
        <content type="html"><![CDATA[<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=29431066&auto=0&height=66"></iframe>陈粒-奇妙能力歌<p>本文介绍了Rust自带的编译和包管理工具Cargo.</p><a id="more"></a><h1 id="Carog的存在意义"><a href="#Carog的存在意义" class="headerlink" title="Carog的存在意义"></a>Carog的存在意义</h1><blockquote><p>Cargo is a tool that allows Rust projects to declare their various dependencies and ensure that you’ll always get a repeatable build.</p></blockquote><blockquote><p>To accomplish this goal, Cargo does four things:</p></blockquote><ul><li>Introduces two metadata files with various bits of project information.</li><li>Fetches and builds your project’s dependencies.</li><li>Invokes rustc or another build tool with the correct parameters to build your project.</li><li>Introduces conventions to make working with Rust projects easier.</li></ul><h1 id="新建项目"><a href="#新建项目" class="headerlink" title="新建项目"></a>新建项目</h1><p>执行命令<code>cargo new hello_world --bin</code>可以生成一个可用cargo来编译运行的目录结构。<br><code>--bin</code>表示生成可执行文件。</p><figure class="highlight plain"><figcaption><span>Cargo目录结构</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">│  Cargo.toml</span><br><span class="line">│</span><br><span class="line">├─src</span><br><span class="line">│      main.rs</span><br></pre></td></tr></table></figure><p>Cargo.toml是TOML(Tom’s Obvious, Minimal Language)格式的配置文件：</p><figure class="highlight toml"><figcaption><span>Cargo.toml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[package]</span></span><br><span class="line"></span><br><span class="line"><span class="attr">name</span> = <span class="string">"hello_world"</span></span><br><span class="line"><span class="attr">version</span> = <span class="string">"0.0.1"</span></span><br><span class="line"><span class="attr">authors</span> = [ <span class="string">"Your name &lt;you@example.com&gt;"</span> ]</span><br></pre></td></tr></table></figure><p>main.rs存放Rust文件:</p><figure class="highlight rust"><figcaption><span>hello_world.rs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"Hello, world!"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="编译运行"><a href="#编译运行" class="headerlink" title="编译运行"></a>编译运行</h1><p><code>cargo build</code>编译。<br><code>cargo run</code>文件未改动则直接运行，文件改动则重新编译并运行。<br><code>cargo build --release</code>编译release版本，带优化功能。</p><h1 id="包管理"><a href="#包管理" class="headerlink" title="包管理"></a>包管理</h1><h2 id="从crates-io增加依赖库"><a href="#从crates-io增加依赖库" class="headerlink" title="从crates.io增加依赖库"></a>从crates.io增加依赖库</h2><p>在Cargo.toml增加</p><figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[dependencies]</span></span><br><span class="line"><span class="attr">time</span> = <span class="string">"0.1.12"</span></span><br></pre></td></tr></table></figure><h2 id="从github增加依赖库"><a href="#从github增加依赖库" class="headerlink" title="从github增加依赖库"></a>从github增加依赖库</h2><figure class="highlight toml"><figcaption><span>Cargo.toml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[dependencies]</span></span><br><span class="line"><span class="attr">rand</span> = &#123; git = <span class="string">"https://github.com/rust-lang-nursery/rand.git"</span> &#125;</span><br></pre></td></tr></table></figure><p>References:</p><ol><li><a href="http://doc.crates.io/guide.html" target="_blank" rel="noopener">Cargo official website</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Rust </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Rust </tag>
            
            <tag> Cargo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Rust语言(1):hello world</title>
      <link href="/2016/09/12/Rust-lang-1-hello-world/"/>
      <url>/2016/09/12/Rust-lang-1-hello-world/</url>
      
        <content type="html"><![CDATA[<img src="/2016/09/12/Rust-lang-1-hello-world/rust-logo-blk.svg" class=""><p>本文介绍了Rust语言在Windows下的环境安装，编译，执行。</p><a id="more"></a><h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>Rust是静态强类型的编译型语言，非动态解释型语言，无垃圾回收。</p><blockquote><p>Rust is a systems programming language that runs blazingly fast, prevents segfaults, and guarantees thread safety. </p></blockquote><ul><li>zero-cost abstractions</li><li>move semantics</li><li>guaranteed memory safety</li><li>threads without data races</li><li>trait-based generics</li><li>pattern matching</li><li>type inference</li><li>minimal runtime</li><li>efficient C bindings</li></ul><h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>进入<a href="www.rust-lang.org">Rust官网</a>,首页会根据当前操作系统推荐下载安装包。<br>支持Windows(GUN ABI 与 MSVC ABI)、Linux以及Mac。<br>安装完成后，在命令行输入<code>rustc</code>，如果有输出说明安装成功。</p><h1 id="编写代码"><a href="#编写代码" class="headerlink" title="编写代码"></a>编写代码</h1><figure class="highlight rust"><figcaption><span>hello.rs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">"Hello, world!"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">rustc</span> <span class="selector-tag">hello</span><span class="selector-class">.rs</span></span><br></pre></td></tr></table></figure><h1 id="执行"><a href="#执行" class="headerlink" title="执行"></a>执行</h1><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;hello.exe</span><br><span class="line">Hello, world!</span><br></pre></td></tr></table></figure><h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><p><a href="https://github.com/WuChenxu/Rust/tree/master/01_HelloWorld" target="_blank" rel="noopener">Code</a></p><p>References:</p><ol><li><a href="https://doc.rust-lang.org/book/getting-started.html" target="_blank" rel="noopener">Rust official manual</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Rust </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Rust </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MathJax(2):Markdown中使用MathJax</title>
      <link href="/2016/09/08/MathJax-2-using-in-hexo-markdown/"/>
      <url>/2016/09/08/MathJax-2-using-in-hexo-markdown/</url>
      
        <content type="html"><![CDATA[<p>本文介绍了在Markdown文件中插入MathJax的方法。</p><a id="more"></a><h1 id="直接插入"><a href="#直接插入" class="headerlink" title="直接插入"></a>直接插入</h1><p>在html中插入以下代码，则可以用<code>$ $</code>来插入行内公式，<code>$$ $$</code>来插入单独成行的公式。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/x-mathjax-config"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">MathJax.Hub.Config(&#123;</span></span><br><span class="line"><span class="actionscript">  tex2jax: &#123;inlineMath: [[<span class="string">'$'</span>,<span class="string">'$'</span>], [<span class="string">'\\('</span>,<span class="string">'\\)'</span>]]&#125;</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">"path-to-mathjax/MathJax.js?config=TeX-AMS_CHTML"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这是一个完整的可以工作的<a href="https://cdn.mathjax.org/mathjax/latest/test/sample-tex.html" target="_blank" rel="noopener">例子</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>MathJax TeX Test Page<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/x-mathjax-config"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript">  MathJax.Hub.Config(&#123;tex2jax: &#123;inlineMath: [[<span class="string">'$'</span>,<span class="string">'$'</span>], [<span class="string">'\\('</span>,<span class="string">'\\)'</span>]]&#125;&#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">async</span></span></span><br><span class="line"><span class="tag">  <span class="attr">src</span>=<span class="string">"https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">When $a \ne 0$, there are two solutions to \(ax^2 + bx + c = 0\) and they are</span><br><span class="line">$$x = &#123;-b \pm \sqrt&#123;b^2-4ac&#125; \over 2a&#125;.$$</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在使用Markdown然后生成html的时候，Markdown有一些符号有特殊含义会被解析器转换成html的tag，如: 斜体<code>*被斜体的文字*</code>,斜体<code>_被斜体的文字_</code>等。<br>这样<code>$x _ i = y _ i$</code> 或者 <code>$x * y = y * x$</code><br>会被解析成 $x _ i=y _ i$ 或者 $x * y = y * x$.<br>我们可以使用转义符号<code>\</code>来避免Markdown解析器对<code>* *</code>或<code>_ _</code>的转换。<br>写成<code>$x \_ i = y \_ i$ $x * y = y * x$</code>,就可以正确解析为$x_i = y_i$ $x * y = y * x$.</p><p>此方法优点: 简单，不需要插件辅助; 缺点: 不是原生的Tex语法。</p><h1 id="使用插件"><a href="#使用插件" class="headerlink" title="使用插件"></a>使用插件</h1><p>对于不同的markdown解析器应该会有不同的解决方案，如Hexo可以使用<a href="https://github.com/akfish/hexo-math" target="_blank" rel="noopener">hexo-math插件</a><br>hexo-math支持MathJax和KaTex.<br>使用标签则可以不需要对特殊符号进行转义。</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% math %&#125;</span><br><span class="line">\begin&#123;aligned&#125;</span><br><span class="line">\dot&#123;x&#125; &amp; = \sigma(y-x) \\</span><br><span class="line">\dot&#123;y&#125; &amp; = \rho x - y - xz \\</span><br><span class="line">\dot&#123;z&#125; &amp; = -\beta z + xy</span><br><span class="line">\end&#123;aligned&#125;</span><br><span class="line">&#123;% endmath %&#125;</span><br></pre></td></tr></table></figure><p>此方法优点: 原生Tex语法; 缺点: 复杂，需要插件支持.</p><p>Reference:</p><ol><li><a href="http://docs.mathjax.org/en/latest/start.html" target="_blank" rel="noopener">TeX and LaTeX input</a></li><li><a href="https://github.com/akfish/hexo-math" target="_blank" rel="noopener">hexo-math插件</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> MathJax </category>
          
          <category> tool </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
            <tag> MathJax </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>软件滤波算法的频率响应</title>
      <link href="/2016/07/12/software-filtering-algorithm-and-frequency-response/"/>
      <url>/2016/07/12/software-filtering-algorithm-and-frequency-response/</url>
      
        <content type="html"><![CDATA[<p>本文从一种软件滤波算法切入，深入理解了滤波算法的频率响应。</p><a id="more"></a><h1 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h1><p>单片机大多资源小，算法占用的资源越小越好，有一种占用很小资源的算法，具体公式如下：<br>$$  y[n] =y[n-1]- {y[n-1] \over m}+x[n]$$<br>其中：x[n]为采样值，y[n]为滤波后的值，y[n-1]为上一次滤波值，m是放电比例(最好选2的幂次数，可用单片机移位)初始化时如果是跟踪一段时间后使用，可以是任何值，否则可以用采样值乘m初始化。</p><h1 id="推导"><a href="#推导" class="headerlink" title="推导"></a>推导</h1><p>如果写成这样<br>$$  y[n] = x[n] + (1- {1 \over m}) * y[n-1]$$  (1)<br>然后令 $y[n]=m * u[n]$,得<br>$$  n * u[n] = x[n] + (1- {1 \over m}) * m * u[n-1]$$<br>两边同时除m，得<br>$$  u[n] = {1 \over m} * x[n] + (1- {1 \over m})  * u[n-1]$$<br>令 $ \alpha = {1 \over m}$，得<br>$$ u[n] = \alpha * x[n] + (1-\alpha) * u[n-1]$$<br>这是典型的无限脉冲滤波器(IIR),也是最简单的低通滤波器。</p><p>如果直接由式(1)推导z变换<br>$$ Y(z) = X(z) + (1 - {1 \over m}) * z^{-1}Y(z)$$<br>$$ H(z) = {Y(z) \over {X(z)}} = {1 \over {1-(1-{1 \over m}})z^{-1}}$$<br>令$a={1-{1\over m}}$,<br>$$ H(z)={1\over{1-az^{-1}} }$$</p><h1 id="IIR-vs-FIR"><a href="#IIR-vs-FIR" class="headerlink" title="IIR vs FIR"></a>IIR vs FIR</h1><p>IIR(Infinit Impulse Response)滤波器的<a href="https://en.wikipedia.org/wiki/Impulse_response" target="_blank" rel="noopener">单位脉冲响应</a>是无限长的，如例子中$H(z)={1\over{1-az^{-1}} }$时间域的序列是<br>$$ y[n] = x[n] + ay[n-1]$$<br>根据单位脉冲响应的定义，即$x[n]= \delta[n]=\begin{cases} {1, n=0}\\{0, n \ne 0}\end{cases}$时的y[n]:<br>$$ y[0] = x[0] + ay[-1] = 1, if n&lt;0 let y[0] = 0$$<br>$$ y[1] = x[1] + ay[0] = 0 + a = a $$<br>$$ y[2] = x[2] + ay[1] = 0 + a * a = a^2 $$<br>…<br>$$ y[n] = x[n] + ay[n-1] = a^n $$<br>所以其单位脉冲响应为$h[n]=a^n u[n]$,其中$u[n]=\begin{cases} {1, n \ge 0 }\\{0, n&lt;0}\end{cases}$,可以看到$n\ge 0$时，h[n]每一项都不为0,也就是无限脉冲响应的含义.IIR滤波器时间域的输出，由输入和之前的输出共同决定，是有反馈的。</p><p>FIR(Finit Impulse Response)滤波器的单位脉冲响应是有限长的，其时间域的输出只有输入决定，是无反馈的。如，<a href="https://en.wikipedia.org/wiki/Moving_average" target="_blank" rel="noopener">滑动平均滤波器</a>,时间域$y[n]={1 \over  3}x[n]+{1 \over  3}x[n-1]+{1 \over  3}x[n-2]$，z变换为$H(z)={1\over3}+{1\over3}z^{-1}+{1\over3}z^{-2}$,单位脉冲响应为$h[n]={1\over3}\delta[n]+{1\over3}\delta[n-1]+{1\over3}\delta[n-2]$,其中$\delta[n]=\begin{cases} {1, n=0}\\{0, n \ne 0}\end{cases}$。</p><h1 id="频率响应"><a href="#频率响应" class="headerlink" title="频率响应"></a>频率响应</h1><h1 id="时间常数"><a href="#时间常数" class="headerlink" title="时间常数"></a>时间常数</h1><p>如果将$y[n]=\alpha x[n]+(1-\alpha)y[n-1]$视作<a href="https://en.wikipedia.org/wiki/Low-pass_filter" target="_blank" rel="noopener">RC低通滤波器</a></p><img src="/2016/07/12/software-filtering-algorithm-and-frequency-response/250px-1st_Order_Lowpass_Filter_RC.svg.png" class=""><p>$$v_{in}(t)-v_{out}(t)=RC{dv_{out} \over dt}$$</p><p>设$v_{in}$序列为($x_{1}, x_{2}, …, x_{n}$), $v_{out}$序列为($y_{1}, y_{2}, …, y_{n}$).上面的公式近似于<br>$$x_{i} - y_{i} = RC {y_{i}-y_{i-1}}\over{\Delta T}$$</p><p>$$ y_{i} = x_{i}({\Delta T}\over {RC+\Delta T}) + y_{i-1}({RC}\over{RC+\Delta T})$$</p><p>令 $\alpha = \frac{\Delta T}{RC+\Delta T}$,<br>$$ y_{i} = {\alpha x_{i} + (1-\alpha) y_{i-1}}$$<br>其中, $\alpha = \frac{\Delta T}{RC+\Delta T}$<br>可以得出时间常数$RC={\Delta T}\frac{1-\alpha} {\alpha}$.<br>考虑到$f_c= {1 \over{2\pi RC}}$，<br>$$\alpha = \frac{2 \pi \Delta T f_c}{2\pi \Delta T f_c+1}$$<br>$$f_c=\frac{\alpha} {(1-\alpha)2\pi\Delta T}$$</p><p>Reference:</p><ol><li><a href="http://bbs.21ic.com/icview-170880-1-1.html" target="_blank" rel="noopener">一个非常适合单片机的滤波算法</a></li><li><a href="https://en.wikipedia.org/wiki/Low-pass_filter" target="_blank" rel="noopener">Low pass filter in wiki</a></li><li><a href="https://en.wikipedia.org/wiki/Exponential_smoothing" target="_blank" rel="noopener">指数平滑</a></li><li><a href="https://en.wikipedia.org/wiki/Infinite_impulse_response" target="_blank" rel="noopener">IIR</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> filter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> software </tag>
            
            <tag> filter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>matplotlib(1):简介</title>
      <link href="/2016/07/01/matplotlib-1-introduction/"/>
      <url>/2016/07/01/matplotlib-1-introduction/</url>
      
        <content type="html"><![CDATA[<p><a href="http://matplotlib.org/" target="_blank" rel="noopener">matplotlib</a>是一个python语言绘图库，本文介绍了matplotlib的安装和基本使用方法。</p><a id="more"></a><h1 id="what-is-matplotlib"><a href="#what-is-matplotlib" class="headerlink" title="what is matplotlib"></a>what is matplotlib</h1><blockquote><p>matplotlib is a python 2D plotting library which produces publication quality figures in a variety of hardcopy formats and interactive environments across platforms. matplotlib can be used in python scripts, the python and ipython shell (ala MATLAB®* or Mathematica®†), web application servers, and six graphical user interface toolkits.</p></blockquote><ul><li>ala-法语，in the style/manner of</li><li>aka-also known as</li></ul><h1 id="install"><a href="#install" class="headerlink" title="install"></a>install</h1><ol><li>python<br>参考<a href="http://www.python.org/download/" target="_blank" rel="noopener">python download</a><br>本文安装的版本是2.7.8.</li><li>matplotlib<br>参考<a href="http://matplotlib.org/users/installing.html" target="_blank" rel="noopener">matplotlib install</a><br>这里介绍windows的安装过程：<br>通过python的包管理工具<a href="https://pypi.python.org/pypi/pip" target="_blank" rel="noopener">pip</a>安装.<br>如果网络稳定，cmd下执行<code>pip install matplotlib</code>即可，pip会自动安装依赖包；<br>如果网络不稳定，需要下载<a href="http://pypi.python.org/pypi/matplotlib/" target="_blank" rel="noopener">matplotlib的pip安装包</a>，以及下列matplotlib依赖的安装包(注意版本兼容):<br><a href="https://pypi.python.org/pypi/setuptools/" target="_blank" rel="noopener">setuptools</a><br><a href="https://pypi.python.org/pypi/numpy/" target="_blank" rel="noopener">numpy</a><br><a href="https://pypi.python.org/pypi/python-dateutil/" target="_blank" rel="noopener">python-dateutil</a><br><a href="https://pypi.python.org/pypi/pytz" target="_blank" rel="noopener">pytz</a><br><a href="https://pypi.python.org/pypi/pyparsing/" target="_blank" rel="noopener">pyparsing</a><br><a href="https://pypi.python.org/pypi/Cycler" target="_blank" rel="noopener">cycler</a><br>然后<code>pip install /path/to/package/package-name.whl</code>来逐个安装。<br>安装完成后，在python命令行下执行<code>import matplotlib</code>，如果没有出错说明安装成功。<br>我的安装版本：<img src="/2016/07/01/matplotlib-1-introduction/matplotlib_version.png" class=""></li></ol><h1 id="play"><a href="#play" class="headerlink" title="play"></a>play</h1><p>通过numpy生成数据，pyplot来绘图。</p><h2 id="simple-plot"><a href="#simple-plot" class="headerlink" title="simple plot"></a>simple plot</h2><figure class="highlight python"><figcaption><span> simple_plot</span><a href="/downloads/code/python_matplot_simple_plot/simple_plot.py">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># Make some data</span></span><br><span class="line">x  = np.arange(<span class="number">0.0</span>, <span class="number">2.0</span>, <span class="number">0.01</span>)</span><br><span class="line"><span class="comment"># 3 functions</span></span><br><span class="line">y1 = x</span><br><span class="line">y2 = x*x</span><br><span class="line">y3 = x*x*x</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create plots with labels</span></span><br><span class="line">fig, ax = plt.subplots()</span><br><span class="line">ax.plot(x, y1, <span class="string">'b'</span>, label=<span class="string">'linear'</span>)</span><br><span class="line">ax.plot(x, y2, <span class="string">'g'</span>, label=<span class="string">'quadratic'</span>)</span><br><span class="line">ax.plot(x, y3, <span class="string">'r'</span>, label=<span class="string">'cubic'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set title, x lable and y label</span></span><br><span class="line">ax.set_title(<span class="string">'simple plot'</span>)</span><br><span class="line">ax.set_xlabel(<span class="string">'x label'</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">'y label'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set legend</span></span><br><span class="line">legend = ax.legend(loc=<span class="string">'upper left'</span>, shadow=<span class="keyword">True</span>, fontsize=<span class="string">'smaller'</span>)</span><br><span class="line">legend.get_frame().set_facecolor(<span class="string">'#FFFFFF'</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p>result:</p><img src="/2016/07/01/matplotlib-1-introduction/simple_plot.png" class=""><p>Reference：</p><ol><li><a href="http://www.open-open.com/lib/view/open1393488232380.html" target="_blank" rel="noopener">Python-Matplotlib安装及简单使用</a></li><li><a href="http://www.cnblogs.com/vamei/archive/2012/09/17/2689798.html" target="_blank" rel="noopener">绘图: Python matplotlib简介</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
          <category> tool </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> matplotlib </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MathJax(1):简介</title>
      <link href="/2016/06/28/MathJax-1-introduction/"/>
      <url>/2016/06/28/MathJax-1-introduction/</url>
      
        <content type="html"><![CDATA[<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=25906124&auto=0&height=66"></iframe>陈奕迅-不要说话$$f(a)= {1 \over 2\pi i}\oint_\gamma {f(z) \over x-a}dz$$MathJax入门简介，主要翻译MathJax的入门介绍。<a id="more"></a><h1 id="what-is-MathJax"><a href="#what-is-MathJax" class="headerlink" title="what is MathJax?"></a>what is MathJax?</h1><p><a href="https://www.mathjax.org" target="_blank" rel="noopener">MathJax</a>官网口号</p><blockquote><p>Beautiful math in all browsers<br>A JavaScript display engine for mathematics that works in all browsers.</p></blockquote><p>MathJax是为了解决浏览器中数学公式的显示问题而产生的一种解决方案，通过CSS或者SVG(而不是图片或Flash)来生成数学公式，可以实现无损缩放，可以拷贝到Office、LaTeX、wiki等；其输入形式可以是MathML、TeX或者ASCIImath，输出是HTML+CSS、SVG或者MathML.</p><h1 id="how-to-learn"><a href="#how-to-learn" class="headerlink" title="how to learn?"></a>how to learn?</h1><p>官网<a href="https://www.mathjax.org" target="_blank" rel="noopener">MathJax</a>是最权威的。<br>推荐使用<a href="https://stackedit.io/" target="_blank" rel="noopener">StackEdit</a>学习MathJax的语法，它支持Markdown和MathJax.</p><h1 id="how-to-use-MathJax"><a href="#how-to-use-MathJax" class="headerlink" title="how to use MathJax"></a>how to use MathJax</h1><h2 id="link-to-MathJax"><a href="#link-to-MathJax" class="headerlink" title="link to MathJax"></a>link to MathJax</h2><h3 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a>CDN</h3><p>将</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">async</span></span></span><br><span class="line"><span class="tag">  <span class="attr">src</span>=<span class="string">"https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>放到<code>&lt;head&gt;</code>或者<code>&lt;body&gt;</code>里，然后就是在网页中放上TeX, MathML, 或者 AsciiMath 格式的数学公式就可以通过MathJax来渲染显示了。</p><p>其原理是：网页中包含的JS脚本会使网页从CDN服务器加载最新版本的MathJax，识别数学公式(Tex,MathML或者AsciiMath标记的)后输出HTML+CSS来显示数学公式。</p><h3 id="local"><a href="#local" class="headerlink" title="local"></a>local</h3><p>下载MathJax到本地，然后link到网页。<br>方法参见<a href="http://docs.mathjax.org/en/latest/start.html#installing-your-own-copy-of-mathjax" target="_blank" rel="noopener">Installing Your Own Copy of MathJax</a>.</p><h2 id="Put-mathematics-in-web-pages"><a href="#Put-mathematics-in-web-pages" class="headerlink" title="Put mathematics in web pages"></a>Put mathematics in web pages</h2><p>MathJax支持三种标记方法：Tex/LaTex、MathML和AsciiMath，可以<a href="http://docs.mathjax.org/en/latest/configuration.html" target="_blank" rel="noopener">配置</a>来告诉MathJax解析哪一种或哪几种标记方法，三种标记方法可以混用。</p><h3 id="Tex-LaTex"><a href="#Tex-LaTex" class="headerlink" title="Tex/LaTex"></a>Tex/LaTex</h3><p>默认的displayed公式分隔符有<code>$$...$$</code>和<code>\[…\]</code>,而默认的inline公式分隔符为<code>\(...\)</code>,当然这些都是可以自定义的，具体配置请<a href="http://docs.mathjax.org/en/latest/start.html#tex-and-latex-input" target="_blank" rel="noopener">参考文档</a>。由于修改了配置文件，我们在下文中使用<code>$...$</code>作为inline公式分隔符。<br>看一下效果：</p><figure class="highlight tex"><figcaption><span>Tex</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">When <span class="formula">$a <span class="tag">\<span class="name">ne</span></span> 0$</span>, there are two solutions to <span class="tag">\<span class="name">(</span></span>ax^2 + bx + c = 0<span class="tag">\<span class="name">)</span></span> and they are</span><br><span class="line"><span class="formula">$$x = &#123;-b <span class="tag">\<span class="name">pm</span></span> <span class="tag">\<span class="name">sqrt</span><span class="string">&#123;b^2-4ac&#125;</span></span> <span class="tag">\<span class="name">over</span></span> 2a&#125;.$$</span></span><br></pre></td></tr></table></figure><p>When $a \ne 0$, there are two solutions to (ax^2 + bx + c = 0) and they are<br>$$x = {-b \pm \sqrt{b^2-4ac} \over 2a}.$$</p><h3 id="MathML"><a href="#MathML" class="headerlink" title="MathML"></a>MathML</h3><p>效果参见<a href="https://cdn.mathjax.org/mathjax/latest/test/sample-mml.html" target="_blank" rel="noopener">sample-mml.html</a></p><h3 id="AsciiMath"><a href="#AsciiMath" class="headerlink" title="AsciiMath"></a>AsciiMath</h3><p>效果参见<a href="https://cdn.mathjax.org/mathjax/latest/test/sample-asciimath.html" target="_blank" rel="noopener">sample-asciimath.html</a></p><p>Reference:</p><ol><li><a href="http://docs.mathjax.org/en/latest/start.html" target="_blank" rel="noopener">Getting Started</a></li><li><a href="http://mlworks.cn/posts/introduction-to-mathjax-and-latex-expression/" target="_blank" rel="noopener">Mathjax与LaTex公式简介</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> MathJax </category>
          
          <category> tool </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MathJax </tag>
            
            <tag> TeX </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>湿度humidity</title>
      <link href="/2016/06/01/humidity/"/>
      <url>/2016/06/01/humidity/</url>
      
        <content type="html"><![CDATA[<img src="/2016/06/01/humidity/humidity.jpg" class=""><p>湿度(Humidity)用来表征空气中水蒸气(water vapor)的含量。有三种计量方式：绝对湿度(Absolute Humidity)、相对湿度(Relative Hmidity)、比湿度(Specific Humidity)。</p><a id="more"></a><h1 id="绝对湿度"><a href="#绝对湿度" class="headerlink" title="绝对湿度"></a>绝对湿度</h1><p>绝对湿度指每立方米空气中所含水蒸气的质量，即水蒸气密度，单位为g/m<sup>3</sup>。<br>随着温度和气压的变化，绝对湿度会变化。<br>温度越高，绝对湿度越小。<br>气压越高，绝对湿度越大。</p><h1 id="相对湿度"><a href="#相对湿度" class="headerlink" title="相对湿度"></a>相对湿度</h1><p>相对湿度(RH)指空气中水蒸气压与相同情况下饱和水蒸气压的百分比，表示形式如90%RH。百分比越高，湿度越大。<br>相对湿度能反映降水的可能性，所以常用在天气预报中。<br>在炎热的夏天天气，相对湿度的上升会阻碍皮肤的汗水蒸发，从而增加人类的体感温度。</p><h1 id="比湿度"><a href="#比湿度" class="headerlink" title="比湿度"></a>比湿度</h1><p>一团由干空气和水汽组成的湿空气中的水汽质量与湿空气的总质量之比。若湿空气与外界无质量交换，且无相变，则比湿保持不变。以g/g或g/kg为单位，通常大气中比湿都小于40g/kg。</p><p>Reference:</p><ol><li><a href="https://en.wikipedia.org/wiki/Humidity" target="_blank" rel="noopener">Humidity wiki</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 气象 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> humidity </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hamming Distance</title>
      <link href="/2016/05/12/hamming-distance/"/>
      <url>/2016/05/12/hamming-distance/</url>
      
        <content type="html"><![CDATA[<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=208933&auto=0&height=66"></iframe>蔡健雅-达尔文<img src="/2016/05/12/hamming-distance/Hamming_distance_4_bit_binary_example.svg.png" class="Hamming_distance_4_bit_binary_example"><p>Hamming distance is a metric to measure difference between two strings of equal length or two data with same length(eg. two binary data with same bits).</p><a id="more"></a><h1 id="Definiton"><a href="#Definiton" class="headerlink" title="Definiton"></a>Definiton</h1><blockquote><p> In information theory, the <a href="https://en.wikipedia.org/wiki/Hamming_distance" target="_blank" rel="noopener">Hamming distance</a> between two strings of equal length is the number of positions at which the corresponding symbols are different. In another way, it measures the minimum number of substitutions required to change one string into the other, or the minimum number of errors that could have transformed one string into the other.</p></blockquote><h1 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h1><h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><p>the Hamming distance between below two strings is 8.<br>“Hello,world”<br>“world,hello”<br> 11101011101   | 8<br> there is a <a href="https://github.com/doukremt/distance" target="_blank" rel="noopener">python distance lib</a> which can calculate hamming distance.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> distance <span class="keyword">as</span> ds</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>ds.hamming(<span class="string">"hello,world"</span>, <span class="string">"world,hello"</span>)</span><br><span class="line"><span class="number">8</span></span><br></pre></td></tr></table></figure><h2 id="Data"><a href="#Data" class="headerlink" title="Data"></a>Data</h2><p>hamming distance between<br><code>1011101</code> and<br><code>1001001</code><br>is 2.</p><p>Here data can be binary or octonary or decimal or hexadecimal, but the two data should be with same length in same system.</p><h1 id="Application"><a href="#Application" class="headerlink" title="Application"></a>Application</h1><h2 id="Coding-theory"><a href="#Coding-theory" class="headerlink" title="Coding theory"></a>Coding theory</h2><p>In coding theory, hamming distance is used as error detecting and error correcting codes(ECC).<br>a code with minimum Hamming distance d between its codewords can detect at most d-1 errors and can correct (d-1)/2 errors.The latter number is also called the error-correcting capability of the code.</p><p>For error detecting, hammind distance is usde to evaluate the performace of algorithm.<br>Let’s say, there are fixed-length data d, then we count a checksum C using differet algorithm. then we have data(d, C). we can get the minimum hamming distance d in set(d, C). so the algorithm can detect d-1 errors and correct (d-1)/2 errors.<br>CRC is generally better than modular sum.</p><p>For error correcting, there is a kind of ECC named as <a href="https://en.wikipedia.org/wiki/Hamming_code" target="_blank" rel="noopener">Hamming Code</a>.</p><h2 id="Programming"><a href="#Programming" class="headerlink" title="Programming"></a>Programming</h2><p>In softwar programming, there is a simple method to protect data from unexpected bit inverse(eg. soft error).<br>By define enum type like this:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> </span><br><span class="line">&#123;</span><br><span class="line">    Red  = <span class="number">0x0F</span>,</span><br><span class="line">    Blue = <span class="number">0x33</span>,</span><br><span class="line">    Green = <span class="number">0x3C</span></span><br><span class="line">&#125;Color;</span><br></pre></td></tr></table></figure><p>the minimum hamming distance between <code>Red</code>,<code>Blue</code> and <code>Green</code> is 4.</p><h1 id="Generate-data-set-with-min-hamming-distance"><a href="#Generate-data-set-with-min-hamming-distance" class="headerlink" title="Generate data set with min hamming distance"></a>Generate data set with min hamming distance</h1><figure class="highlight python"><figcaption><span> min_hamming_distance_set</span><a href="/downloads/code/hamming_distance/min_hamming_distance_set.py">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding:utf-8 </span></span><br><span class="line"><span class="comment">#author: www.wuchenxu.com</span></span><br><span class="line"><span class="comment">#versin: 1.0</span></span><br><span class="line"><span class="comment">#date: 2016-05-18</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#https://github.com/doukremt/distance</span></span><br><span class="line"><span class="keyword">import</span> distance <span class="keyword">as</span> ds</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">convertDec2BinStr</span><span class="params">(num)</span>:</span></span><br><span class="line"><span class="keyword">return</span> <span class="string">'{0:08b}'</span>.format(num)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">data= [<span class="number">0</span>]</span><br><span class="line">min_hamming_distance = <span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">255</span>):</span><br><span class="line">counter = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> data:</span><br><span class="line"><span class="keyword">if</span> ds.hamming(convertDec2BinStr(j), convertDec2BinStr(i)) &gt;= min_hamming_distance:</span><br><span class="line">counter +=<span class="number">1</span></span><br><span class="line"><span class="keyword">if</span> counter == len(data):</span><br><span class="line">data.append(i)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> data:</span><br><span class="line"><span class="keyword">print</span> convertDec2BinStr(i)+<span class="string">'(0x{0:02x})'</span>.format(i)</span><br></pre></td></tr></table></figure><p><code>data=[0]</code> defines the first number of data set; <code>min_hamming_distance</code> defines the min hanmming distance of the data set.</p><figure class="highlight plain"><figcaption><span>result</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">00000000(0x00)</span><br><span class="line">00001111(0x0f)</span><br><span class="line">00110011(0x33)</span><br><span class="line">00111100(0x3c)</span><br><span class="line">01010101(0x55)</span><br><span class="line">01011010(0x5a)</span><br><span class="line">01100110(0x66)</span><br><span class="line">01101001(0x69)</span><br><span class="line">10010110(0x96)</span><br><span class="line">10011001(0x99)</span><br><span class="line">10100101(0xa5)</span><br><span class="line">10101010(0xaa)</span><br><span class="line">11000011(0xc3)</span><br><span class="line">11001100(0xcc)</span><br><span class="line">11110000(0xf0)</span><br></pre></td></tr></table></figure><p>Reference：</p><ol><li><a href="https://en.wikipedia.org/wiki/Hamming_distance" target="_blank" rel="noopener">Hamming distance in wiki</a> </li><li><a href="https://en.wikipedia.org/wiki/Hamming_code" target="_blank" rel="noopener">Hamming Code</a></li><li><a href="https://github.com/doukremt/distance" target="_blank" rel="noopener">python distance lib</a></li><li><a href="https://docs.python.org/2/library/string.html#format-examples" target="_blank" rel="noopener">python format</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> distance </category>
          
          <category> coding </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hamming-distance </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>个人博客搭建hexo+github(8):独立域名绑定github</title>
      <link href="/2016/04/28/Static-Blog-hexo-github-8-binding-domain/"/>
      <url>/2016/04/28/Static-Blog-hexo-github-8-binding-domain/</url>
      
        <content type="html"><![CDATA[<p>独立域名绑定到github的方法。</p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=26423116&auto=0&height=66"></iframe>attraction - 小泽正澄<a id="more"></a><h1 id="购买域名"><a href="#购买域名" class="headerlink" title="购买域名"></a>购买域名</h1><p>我是在<a href="https://wanwang.aliyun.com/" target="_blank" rel="noopener">万网</a>购买的，现在已经被阿里云收归旗下，比<a href="https://www.godaddy.com/" target="_blank" rel="noopener">狗爹</a>便宜，第一年45块。</p><h1 id="DNS设置"><a href="#DNS设置" class="headerlink" title="DNS设置"></a>DNS设置</h1><p>我使用的是国内的<a href="https://www.dnspod.cn" target="_blank" rel="noopener">DNSPod</a>。</p><h2 id="DNS服务器"><a href="#DNS服务器" class="headerlink" title="DNS服务器"></a>DNS服务器</h2><p>域名解析的DNS服务器设置为SNSPod的地址</p><img src="/2016/04/28/Static-Blog-hexo-github-8-binding-domain/DNS_server.png" class=""><h2 id="DNS记录"><a href="#DNS记录" class="headerlink" title="DNS记录"></a>DNS记录</h2><p>github Pages和coding Pages同时部署了，DNSPod的一个好处是可以将国内和国内的访问使用不同路线。<br>国内的访问路由到github,国外的路由到coding.<br>几种常用的记录类型：</p><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">A</span>记录：地址记录，用来指定域名的IPv4地址（如：<span class="number">8.8.8.8</span>），如果需要将域名指向一个IP地址，就需要添加<span class="keyword">A</span>记录。</span><br><span class="line"><span class="keyword">CNAME</span>： 如果需要将域名指向另一个域名，再由另一个域名提供ip地址，就需要添加<span class="keyword">CNAME</span>记录。</span><br><span class="line"><span class="keyword">NS</span>：域名服务器记录，如果需要把子域名交给其他DNS服务商解析，就需要添加<span class="keyword">NS</span>记录。</span><br></pre></td></tr></table></figure><p>NS记录为不可修改的域名服务器记录。<br>A记录用来指定<a href="https://help.github.com/articles/troubleshooting-custom-domains/" target="_blank" rel="noopener">github pages的IP地址</a>，可不设置。<br>CNAME记录需要指定<code>www</code>和<code>@</code>两种主机记录（域名前缀）。<br>github的CNAME指向<code>username.github.io</code> 或者 <code>github.map.fastly.net</code>;<br>coding的CNAME指向<code>pages.coding.me</code>。</p><img src="/2016/04/28/Static-Blog-hexo-github-8-binding-domain/DNSPod_set.png" class=""><h1 id="CNAME重定向"><a href="#CNAME重定向" class="headerlink" title="CNAME重定向"></a>CNAME重定向</h1><p>在hexo/source目录下新建名为<code>CNAME</code>的文件，没有后缀。<br>内容为域名，我这里是<code>wuchenxu.com</code>，没有<code>www</code>的。<br>coding需要手动设置绑定域名</p><img src="/2016/04/28/Static-Blog-hexo-github-8-binding-domain/CNAME_CodingPages.png" class=""><p>绑定两个网址，一个带<code>www</code>，另一个不带<code>www</code>，这样两个网址都能够访问。一开始我只绑定了不带<code>www</code>的网址，导致输入<code>www.wuchenxu.com</code>无法解析。</p><h1 id="启用"><a href="#启用" class="headerlink" title="启用"></a>启用</h1><p>重新部署<code>hexo d -g</code>后，可以通过独立域名访问博客啦。</p><h1 id="查看访问源"><a href="#查看访问源" class="headerlink" title="查看访问源"></a>查看访问源</h1><p>可以看到访问的是coding Pages。</p><img src="/2016/04/28/Static-Blog-hexo-github-8-binding-domain/ping_domain.png" class=""><h1 id="Debug"><a href="#Debug" class="headerlink" title="Debug"></a>Debug</h1><p>发现用移动网络可以访问，但是连接家里的广电宽带就是访问不了，出现<code>DNS_PROBE_FINISHED_NXDOMAIN</code>错误。<br>通过<a href="http://bbs.guanjia.qq.com/forum.php?mod=viewthread&tid=2092936&extra=" target="_blank" rel="noopener">手动设置DNS</a>后问题解决。</p><img src="/2016/04/28/Static-Blog-hexo-github-8-binding-domain/PC_set_DNS_Server.png" class=""><p>References:</p><ol><li><a href="http://www.jianshu.com/p/1d427e888dda" target="_blank" rel="noopener">域名和github绑定的问题</a></li><li><a href="http://cnfeat.com/blog/2014/05/10/how-to-build-a-blog/" target="_blank" rel="noopener">如何搭建一个独立博客</a></li><li><a href="http://iread.io/2015/09/hexo-guide-4/" target="_blank" rel="noopener">将独立域名与GitHub Pages的空间绑定</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> github </tag>
            
            <tag> blog </tag>
            
            <tag> DNS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python脚本嵌入bat脚本执行</title>
      <link href="/2016/04/26/python-srcipt-embedded-in-bat/"/>
      <url>/2016/04/26/python-srcipt-embedded-in-bat/</url>
      
        <content type="html"><![CDATA[<p>通过bat脚本的注释<code>rem</code>以及python脚本的注释<code>&quot;&quot;&quot;</code>实现将python脚本嵌入到bat脚本中执行。</p><a id="more"></a><p>将python语句嵌入到bat脚本中，直接执行bat脚本的最终结果是执行python脚本。<br>python脚本可以接收bat脚本的命令行输入参数。<br>主要用到三个技巧：</p><ol><li>bat的注释<code>rem</code></li><li>python的多行注释<code>&quot;&quot;&quot;</code></li><li>bat的goto label</li></ol><figure class="highlight bat"><figcaption><span> PythonScriptInBat</span><a href="/downloads/code/PythonScriptInBat/pythonScriptInBat.bat">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">rem = """</span></span><br><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line">python.exe -d %<span class="number">0</span> %*</span><br><span class="line"><span class="built_in">pause</span></span><br><span class="line"><span class="keyword">goto</span> endofPython """</span><br><span class="line"> </span><br><span class="line">import os</span><br><span class="line">import sys</span><br><span class="line"><span class="built_in">print</span> "hello,python "</span><br><span class="line"><span class="built_in">print</span> "pwd: " + os.getcwd()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, len(sys.argv)):</span><br><span class="line"><span class="built_in">print</span> "argv", i, sys.argv[i]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment">rem = """</span></span><br><span class="line">:endofPython """</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> windows cmd </category>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> cmd </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows command(17):多线程 start call cmd</title>
      <link href="/2016/04/01/windows-cmd-17-multiple-thread/"/>
      <url>/2016/04/01/windows-cmd-17-multiple-thread/</url>
      
        <content type="html"><![CDATA[<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=5264222&auto=0&height=66"></iframe>本多RuRu-美丽心情<p>start启动独立窗口;call调用另一个脚本;cmd启动Windows命令解释器的一个新实例.</p><a id="more"></a><h1 id="start"><a href="#start" class="headerlink" title="start"></a>start</h1><p>启动一个单独的窗口以运行指定的程序或命令。</p><figure class="highlight bat"><figcaption><span>以最大化方式启动画图板</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">start</span> /max mspaint</span><br></pre></td></tr></table></figure><figure class="highlight bat"><figcaption><span>启动记事本，并打开a.txt，在关闭记事本之前cmd等待</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">start</span> /wait notepad a.txt</span><br></pre></td></tr></table></figure><figure class="highlight bat"><figcaption><span>打开指定目录</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">start</span> "" d:\test\"</span><br></pre></td></tr></table></figure><figure class="highlight bat"><figcaption><span>打开当前目录</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">start</span>.</span><br></pre></td></tr></table></figure><h1 id="call"><a href="#call" class="headerlink" title="call"></a>call</h1><p>从一个批处理程序调用另一个批处理程序，并且不终止父批处理程序。call 命令接受用作调用目标的标签。如果在脚本或批处理文件外使用 Call，它将不会在命令行起作用。<br>调用格式：<br><code>call :label arg</code><br>被调用程序语法：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:label</span></span><br><span class="line"><span class="selector-tag">cmd1</span></span><br><span class="line">...</span><br><span class="line"><span class="selector-tag">cmdn</span></span><br><span class="line"><span class="selector-tag">goto</span> <span class="selector-pseudo">:eof</span></span><br></pre></td></tr></table></figure><p>被调用程序中，参数%0 指标签:label.</p><h2 id="例1：父子程序都被执行"><a href="#例1：父子程序都被执行" class="headerlink" title="例1：父子程序都被执行"></a>例1：父子程序都被执行</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@echo off</span><br><span class="line">call :label</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">:label</span><br><span class="line">echo %0 %1</span><br><span class="line">goto :eof</span><br></pre></td></tr></table></figure><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;test<span class="selector-class">.bat</span> hello</span><br><span class="line">:label</span><br><span class="line">test<span class="selector-class">.bat</span> hello</span><br></pre></td></tr></table></figure><h2 id="例2-加法"><a href="#例2-加法" class="headerlink" title="例2:加法"></a>例2:加法</h2><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">set</span> sum=<span class="number">0</span></span><br><span class="line"><span class="keyword">call</span> :add sum <span class="number">10</span> <span class="number">20</span> <span class="number">30</span></span><br><span class="line"><span class="built_in">echo</span> result: <span class="variable">%sum%</span></span><br><span class="line"><span class="keyword">goto</span> :eof</span><br><span class="line"></span><br><span class="line">:add</span><br><span class="line"><span class="comment">rem arg1 is return value</span></span><br><span class="line"><span class="built_in">set</span> /a <span class="variable">%1=%</span><span class="number">1</span>+%<span class="number">2</span></span><br><span class="line"><span class="built_in">shift</span> /<span class="number">2</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> "%<span class="number">2</span>"=="" <span class="keyword">goto</span> add</span><br><span class="line"><span class="keyword">goto</span> :eof</span><br></pre></td></tr></table></figure><p><code>:label</code>一样，call后面是必须是<code>:label</code>，而goto则可以是<code>label</code>或者<code>:label</code>。</p><h1 id="cmd"><a href="#cmd" class="headerlink" title="cmd"></a>cmd</h1><p>启动 Windows 命令解释器的一个新实例</p><p>Reference:</p><figure class="highlight plain"><figcaption><span>help start</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line">启动一个单独的窗口以运行指定的程序或命令。</span><br><span class="line"></span><br><span class="line">START [&quot;title&quot;] [&#x2F;D path] [&#x2F;I] [&#x2F;MIN] [&#x2F;MAX] [&#x2F;SEPARATE | &#x2F;SHARED]</span><br><span class="line">      [&#x2F;LOW | &#x2F;NORMAL | &#x2F;HIGH | &#x2F;REALTIME | &#x2F;ABOVENORMAL | &#x2F;BELOWNORMAL]</span><br><span class="line">      [&#x2F;NODE &lt;NUMA node&gt;] [&#x2F;AFFINITY &lt;hex affinity mask&gt;] [&#x2F;WAIT] [&#x2F;B]</span><br><span class="line">      [command&#x2F;program] [parameters]</span><br><span class="line"></span><br><span class="line">    &quot;title&quot;     在窗口标题栏中显示的标题。</span><br><span class="line">    path        启动目录。</span><br><span class="line">    B           启动应用程序，但不创建新窗口。</span><br><span class="line">                应用程序已忽略 ^C 处理。除非应用程序</span><br><span class="line">                启用 ^C 处理，否则 ^Break 是唯一可以中断</span><br><span class="line">                该应用程序的方式。</span><br><span class="line">    I           新的环境将是传递</span><br><span class="line">                给 cmd.exe 的原始环境，而不是当前环境。</span><br><span class="line">    MIN         以最小化方式启动窗口。</span><br><span class="line">    MAX         以最大化方式启动窗口。</span><br><span class="line">    SEPARATE    在单独的内存空间中启动 16 位 Windows 程序。</span><br><span class="line">    SHARED      在共享内存空间中启动 16 位 Windows 程序。</span><br><span class="line">    LOW         在 IDLE 优先级类中启动应用程序。</span><br><span class="line">    NORMAL      在 NORMAL 优先级类中启动应用程序。</span><br><span class="line">    HIGH        在 HIGH 优先级类中启动应用程序。</span><br><span class="line">    REALTIME    在 REALTIME 优先级类中启动应用程序。</span><br><span class="line">    ABOVENORMAL 在 ABOVENORMAL 优先级类中启动应用程序。</span><br><span class="line">    BELOWNORMAL 在 BELOWNORMAL 优先级类中启动应用程序。</span><br><span class="line">    NODE        将首选非一致性内存结构(NUMA)节点指定为</span><br><span class="line">                十进制整数。</span><br><span class="line">    AFFINITY    将处理器关联掩码指定为十六进制数字。</span><br><span class="line">                进程被限制在这些处理器上运行。</span><br><span class="line"></span><br><span class="line">                将 &#x2F;AFFINITY 和 &#x2F;NODE 结合使用时，会对关联掩码</span><br><span class="line">                进行不同的解释。指定关联掩码，以便将零位作为起始位置(就如将 NUMA</span><br><span class="line">                节点的处理器掩码向右移位一样)。</span><br><span class="line">                进程被限制在指定关联掩码和 NUMA 节点之间的</span><br><span class="line">                那些通用处理器上运行。</span><br><span class="line">                如果没有通用处理器，则进程被限制在</span><br><span class="line">                指定的 NUMA 节点上运行。</span><br><span class="line">    WAIT        启动应用程序并等待它终止。</span><br><span class="line">    command&#x2F;program</span><br><span class="line">                如果它是内部 cmd 命令或批文件，则</span><br><span class="line">                该命令处理器是使用 cmd.exe 的 &#x2F;K 开关运行的。</span><br><span class="line">                这表示运行该命令之后，该窗口</span><br><span class="line">                将仍然存在。</span><br><span class="line"></span><br><span class="line">                如果它不是内部 cmd 命令或批文件，则</span><br><span class="line">                它就是一个程序，并将作为一个窗口化应用程序或</span><br><span class="line">                控制台应用程序运行。</span><br><span class="line"></span><br><span class="line">    parameters  这些是传递给 command&#x2F;program 的参数。</span><br><span class="line"></span><br><span class="line">注意: 在 64 位平台上不支持 SEPARATE 和 SHARED 选项。</span><br><span class="line"></span><br><span class="line">通过指定 &#x2F;NODE，可按照利用 NUMA 系统中的内存区域的方式</span><br><span class="line">创建进程。例如，可以创建两个完全</span><br><span class="line">通过共享内存互相通信的进程以共享相同的首选 NUMA 节点，</span><br><span class="line">从而最大限度地减少内存延迟。只要有可能，</span><br><span class="line">它们就会分配来自相同 NUMA 节点的</span><br><span class="line">内存，并且会在指定节点之外的处理器上自由运行。</span><br><span class="line"></span><br><span class="line">    start &#x2F;NODE 1 application1.exe</span><br><span class="line">    start &#x2F;NODE 1 application2.exe</span><br><span class="line"></span><br><span class="line">这两个进程可被进一步限制在相同 NUMA 节点内的指定处理器</span><br><span class="line">上运行。在以下示例中，application1 在</span><br><span class="line">节点的两个低位处理器上运行，而 application2</span><br><span class="line">在该节点的其后两个处理器上运行。该示例假定指定节点至少具有四个逻辑处理器。请注意，节点号可更改为该计算机的任何有效节点号，</span><br><span class="line">而无需更改关联掩码。</span><br><span class="line"></span><br><span class="line">    start &#x2F;NODE 1 &#x2F;AFFINITY 0x3 application1.exe</span><br><span class="line">    启动 &#x2F;NODE 1 &#x2F;AFFINITY 0xc application2.exe</span><br><span class="line"></span><br><span class="line">如果命令扩展被启用，通过命令行或 START 命令的外部命令</span><br><span class="line">调用会如下改变:</span><br><span class="line"></span><br><span class="line">将文件名作为命令键入，非可执行文件可以通过文件关联调用。</span><br><span class="line">    (例如，WORD.DOC 会调用跟 .DOC 文件扩展名关联的应用程序)。</span><br><span class="line">    关于如何从命令脚本内部创建这些关联，请参阅 ASSOC 和</span><br><span class="line">     FTYPE 命令。</span><br><span class="line"></span><br><span class="line">执行的应用程序是 32 位 GUI 应用程序时，CMD.EXE 不等应用</span><br><span class="line">    程序终止就返回命令提示符。如果在命令脚本内执行，该新行为</span><br><span class="line">    则不会发生。</span><br><span class="line"></span><br><span class="line">如果执行的命令行的第一个符号是不带扩展名或路径修饰符的</span><br><span class="line">    字符串 &quot;CMD&quot;，&quot;CMD&quot; 会被 COMSPEC 变量的数值所替换。这</span><br><span class="line">    防止从当前目录提取 CMD.EXE。</span><br><span class="line"></span><br><span class="line">如果执行的命令行的第一个符号没有扩展名，CMD.EXE 会使用</span><br><span class="line">    PATHEXT 环境变量的数值来决定要以什么顺序寻找哪些扩展</span><br><span class="line">    名。PATHEXT 变量的默认值是:</span><br><span class="line"></span><br><span class="line">        .COM;.EXE;.BAT;.CMD</span><br><span class="line"></span><br><span class="line">    请注意，该语法跟 PATH 变量的一样，分号隔开不同的元素。</span><br><span class="line"></span><br><span class="line">查找可执行文件时，如果没有相配的扩展名，看一看该名称是否</span><br><span class="line">与目录名相配。如果确实如此，START 会在那个路径上调用</span><br><span class="line">Explorer。如果从命令行执行，则等同于对那个路径作 CD &#x2F;D。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><figcaption><span>help call</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">从批处理程序调用另一个批处理程序。</span><br><span class="line"></span><br><span class="line">CALL [drive:][path]filename [batch-parameters]</span><br><span class="line"></span><br><span class="line">  batch-parameters   指定批处理程序所需的命令行信息。</span><br><span class="line"></span><br><span class="line">如果命令扩展被启用，CALL 会如下改变:</span><br><span class="line"></span><br><span class="line">CALL 命令现在将卷标当作 CALL 的目标接受。语法是:</span><br><span class="line"></span><br><span class="line">    CALL:label arguments</span><br><span class="line"></span><br><span class="line">一个新的批文件上下文由指定的参数所创建，控制在卷标被指定</span><br><span class="line">后传递到语句。你必须通过达到批脚本文件末两次来 &quot;exit&quot; 两次。</span><br><span class="line">第一次读到文件末时，控制会回到 CALL 语句的紧后面。第二次</span><br><span class="line">会退出批脚本。键入 GOTO &#x2F;?，参看 GOTO :EOF 扩展的描述，</span><br><span class="line">此描述允许你从一个批脚本返回。</span><br><span class="line"></span><br><span class="line">另外，批脚本文本参数参照(%0、%1、等等)已如下改变:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">     批脚本里的 %* 指出所有的参数(如 %1 %2 %3 %4 %5 ...)</span><br><span class="line"></span><br><span class="line">     批参数(%n)的替代已被增强。你可以使用以下语法:</span><br><span class="line"></span><br><span class="line">         %~1         - 删除引号(&quot;)，扩展 %1</span><br><span class="line">         %~f1        - 将 %1 扩展到一个完全合格的路径名</span><br><span class="line">         %~d1        - 仅将 %1 扩展到一个驱动器号</span><br><span class="line">         %~p1        - 仅将 %1 扩展到一个路径</span><br><span class="line">         %~n1        - 仅将 %1 扩展到一个文件名</span><br><span class="line">         %~x1        - 仅将 %1 扩展到一个文件扩展名</span><br><span class="line">         %~s1        - 扩展的路径只含有短名</span><br><span class="line">         %~a1        - 将 %1 扩展到文件属性</span><br><span class="line">         %~t1        - 将 %1 扩展到文件的日期&#x2F;时间</span><br><span class="line">         %~z1        - 将 %1 扩展到文件的大小</span><br><span class="line">         %~$PATH:1   - 查找列在 PATH 环境变量的目录，并将 %1</span><br><span class="line">                       扩展到找到的第一个完全合格的名称。如果</span><br><span class="line">                       环境变量名未被定义，或者没有找到文件，</span><br><span class="line">                       此修改符会扩展到空字符串</span><br><span class="line"></span><br><span class="line">    可以组合修改符来取得多重结果:</span><br><span class="line"></span><br><span class="line">        %~dp1       - 只将 %1 扩展到驱动器号和路径</span><br><span class="line">        %~nx1       - 只将 %1 扩展到文件名和扩展名</span><br><span class="line">        %~dp$PATH:1 - 在列在 PATH 环境变量中的目录里查找 %1，</span><br><span class="line">                      并扩展到找到的第一个文件的驱动器号和路径。</span><br><span class="line">        %~ftza1     - 将 %1 扩展到类似 DIR 的输出行。</span><br><span class="line"></span><br><span class="line">    在上面的例子中，%1 和 PATH 可以被其他有效数值替换。</span><br><span class="line">    %~ 语法被一个有效参数号码终止。%~ 修定符不能跟 %*</span><br><span class="line">    使用</span><br></pre></td></tr></table></figure><figure class="highlight plain"><figcaption><span>help cmd</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br></pre></td><td class="code"><pre><span class="line">启动 Windows 命令解释器的一个新实例</span><br><span class="line"></span><br><span class="line">CMD [&#x2F;A | &#x2F;U] [&#x2F;Q] [&#x2F;D] [&#x2F;E:ON | &#x2F;E:OFF] [&#x2F;F:ON | &#x2F;F:OFF] [&#x2F;V:ON | &#x2F;V:OFF]</span><br><span class="line">    [[&#x2F;S] [&#x2F;C | &#x2F;K] string]</span><br><span class="line"></span><br><span class="line">&#x2F;C      执行字符串指定的命令然后终止</span><br><span class="line">&#x2F;K      执行字符串指定的命令但保留</span><br><span class="line">&#x2F;S      修改 &#x2F;C 或 &#x2F;K 之后的字符串处理(见下)</span><br><span class="line">&#x2F;Q      关闭回显</span><br><span class="line">&#x2F;D      禁止从注册表执行 AutoRun 命令(见下)</span><br><span class="line">&#x2F;A      使向管道或文件的内部命令输出成为 ANSI</span><br><span class="line">&#x2F;U      使向管道或文件的内部命令输出成为</span><br><span class="line">        Unicode</span><br><span class="line">&#x2F;T:fg   设置前台&#x2F;背景颜色(详细信息见 COLOR &#x2F;?)</span><br><span class="line">&#x2F;E:ON   启用命令扩展(见下)</span><br><span class="line">&#x2F;E:OFF  禁用命令扩展(见下)</span><br><span class="line">&#x2F;F:ON   启用文件和目录名完成字符(见下)</span><br><span class="line">&#x2F;F:OFF  禁用文件和目录名完成字符(见下)</span><br><span class="line">&#x2F;V:ON   使用 ! 作为分隔符启用延迟的环境变量</span><br><span class="line">        扩展。例如，&#x2F;V:ON 会允许 !var! 在执行时</span><br><span class="line">        扩展变量 var。var 语法会在输入时</span><br><span class="line">        扩展变量，这与在一个 FOR</span><br><span class="line">        循环内不同。</span><br><span class="line">&#x2F;V:OFF  禁用延迟的环境扩展。</span><br><span class="line"></span><br><span class="line">注意，如果字符串加有引号，可以接受用命令分隔符 &quot;&amp;&amp;&quot;</span><br><span class="line">分隔多个命令。另外，由于兼容性</span><br><span class="line">原因，&#x2F;X 与 &#x2F;E:ON 相同，&#x2F;Y 与 &#x2F;E:OFF 相同，且 &#x2F;R 与</span><br><span class="line">&#x2F;C 相同。任何其他开关都将被忽略。</span><br><span class="line"></span><br><span class="line">如果指定了 &#x2F;C 或 &#x2F;K，则会将该开关之后的</span><br><span class="line">命令行的剩余部分作为一个命令行处理，其中，会使用下列逻辑</span><br><span class="line">处理引号(&quot;)字符:</span><br><span class="line"></span><br><span class="line">    1.  如果符合下列所有条件，则会保留</span><br><span class="line">        命令行上的引号字符:</span><br><span class="line"></span><br><span class="line">        - 不带 &#x2F;S 开关</span><br><span class="line">        - 正好两个引号字符</span><br><span class="line">        - 在两个引号字符之间无任何特殊字符，</span><br><span class="line">          特殊字符指下列字符: &amp;&lt;&gt;()@^|</span><br><span class="line">        - 在两个引号字符之间至少有</span><br><span class="line">          一个空格字符</span><br><span class="line">        - 在两个引号字符之间的字符串是某个</span><br><span class="line">          可执行文件的名称。</span><br><span class="line"></span><br><span class="line">    2.  否则，老办法是看第一个字符</span><br><span class="line">        是否是引号字符，如果是，则去掉首字符并</span><br><span class="line">        删除命令行上最后一个引号，保留</span><br><span class="line">        最后一个引号之后的所有文本。</span><br><span class="line"></span><br><span class="line">如果 &#x2F;D 未在命令行上被指定，当 CMD.EXE 开始时，它会寻找</span><br><span class="line">以下 REG_SZ&#x2F;REG_EXPAND_SZ 注册表变量。如果其中一个或</span><br><span class="line">两个都存在，这两个变量会先被执行。</span><br><span class="line"></span><br><span class="line">    HKEY_LOCAL_MACHINE\Software\Microsoft\Command Processor\AutoRun</span><br><span class="line"></span><br><span class="line">        和&#x2F;或</span><br><span class="line"></span><br><span class="line">    HKEY_CURRENT_USER\Software\Microsoft\Command Processor\AutoRun</span><br><span class="line"></span><br><span class="line">命令扩展是按默认值启用的。你也可以使用 &#x2F;E:OFF ，为某一</span><br><span class="line">特定调用而停用扩展。你</span><br><span class="line">可以在机器上和&#x2F;或用户登录会话上</span><br><span class="line">启用或停用 CMD.EXE 所有调用的扩展，这要通过设置使用</span><br><span class="line">REGEDIT.EXE 的注册表中的一个或两个 REG_DWORD 值:</span><br><span class="line"></span><br><span class="line">    HKEY_LOCAL_MACHINE\Software\Microsoft\Command Processor\EnableExtensions</span><br><span class="line"></span><br><span class="line">        和&#x2F;或</span><br><span class="line"></span><br><span class="line">    HKEY_CURRENT_USER\Software\Microsoft\Command Processor\EnableExtensions</span><br><span class="line"></span><br><span class="line">到 0x1 或 0x0。用户特定设置</span><br><span class="line">比机器设置有优先权。命令行</span><br><span class="line">开关比注册表设置有优先权。</span><br><span class="line"></span><br><span class="line">在批处理文件中，SETLOCAL ENABLEEXTENSIONS 或 DISABLEEXTENSIONS 参数</span><br><span class="line">比 &#x2F;E:ON 或 &#x2F;E:OFF 开关有优先权。请参阅 SETLOCAL &#x2F;? 获取详细信息。</span><br><span class="line"></span><br><span class="line">命令扩展包括对下列命令所做的</span><br><span class="line">更改和&#x2F;或添加:</span><br><span class="line"></span><br><span class="line">    DEL or ERASE</span><br><span class="line">    COLOR</span><br><span class="line">    CD or CHDIR</span><br><span class="line">    MD or MKDIR</span><br><span class="line">    PROMPT</span><br><span class="line">    PUSHD</span><br><span class="line">    POPD</span><br><span class="line">    SET</span><br><span class="line">    SETLOCAL</span><br><span class="line">    ENDLOCAL</span><br><span class="line">    IF</span><br><span class="line">    FOR</span><br><span class="line">    CALL</span><br><span class="line">    SHIFT</span><br><span class="line">    GOTO</span><br><span class="line">    START (同时包括对外部命令调用所做的更改)</span><br><span class="line">    ASSOC</span><br><span class="line">    FTYPE</span><br><span class="line"></span><br><span class="line">有关特定详细信息，请键入 commandname &#x2F;? 查看。</span><br><span class="line"></span><br><span class="line">延迟环境变量扩展不按默认值启用。你</span><br><span class="line">可以用&#x2F;V:ON 或 &#x2F;V:OFF 开关，为 CMD.EXE 的某个调用而</span><br><span class="line">启用或停用延迟环境变量扩展。你</span><br><span class="line">可以在机器上和&#x2F;或用户登录会话上启用或停用 CMD.EXE 所有</span><br><span class="line">调用的延迟扩展，这要通过设置使用 REGEDIT.EXE 的注册表中的</span><br><span class="line">一个或两个 REG_DWORD 值:</span><br><span class="line"></span><br><span class="line">    HKEY_LOCAL_MACHINE\Software\Microsoft\Command Processor\DelayedExpansion</span><br><span class="line"></span><br><span class="line">        和&#x2F;或</span><br><span class="line"></span><br><span class="line">    HKEY_CURRENT_USER\Software\Microsoft\Command Processor\DelayedExpansion</span><br><span class="line"></span><br><span class="line">到 0x1 或 0x0。用户特定设置</span><br><span class="line">比机器设置有优先权。命令行开关</span><br><span class="line">比注册表设置有优先权。</span><br><span class="line"></span><br><span class="line">在批处理文件中，SETLOCAL ENABLEDELAYEDEXPANSION 或 DISABLEDELAYEDEXPANSION</span><br><span class="line">参数比 &#x2F;V:ON 或 &#x2F;V:OFF 开关有优先权。请参阅 SETLOCAL &#x2F;?</span><br><span class="line">获取详细信息。</span><br><span class="line"></span><br><span class="line">如果延迟环境变量扩展被启用，</span><br><span class="line">惊叹号字符可在执行时间被用来</span><br><span class="line">代替一个环境变量的数值。</span><br><span class="line"></span><br><span class="line">你可以用 &#x2F;F:ON 或 &#x2F;F:OFF 开关为 CMD.EXE 的某个</span><br><span class="line">调用而启用或禁用文件名完成。你可以在计算上和&#x2F;或</span><br><span class="line">用户登录会话上启用或禁用 CMD.EXE 所有调用的完成，</span><br><span class="line">这可以通过使用 REGEDIT.EXE 设置注册表中的下列</span><br><span class="line"> REG_DWORD 的全部或其中之一:</span><br><span class="line"></span><br><span class="line">    HKEY_LOCAL_MACHINE\Software\Microsoft\Command Processor\CompletionChar</span><br><span class="line">    HKEY_LOCAL_MACHINE\Software\Microsoft\Command Processor\PathCompletionChar</span><br><span class="line"></span><br><span class="line">        和&#x2F;或</span><br><span class="line"></span><br><span class="line">    HKEY_CURRENT_USER\Software\Microsoft\Command Processor\CompletionChar</span><br><span class="line">    HKEY_CURRENT_USER\Software\Microsoft\Command Processor\PathCompletionChar</span><br><span class="line"></span><br><span class="line">由一个控制字符的十六进制值作为一个特定参数(例如，0x4</span><br><span class="line">是Ctrl-D，0x6 是 Ctrl-F)。用户特定设置优先于机器设置。</span><br><span class="line">命令行开关优先于注册表设置。</span><br><span class="line"></span><br><span class="line">如果完成是用 &#x2F;F:ON 开关启用的，两个要使用的控制符是:</span><br><span class="line">目录名完成用 Ctrl-D，文件名完成用 Ctrl-F。要停用</span><br><span class="line">注册表中的某个字符，请用空格(0x20)的数值，因为此字符</span><br><span class="line">不是控制字符。</span><br><span class="line"></span><br><span class="line">如果键入两个控制字符中的一个，完成会被调用。完成功能将</span><br><span class="line">路径字符串带到光标的左边，如果没有通配符，将通配符附加</span><br><span class="line">到左边，并建立相符的路径列表。然后，显示第一个相符的路</span><br><span class="line">径。如果没有相符的路径，则发出嘟嘟声，不影响显示。之后，</span><br><span class="line">重复按同一个控制字符会循环显示相符路径的列表。将 Shift</span><br><span class="line">键跟控制字符同时按下，会倒着显示列表。如果对该行进行了</span><br><span class="line">任何编辑，并再次按下控制字符，保存的相符路径的列表会被</span><br><span class="line">丢弃，新的会被生成。如果在文件和目录名完成之间切换，会</span><br><span class="line">发生同样现象。两个控制字符之间的唯一区别是文件完成字符</span><br><span class="line">符合文件和目录名，而目录完成字符只符合目录名。如果文件</span><br><span class="line">完成被用于内置式目录命令(CD、MD 或 RD)，就会使用目录</span><br><span class="line">完成。</span><br><span class="line">用引号将相符路径括起来，完成代码可以正确处理含有空格</span><br><span class="line">或其他特殊字符的文件名。同时，如果备份，然后从行内调用</span><br><span class="line">文件完成，完成被调用时位于光标右方的文字会被调用。</span><br><span class="line"></span><br><span class="line">需要引号的特殊字符是:</span><br><span class="line">     &lt;space&gt;</span><br><span class="line">     ()[]&#123;&#125;^&#x3D;;!&#39;+,&#96;~(&amp;()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> windows cmd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmd </tag>
            
            <tag> start </tag>
            
            <tag> call </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows command(16):组合命令 &amp; |</title>
      <link href="/2016/04/01/windows-cmd-16-compound-command/"/>
      <url>/2016/04/01/windows-cmd-16-compound-command/</url>
      
        <content type="html"><![CDATA[<p>组合命令(Compound Command)主要有<code>&amp;</code> <code>&amp;&amp;</code> <code>|</code> <code>||</code>等。</p><a id="more"></a><h1 id="顺序执行多个命令-amp"><a href="#顺序执行多个命令-amp" class="headerlink" title="顺序执行多个命令&amp;"></a>顺序执行多个命令<code>&amp;</code></h1><p><code>cmd1 &amp; cmd2 [&amp; cmd3 ...]</code><br>相对于把多个语句并到一行了。</p><figure class="highlight bat"><figcaption><span>不管前一个命令是否执行成功，都会执行下一个命令</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">dir</span> <span class="title">A</span> &amp; <span class="title">echo</span> <span class="title">hello</span></span></span><br><span class="line"><span class="function"> 驱动器 <span class="title">D</span> 中的卷是 <span class="title">LENOVO</span></span></span><br><span class="line"><span class="function"> 卷的序列号是 0005-42<span class="title">D7</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"> <span class="title">D</span>:\<span class="title">test</span>\<span class="title">test</span> 的目录</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">找不到文件</span></span><br><span class="line"><span class="function"><span class="title">hello</span></span></span><br></pre></td></tr></table></figure><h1 id="执行失败则不执行下一条语句-amp-amp"><a href="#执行失败则不执行下一条语句-amp-amp" class="headerlink" title="执行失败则不执行下一条语句&amp;&amp;"></a>执行失败则不执行下一条语句<code>&amp;&amp;</code></h1><p><code>cmd1 &amp;&amp; cmd2 [&amp;&amp; cmd3 ...]</code></p><figure class="highlight bat"><figcaption><span>echo hello不能被执行</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">dir</span> <span class="title">A</span> &amp;&amp; <span class="title">echo</span> <span class="title">hello</span></span></span><br><span class="line"><span class="function"> 驱动器 <span class="title">D</span> 中的卷是 <span class="title">LENOVO</span></span></span><br><span class="line"><span class="function"> 卷的序列号是 0005-42<span class="title">D7</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"> <span class="title">D</span>:\<span class="title">test</span>\<span class="title">test</span> 的目录</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">找不到文件</span></span><br></pre></td></tr></table></figure><p><code>dir A &amp;&amp; echo hello</code>相当于</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dir</span> A</span><br><span class="line"><span class="keyword">if</span> <span class="variable">%ERRORLEVEL%</span> <span class="keyword">equ</span> <span class="number">0</span> (<span class="built_in">echo</span> hello)</span><br></pre></td></tr></table></figure><h1 id="执行成功则不执行下一条语句"><a href="#执行成功则不执行下一条语句" class="headerlink" title="执行成功则不执行下一条语句||"></a>执行成功则不执行下一条语句<code>||</code></h1><p><code>cmd1 || cmd2 [|| cmd3 ...]</code></p><figure class="highlight bat"><figcaption><span>dir A不能被执行</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">echo</span> <span class="title">hello</span> || <span class="title">dir</span> <span class="title">A</span></span></span><br><span class="line"><span class="function"><span class="title">hello</span></span></span><br></pre></td></tr></table></figure><p><code>echo hello || dir A</code>相当于</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> hello</span><br><span class="line"><span class="keyword">if</span> <span class="variable">%ERRORLEVEL%</span> <span class="keyword">neq</span> <span class="number">0</span> (<span class="built_in">dir</span> A)</span><br></pre></td></tr></table></figure><h1 id="管道"><a href="#管道" class="headerlink" title="管道|"></a>管道<code>|</code></h1><p><code>cmd1 | cmd2 [| cmd3 ...]</code><br>将前一条命令的执行结果作为后一条命令的参数。<br><code>netstat -n -p tcp|find &quot;:80&quot;</code></p>]]></content>
      
      
      <categories>
          
          <category> windows cmd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmd </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows command(15):SHIFT及参数编辑符%~dp0</title>
      <link href="/2016/04/01/windows-cmd-15-shift/"/>
      <url>/2016/04/01/windows-cmd-15-shift/</url>
      
        <content type="html"><![CDATA[<img src="/2016/04/01/windows-cmd-15-shift/shift.png" class=""><p>本文介绍了bat脚本支持的参数，SHIFT命令替换bat脚本参数位置。</p><a id="more"></a><h1 id="batch脚本支持的参数"><a href="#batch脚本支持的参数" class="headerlink" title="batch脚本支持的参数"></a>batch脚本支持的参数</h1><p>支持%1~%9，9个参数，%0表示命令本身。如果写成%10，则是表示%1之后跟一个<code>0</code>.</p><figure class="highlight bat"><figcaption><span>parameters.bat</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">echo</span> <span class="number">0</span>: %<span class="number">0</span> </span><br><span class="line"><span class="built_in">echo</span> <span class="number">1</span>: %<span class="number">1</span> </span><br><span class="line"><span class="built_in">echo</span> <span class="number">2</span>: %<span class="number">2</span> </span><br><span class="line"><span class="built_in">echo</span> <span class="number">3</span>: %<span class="number">3</span></span><br><span class="line"><span class="built_in">echo</span> <span class="number">4</span>: %<span class="number">4</span></span><br><span class="line"><span class="built_in">echo</span> <span class="number">5</span>: %<span class="number">5</span></span><br><span class="line"><span class="built_in">echo</span> <span class="number">6</span>: %<span class="number">6</span></span><br><span class="line"><span class="built_in">echo</span> <span class="number">7</span>: %<span class="number">7</span></span><br><span class="line"><span class="built_in">echo</span> <span class="number">8</span>: %<span class="number">8</span></span><br><span class="line"><span class="built_in">echo</span> <span class="number">9</span>: %<span class="number">9</span></span><br><span class="line"><span class="built_in">echo</span> <span class="number">10</span>: %<span class="number">10</span></span><br></pre></td></tr></table></figure><p>运行结果:</p><figure class="highlight bat"><figcaption><span>result</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">paramters.bat</span> <span class="title">hello</span> 1 2 3 4 5 6 7 8 9</span></span><br><span class="line"><span class="function">0: <span class="title">paramters.bat</span></span></span><br><span class="line"><span class="function">1: <span class="title">hello</span></span></span><br><span class="line"><span class="function">2: 1</span></span><br><span class="line"><span class="function">3: 2</span></span><br><span class="line"><span class="function">4: 3</span></span><br><span class="line"><span class="function">5: 4</span></span><br><span class="line"><span class="function">6: 5</span></span><br><span class="line"><span class="function">7: 6</span></span><br><span class="line"><span class="function">8: 7</span></span><br><span class="line"><span class="function">9: 8</span></span><br><span class="line"><span class="function">10: <span class="title">hello0</span></span></span><br></pre></td></tr></table></figure><h1 id="参数编辑"><a href="#参数编辑" class="headerlink" title="参数编辑"></a>参数编辑</h1><p>可以在批处理参数中使用编辑符。编辑符使用当前的驱动器和目录信息将批处理参数作为部分或完整的文件或目录名进行扩展。要使用编辑符，请键入百分号 (%) 字符，后面是波形符号 (<del>) 字符，然后键入合适的编辑符（即 %</del>modifier）。<br>下表列出了可在扩展中使用的编辑符。</p><table><thead><tr><th align="center">modifier</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center">%~1</td><td align="center">扩展 %1 并删除任何外围引号 (“”)</td></tr><tr><td align="center">%~f1</td><td align="center">将 %1 扩展到完全合格的路径名</td></tr><tr><td align="center">%~d1</td><td align="center">将 %1 扩展到驱动器盘符</td></tr><tr><td align="center">%~p1</td><td align="center">将 %1 扩展到路径</td></tr><tr><td align="center">%~n1</td><td align="center">将 %1 扩展到文件名</td></tr><tr><td align="center">%~x1</td><td align="center">将 %1 扩展到文件扩展名</td></tr><tr><td align="center">%~s1</td><td align="center">扩展的路径仅包含短名称</td></tr><tr><td align="center">%~a1</td><td align="center">将 %1 扩展到文件属性</td></tr><tr><td align="center">%~t1</td><td align="center">将 %1 扩展到文件日期/时间</td></tr><tr><td align="center">%~z1</td><td align="center">将 %1 扩展到文件大小</td></tr><tr><td align="center">%~$PATH:1</td><td align="center">搜索 PATH 环境变量中列出的目录，并将 %1 扩展到第一个找到的目录的完全合格名称。如果没有定义环境变量名称，或没有找到文件，则此编辑符扩展成空字符串</td></tr></tbody></table><p>以上编辑符可以组合使用：</p><table><thead><tr><th align="center">modifier</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center">%~dp1</td><td align="center">将 %1 扩展到驱动器盘符和路径</td></tr><tr><td align="center">%~nx1</td><td align="center">将 %1 扩展到文件名和扩展名</td></tr><tr><td align="center">%~ftza1</td><td align="center">将 %1 扩展到类似 dir 的输出行</td></tr><tr><td align="center">%~dp$PATH:1</td><td align="center">在 PATH 环境变量列出的目录中搜索 %1，并扩展到第一个找到的目录的驱动器盘符和路径</td></tr></tbody></table><figure class="highlight bat"><figcaption><span>parameters.bat</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">echo</span> ~<span class="number">0</span> : %~<span class="number">0</span></span><br><span class="line"><span class="built_in">echo</span> ~f0: %~f0</span><br><span class="line"><span class="built_in">echo</span> ~d0: %~d0</span><br><span class="line"><span class="built_in">echo</span> ~p0: %~p0</span><br><span class="line"><span class="built_in">echo</span> ~n0: %~n0</span><br><span class="line"><span class="built_in">echo</span> ~x0: %~x0</span><br><span class="line"><span class="built_in">echo</span> ~s0: %~s0</span><br><span class="line"><span class="built_in">echo</span> ~a0: %~a0</span><br><span class="line"><span class="built_in">echo</span> ~t0: %~t0</span><br><span class="line"><span class="built_in">echo</span> ~z0: %~z0</span><br><span class="line"><span class="built_in">echo</span> ~PATH0: %~$<span class="built_in">PATH</span>:<span class="number">0</span></span><br><span class="line"><span class="built_in">echo</span> ~dp0: %~dp0</span><br><span class="line"><span class="built_in">echo</span> ~nx0: %~nx0</span><br><span class="line"><span class="built_in">echo</span> ~ftza0: %~ftza0</span><br></pre></td></tr></table></figure><figure class="highlight plain"><figcaption><span>result</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">~0 : paramters.bat</span><br><span class="line">~f0: D:\test\test\paramters.bat</span><br><span class="line">~d0: D:</span><br><span class="line">~p0: \test\test\</span><br><span class="line">~n0: paramters</span><br><span class="line">~x0: .bat</span><br><span class="line">~s0: D:\test\test\paramters.bat</span><br><span class="line">~a0: --a--------</span><br><span class="line">~t0: 2016&#x2F;04&#x2F;03 21:37</span><br><span class="line">~z0: 536</span><br><span class="line">~PATH0:</span><br><span class="line">~dp0: D:\test\test\</span><br><span class="line">~nx0: paramters.bat</span><br><span class="line">~ftza0: --a-------- 2016&#x2F;04&#x2F;03 21:37 536 D:\test\test\paramters.bat</span><br></pre></td></tr></table></figure><h1 id="支持超过9个参数"><a href="#支持超过9个参数" class="headerlink" title="支持超过9个参数"></a>支持超过9个参数</h1><p>SHIFT命令可以支持超过9个参数输入。</p><figure class="highlight bat"><figcaption><span>parameters_shift.bat</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">echo</span> <span class="number">0</span>: %<span class="number">0</span> </span><br><span class="line"><span class="built_in">echo</span> <span class="number">1</span>: %<span class="number">1</span> </span><br><span class="line"><span class="built_in">echo</span> <span class="number">2</span>: %<span class="number">2</span> </span><br><span class="line"><span class="built_in">echo</span> <span class="number">3</span>: %<span class="number">3</span></span><br><span class="line"><span class="built_in">echo</span> <span class="number">4</span>: %<span class="number">4</span></span><br><span class="line"><span class="built_in">echo</span> <span class="number">5</span>: %<span class="number">5</span></span><br><span class="line"><span class="built_in">echo</span> <span class="number">6</span>: %<span class="number">6</span></span><br><span class="line"><span class="built_in">echo</span> <span class="number">7</span>: %<span class="number">7</span></span><br><span class="line"><span class="built_in">echo</span> <span class="number">8</span>: %<span class="number">8</span></span><br><span class="line"><span class="built_in">echo</span> <span class="number">9</span>: %<span class="number">9</span></span><br><span class="line"><span class="built_in">echo</span> <span class="number">10</span>: %<span class="number">10</span></span><br><span class="line"><span class="built_in">shift</span></span><br><span class="line"><span class="built_in">echo</span> <span class="number">0</span>: %<span class="number">0</span></span><br><span class="line"><span class="built_in">echo</span> <span class="number">1</span>: %<span class="number">1</span> </span><br><span class="line"><span class="built_in">echo</span> <span class="number">2</span>: %<span class="number">2</span> </span><br><span class="line"><span class="built_in">echo</span> <span class="number">3</span>: %<span class="number">3</span></span><br><span class="line"><span class="built_in">echo</span> <span class="number">4</span>: %<span class="number">4</span></span><br><span class="line"><span class="built_in">echo</span> <span class="number">5</span>: %<span class="number">5</span></span><br><span class="line"><span class="built_in">echo</span> <span class="number">6</span>: %<span class="number">6</span></span><br><span class="line"><span class="built_in">echo</span> <span class="number">7</span>: %<span class="number">7</span></span><br><span class="line"><span class="built_in">echo</span> <span class="number">8</span>: %<span class="number">8</span></span><br><span class="line"><span class="built_in">echo</span> <span class="number">9</span>: %<span class="number">9</span></span><br><span class="line"><span class="built_in">echo</span> <span class="number">10</span>: %<span class="number">10</span></span><br></pre></td></tr></table></figure><p>运行结果:</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">D:\test\test&gt;parameters_shift.bat hello <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span></span><br><span class="line"><span class="number">0</span>: parameters_shift.bat</span><br><span class="line"><span class="number">1</span>: hello</span><br><span class="line"><span class="number">2</span>: <span class="number">1</span></span><br><span class="line"><span class="number">3</span>: <span class="number">2</span></span><br><span class="line"><span class="number">4</span>: <span class="number">3</span></span><br><span class="line"><span class="number">5</span>: <span class="number">4</span></span><br><span class="line"><span class="number">6</span>: <span class="number">5</span></span><br><span class="line"><span class="number">7</span>: <span class="number">6</span></span><br><span class="line"><span class="number">8</span>: <span class="number">7</span></span><br><span class="line"><span class="number">9</span>: <span class="number">8</span></span><br><span class="line"><span class="number">10</span>: hello0</span><br><span class="line"><span class="number">0</span>: hello</span><br><span class="line"><span class="number">1</span>: <span class="number">1</span></span><br><span class="line"><span class="number">2</span>: <span class="number">2</span></span><br><span class="line"><span class="number">3</span>: <span class="number">3</span></span><br><span class="line"><span class="number">4</span>: <span class="number">4</span></span><br><span class="line"><span class="number">5</span>: <span class="number">5</span></span><br><span class="line"><span class="number">6</span>: <span class="number">6</span></span><br><span class="line"><span class="number">7</span>: <span class="number">7</span></span><br><span class="line"><span class="number">8</span>: <span class="number">8</span></span><br><span class="line"><span class="number">9</span>: <span class="number">9</span></span><br><span class="line"><span class="number">10</span>: <span class="number">10</span></span><br></pre></td></tr></table></figure><h1 id="选择性替换"><a href="#选择性替换" class="headerlink" title="选择性替换"></a>选择性替换</h1><p>如果命令扩展被启用，SHIFT 命令支持/n 命令行开关；该命令行开关告诉<br>命令从第 n 个参数开始移位；n 介于零和八之间。例如:<br>SHIFT /2<br>会将 %3 移位到 %2，将 %4 移位到 %3，等等；并且不影响 %0 和 %1。</p><h1 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h1><p>拷贝任意个文件到指定文件夹</p><figure class="highlight bat"><figcaption><span>mycopy.bat</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off </span><br><span class="line"><span class="comment">rem MYCOPY.BAT copies any number of files</span></span><br><span class="line"><span class="comment">rem to a directory.</span></span><br><span class="line"><span class="comment">rem The command uses the following syntax:</span></span><br><span class="line"><span class="comment">rem mycopy dir file1 file2 ... </span></span><br><span class="line"><span class="built_in">set</span> todir=%<span class="number">1</span></span><br><span class="line">:getfile</span><br><span class="line"><span class="built_in">shift</span></span><br><span class="line"><span class="keyword">if</span> "%<span class="number">1</span>"=="" <span class="keyword">goto</span> end</span><br><span class="line"><span class="built_in">copy</span> %<span class="number">1</span> <span class="variable">%todir%</span></span><br><span class="line"><span class="keyword">goto</span> getfile</span><br><span class="line">:end</span><br><span class="line"><span class="built_in">set</span> todir=</span><br><span class="line"><span class="built_in">echo</span> All done</span><br></pre></td></tr></table></figure><p>Reference:</p><figure class="highlight plain"><figcaption><span>help SHIFT</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">更改批处理文件中可替换参数的位置。</span><br><span class="line"></span><br><span class="line">SHIFT [&#x2F;n]</span><br><span class="line"></span><br><span class="line">如果命令扩展被启用，SHIFT 命令支持&#x2F;n 命令行开关；该命令行开关告诉</span><br><span class="line">命令从第 n 个参数开始移位；n 介于零和八之间。例如:</span><br><span class="line"></span><br><span class="line">    SHIFT &#x2F;2</span><br><span class="line"></span><br><span class="line">会将 %3 移位到 %2，将 %4 移位到 %3，等等；并且不影响 %0 和 %1。</span><br></pre></td></tr></table></figure><p><a href="http://www.cnblogs.com/top5/archive/2011/06/24/2089183.html" target="_blank" rel="noopener">cmd批处理参数</a></p>]]></content>
      
      
      <categories>
          
          <category> windows cmd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmd </tag>
            
            <tag> shift </tag>
            
            <tag> parameter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows command(14):SET SETLOCAL ENDLOCAL</title>
      <link href="/2016/04/01/windows-cmd-14-set-setlocal-endlocal/"/>
      <url>/2016/04/01/windows-cmd-14-set-setlocal-endlocal/</url>
      
        <content type="html"><![CDATA[<img src="/2016/04/01/windows-cmd-14-set-setlocal-endlocal/set.png" class=""><p>变量设置命令，非常有用。</p><a id="more"></a><h1 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h1><p><code>set [[/a [expression]] [/p [variable=]] string]</code></p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">set</span> <span class="title">a</span>=1</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">echo</span> %<span class="title">a</span>%</span></span><br><span class="line"><span class="function">1</span></span><br></pre></td></tr></table></figure><h1 id="无参数"><a href="#无参数" class="headerlink" title="无参数"></a>无参数</h1><p><code>set</code>的执行结果是显示所有环境变量;如果跟字符串，会显示匹配字符串的环境变量。</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">D:\test\test&gt;<span class="builtin-name">set</span> win</span><br><span class="line"><span class="attribute">windir</span>=C:\WINDOWS</span><br></pre></td></tr></table></figure><h1 id="常规用法"><a href="#常规用法" class="headerlink" title="常规用法"></a>常规用法</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span>&gt;<span class="built_in">set</span> a=123</span><br><span class="line"></span><br><span class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span>&gt;<span class="built_in">echo</span> %a%</span><br><span class="line">123</span><br><span class="line">rem cancel var a</span><br><span class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span>&gt;<span class="built_in">set</span> a=</span><br><span class="line"></span><br><span class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span>&gt;<span class="built_in">echo</span> %a%</span><br><span class="line">%a%</span><br></pre></td></tr></table></figure><h1 id="参数-A"><a href="#参数-A" class="headerlink" title="参数/A"></a>参数/A</h1><p>/A 命令行开关指定等号右边的字符串为被评估的数字表达式。</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">set</span> /<span class="title">a</span> <span class="title">b</span>=1+%<span class="title">a</span>%</span></span><br><span class="line"><span class="function">2</span></span><br></pre></td></tr></table></figure><h1 id="参数-P"><a href="#参数-P" class="headerlink" title="参数/P"></a>参数/P</h1><p>/P 命令行开关允许将变量数值设成用户输入的一行输入。读取输入<br>行之前，显示指定的 promptString。promptString 可以是空的。</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">set</span> /<span class="title">p</span> <span class="title">c</span>=</span></span><br><span class="line"><span class="function">123</span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">echo</span> %<span class="title">c</span>%</span></span><br><span class="line"><span class="function">123</span></span><br></pre></td></tr></table></figure><h1 id="变量格式化"><a href="#变量格式化" class="headerlink" title="变量格式化"></a>变量格式化</h1><h2 id="替换-Replace"><a href="#替换-Replace" class="headerlink" title="替换 Replace"></a>替换 Replace</h2><p><code>%PATH:str1=str2%</code>会扩展 PATH 环境变量，用 “str2” 代替扩展结果中的每个 “str1”。要有效地从扩展结果中删除所有的 “str1”，”str2” 可以是空的。<br>“str1” 可以以星号打头；在这种情况下，”str1” 会从扩展结果的开始到 str1 剩余部分第一次出现的地方，都一直保持相配。</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">set</span> <span class="title">str</span>=<span class="title">hello_world</span></span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">echo</span> %<span class="title">str</span>:*<span class="title">o</span>=<span class="title">hi</span>%</span></span><br><span class="line"><span class="function"><span class="title">hi_world</span></span></span><br></pre></td></tr></table></figure><h2 id="子集-Subset"><a href="#子集-Subset" class="headerlink" title="子集 Subset"></a>子集 Subset</h2><p><code>%PATH:~10,5%</code>会扩展 PATH 环境变量，然后只使用在扩展结果中从第 11 个(偏移量 10)字符开始的五个字符。如果没有指定长度，则采用默认<br>值，即变量数值的余数。如果两个数字(偏移量和长度)都是负数，使用的数字则是环境变量数值长度加上指定的偏移量或长度。</p><p><code>%PATH:~-10%</code>会提取 PATH 变量的最后十个字符。<br><code>%PATH:~0,-2%</code>会提取 PATH 变量的所有字符，除了最后两个。</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">echo</span> %<span class="title">str</span>:~0,5%</span></span><br><span class="line"><span class="function"><span class="title">hello</span></span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">echo</span> %<span class="title">str</span>:~-2%</span></span><br><span class="line"><span class="function"><span class="title">ld</span></span></span><br></pre></td></tr></table></figure><h1 id="动态环境变量"><a href="#动态环境变量" class="headerlink" title="动态环境变量"></a>动态环境变量</h1><p>%CD% - 扩展到当前目录字符串。</p><p>%DATE% - 用跟 DATE 命令同样的格式扩展到当前日期。</p><p>%TIME% - 用跟 TIME 命令同样的格式扩展到当前时间。</p><p>%RANDOM% - 扩展到 0 和 32767 之间的任意十进制数字。</p><p>%ERRORLEVEL% - 扩展到当前 ERRORLEVEL 数值。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span>&gt;<span class="built_in">echo</span> %CD%</span><br><span class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span></span><br><span class="line"></span><br><span class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span>&gt;<span class="built_in">echo</span> %DATE%</span><br><span class="line">2016/04/19 周二</span><br><span class="line"></span><br><span class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span>&gt;<span class="built_in">echo</span> %DATE:~0,10%</span><br><span class="line">2016/04/19</span><br><span class="line"></span><br><span class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span>&gt;<span class="built_in">echo</span> %TIME%</span><br><span class="line">22:17:53.64</span><br><span class="line"></span><br><span class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span>&gt;<span class="built_in">echo</span> %RANDOM%</span><br><span class="line">21380</span><br><span class="line"></span><br><span class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span>&gt;<span class="built_in">echo</span> %RANDOM%</span><br><span class="line">9100</span><br><span class="line"></span><br><span class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span>&gt;<span class="built_in">echo</span> %RANDOM%</span><br><span class="line">26811</span><br><span class="line"></span><br><span class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span>&gt;<span class="built_in">echo</span> %RANDOM%</span><br><span class="line">10502</span><br></pre></td></tr></table></figure><h1 id="环境变量本地化修改SETLOCAL-ENDLOCAL"><a href="#环境变量本地化修改SETLOCAL-ENDLOCAL" class="headerlink" title="环境变量本地化修改SETLOCAL ENDLOCAL"></a>环境变量本地化修改SETLOCAL ENDLOCAL</h1><p>开始批处理文件中环境改动的本地化操作。在执行 SETLOCAL 之后所做的环境改动只限于批处理文件。要还原原先的设置，必须执行 ENDLOCAL。达到批处理文件结尾时，对于该批处理文件的每个尚未执行的 SETLOCAL 命令，都会有一个隐含的 ENDLOCAL 被执行。</p><p>一般在脚本文件开头加上SETLOCAL，结尾加上ENDLOCAL。</p><p>Reference:</p><figure class="highlight plain"><figcaption><span>help set</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line">显示、设置或删除 cmd.exe 环境变量。</span><br><span class="line"></span><br><span class="line">SET [variable&#x3D;[string]]</span><br><span class="line"></span><br><span class="line">  variable  指定环境变量名。</span><br><span class="line">  string    指定要指派给变量的一系列字符串。</span><br><span class="line"></span><br><span class="line">要显示当前环境变量，键入不带参数的 SET。</span><br><span class="line"></span><br><span class="line">如果命令扩展被启用，SET 会如下改变:</span><br><span class="line"></span><br><span class="line">可仅用一个变量激活 SET 命令，等号或值不显示所有前缀匹配</span><br><span class="line">SET 命令已使用的名称的所有变量的值。例如:</span><br><span class="line"></span><br><span class="line">    SET P</span><br><span class="line"></span><br><span class="line">会显示所有以字母 P 打头的变量</span><br><span class="line"></span><br><span class="line">如果在当前环境中找不到该变量名称，SET 命令将把 ERRORLEVEL</span><br><span class="line">设置成 1。</span><br><span class="line"></span><br><span class="line">SET 命令不允许变量名含有等号。</span><br><span class="line"></span><br><span class="line">在 SET 命令中添加了两个新命令行开关:</span><br><span class="line"></span><br><span class="line">    SET &#x2F;A expression</span><br><span class="line">    SET &#x2F;P variable&#x3D;[promptString]</span><br><span class="line"></span><br><span class="line">&#x2F;A 命令行开关指定等号右边的字符串为被评估的数字表达式。该表达式</span><br><span class="line">评估器很简单并以递减的优先权顺序支持下列操作:</span><br><span class="line"></span><br><span class="line">    ()                  - 分组</span><br><span class="line">    ! ~ -               - 一元运算符</span><br><span class="line">    * &#x2F; %               - 算数运算符</span><br><span class="line">    + -                 - 算数运算符</span><br><span class="line">    &lt;&lt; &gt;&gt;               - 逻辑移位</span><br><span class="line">    &amp;                   - 按位“与”</span><br><span class="line">    ^                   - 按位“异”</span><br><span class="line">    |                   - 按位“或”</span><br><span class="line">    &#x3D; *&#x3D; &#x2F;&#x3D; %&#x3D; +&#x3D; -&#x3D;    - 赋值</span><br><span class="line">      &amp;&#x3D; ^&#x3D; |&#x3D; &lt;&lt;&#x3D; &gt;&gt;&#x3D;</span><br><span class="line">    ,                   - 表达式分隔符</span><br><span class="line"></span><br><span class="line">如果你使用任何逻辑或取余操作符， 你需要将表达式字符串用</span><br><span class="line">引号扩起来。在表达式中的任何非数字字符串键作为环境变量</span><br><span class="line">名称，这些环境变量名称的值已在使用前转换成数字。如果指定</span><br><span class="line">了一个环境变量名称，但未在当前环境中定义，那么值将被定为</span><br><span class="line">零。这使你可以使用环境变量值做计算而不用键入那些 % 符号</span><br><span class="line">来得到它们的值。如果 SET &#x2F;A 在命令脚本外的命令行执行的，</span><br><span class="line">那么它显示该表达式的最后值。该分配的操作符在分配的操作符</span><br><span class="line">左边需要一个环境变量名称。除十六进制有 0x 前缀，八进制</span><br><span class="line">有 0 前缀的，数字值为十进位数字。因此，0x12 与 18 和 022</span><br><span class="line">相同。请注意八进制公式可能很容易搞混: 08 和 09 是无效的数字，</span><br><span class="line">因为 8 和 9 不是有效的八进制位数。(&amp; )</span><br><span class="line"></span><br><span class="line">&#x2F;P 命令行开关允许将变量数值设成用户输入的一行输入。读取输入</span><br><span class="line">行之前，显示指定的 promptString。promptString 可以是空的。</span><br><span class="line"></span><br><span class="line">环境变量替换已如下增强:</span><br><span class="line"></span><br><span class="line">    %PATH:str1&#x3D;str2%</span><br><span class="line"></span><br><span class="line">会扩展 PATH 环境变量，用 &quot;str2&quot; 代替扩展结果中的每个 &quot;str1&quot;。</span><br><span class="line">要有效地从扩展结果中删除所有的 &quot;str1&quot;，&quot;str2&quot; 可以是空的。</span><br><span class="line">&quot;str1&quot; 可以以星号打头；在这种情况下，&quot;str1&quot; 会从扩展结果的</span><br><span class="line">开始到 str1 剩余部分第一次出现的地方，都一直保持相配。</span><br><span class="line"></span><br><span class="line">也可以为扩展名指定子字符串。</span><br><span class="line"></span><br><span class="line">    %PATH:~10,5%</span><br><span class="line"></span><br><span class="line">会扩展 PATH 环境变量，然后只使用在扩展结果中从第 11 个(偏</span><br><span class="line">移量 10)字符开始的五个字符。如果没有指定长度，则采用默认</span><br><span class="line">值，即变量数值的余数。如果两个数字(偏移量和长度)都是负数，</span><br><span class="line">使用的数字则是环境变量数值长度加上指定的偏移量或长度。</span><br><span class="line"></span><br><span class="line">    %PATH:~-10%</span><br><span class="line"></span><br><span class="line">会提取 PATH 变量的最后十个字符。</span><br><span class="line"></span><br><span class="line">    %PATH:~0,-2%</span><br><span class="line"></span><br><span class="line">会提取 PATH 变量的所有字符，除了最后两个。</span><br><span class="line"></span><br><span class="line">终于添加了延迟环境变量扩充的支持。该支持总是按默认值被</span><br><span class="line">停用，但也可以通过 CMD.EXE 的 &#x2F;V 命令行开关而被启用&#x2F;停用。</span><br><span class="line">请参阅 CMD &#x2F;?</span><br><span class="line"></span><br><span class="line">考虑到读取一行文本时所遇到的目前扩充的限制时，延迟环境</span><br><span class="line">变量扩充是很有用的，而不是执行的时候。以下例子说明直接</span><br><span class="line">变量扩充的问题:</span><br><span class="line"></span><br><span class="line">    set VAR&#x3D;before</span><br><span class="line">    if &quot;%VAR%&quot; &#x3D;&#x3D; &quot;before&quot; (</span><br><span class="line">        set VAR&#x3D;after</span><br><span class="line">        if &quot;%VAR%&quot; &#x3D;&#x3D; &quot;after&quot; @echo If you see this, it worked</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">不会显示消息，因为在读到第一个 IF 语句时，BOTH IF 语句中</span><br><span class="line">的 %VAR% 会被代替；原因是: 它包含 IF 的文体，IF 是一个</span><br><span class="line">复合语句。所以，复合语句中的 IF 实际上是在比较 &quot;before&quot; 和</span><br><span class="line">&quot;after&quot;，这两者永远不会相等。同样，以下这个例子也不会达到</span><br><span class="line">预期效果:</span><br><span class="line"></span><br><span class="line">    set LIST&#x3D;</span><br><span class="line">    for %i in (*) do set LIST&#x3D;%LIST% %i</span><br><span class="line">    echo %LIST%</span><br><span class="line"></span><br><span class="line">原因是，它不会在目前的目录中建立一个文件列表，而只是将</span><br><span class="line">LIST 变量设成找到的最后一个文件。这也是因为 %LIST% 在</span><br><span class="line">FOR 语句被读取时，只被扩充了一次；而且，那时的 LIST 变量</span><br><span class="line">是空的。因此，我们真正执行的 FOR 循环是:</span><br><span class="line"></span><br><span class="line">    for %i in (*) do set LIST&#x3D; %i</span><br><span class="line"></span><br><span class="line">这个循环继续将 LIST 设成找到的最后一个文件。</span><br><span class="line"></span><br><span class="line">延迟环境变量扩充允许你使用一个不同的字符(惊叹号)在执行</span><br><span class="line">时间扩充环境变量。如果延迟的变量扩充被启用，可以将上面</span><br><span class="line">例子写成以下所示，以达到预期效果:</span><br><span class="line"></span><br><span class="line">    set VAR&#x3D;before</span><br><span class="line">    if &quot;%VAR%&quot; &#x3D;&#x3D; &quot;before&quot; (</span><br><span class="line">        set VAR&#x3D;after</span><br><span class="line">        if &quot;!VAR!&quot; &#x3D;&#x3D; &quot;after&quot; @echo If you see this, it worked</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    set LIST&#x3D;</span><br><span class="line">    for %i in (*) do set LIST&#x3D;!LIST! %i</span><br><span class="line">    echo %LIST%</span><br><span class="line"></span><br><span class="line">如果命令扩展被启用，有几个动态环境变量可以被扩展，但不会出现在 SET 显示的变</span><br><span class="line">量列表中。每次变量数值被扩展时，这些变量数值都会被动态计算。如果用户用这些</span><br><span class="line">名称中任何一个明确定义变量，那个定义会替代下面描述的动态定义:</span><br><span class="line"></span><br><span class="line">%CD% - 扩展到当前目录字符串。</span><br><span class="line"></span><br><span class="line">%DATE% - 用跟 DATE 命令同样的格式扩展到当前日期。</span><br><span class="line"></span><br><span class="line">%TIME% - 用跟 TIME 命令同样的格式扩展到当前时间。</span><br><span class="line"></span><br><span class="line">%RANDOM% - 扩展到 0 和 32767 之间的任意十进制数字。</span><br><span class="line"></span><br><span class="line">%ERRORLEVEL% - 扩展到当前 ERRORLEVEL 数值。</span><br><span class="line"></span><br><span class="line">%CMDEXTVERSION% - 扩展到当前命令处理器扩展版本号。</span><br><span class="line"></span><br><span class="line">%CMDCMDLINE% - 扩展到调用命令处理器的原始命令行。</span><br><span class="line"></span><br><span class="line">%HIGHESTNUMANODENUMBER% - 扩展到此计算机上的最高 NUMA 节点号。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><figcaption><span>help setlocal</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">开始批处理文件中环境改动的本地化操作。在执行 SETLOCAL 之后</span><br><span class="line">所做的环境改动只限于批处理文件。要还原原先的设置，必须执</span><br><span class="line">行 ENDLOCAL。达到批处理文件结尾时，对于该批处理文件的每个</span><br><span class="line">尚未执行的 SETLOCAL 命令，都会有一个隐含的 ENDLOCAL 被执行。</span><br><span class="line"></span><br><span class="line">SETLOCAL</span><br><span class="line"></span><br><span class="line">如果启用命令扩展，则 SETLOCAL 更改如下:</span><br><span class="line"></span><br><span class="line">SETLOCAL 批命令现在可以接受可选参数:</span><br><span class="line">        ENABLEEXTENSIONS &#x2F; DISABLEEXTENSIONS</span><br><span class="line">            启用或禁用命令处理器扩展。这些</span><br><span class="line">            参数比 CMD &#x2F;E:ON 或 &#x2F;E:OFF</span><br><span class="line">            开关有优先权。请参阅 CMD &#x2F;? 获取详细信息。</span><br><span class="line">        ENABLEDELAYEDEXPANSION &#x2F; DISABLEDELAYEDEXPANSION</span><br><span class="line">            启用或禁用延缓环境变量</span><br><span class="line">            扩展。这些参数比 CMD</span><br><span class="line">            &#x2F;V:ON 或 &#x2F;V:OFF 开关有优先权。请参阅 CMD &#x2F;? 获取详细信息。</span><br><span class="line">无论在 SETLOCAL 命令之前的设置是什么，这些修改会一直</span><br><span class="line">生效，直到出现相应的 ENDLOCAL 命令。</span><br><span class="line"></span><br><span class="line">在给定参数的情况下，</span><br><span class="line">SETLOCAL 命令将设置 ERRORLEVEL 值。如果给定两个有效参数中的一个，另一个未给定，</span><br><span class="line">则该值为零。</span><br><span class="line">通过以下方法，你可以在批脚本中</span><br><span class="line">使用此项来确定扩展是否可用:</span><br><span class="line"></span><br><span class="line">    VERIFY OTHER 2&gt;nul</span><br><span class="line">    SETLOCAL ENABLEEXTENSIONS</span><br><span class="line">    IF ERRORLEVEL 1 echo Unable to enable extensions</span><br><span class="line"></span><br><span class="line">此方法之所以有效，是因为在 CMD.EXE 的旧版本上，SETLOCAL</span><br><span class="line">不设置 ERRORLEVEL 值。如果参数不正确，VERIFY 命令会将</span><br><span class="line">ERRORLEVEL 值初始化为非零值。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><figcaption><span>help endlocal</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">结束批处理文件中环境改动的本地化操作。在执行ENDLOCAL 之后</span><br><span class="line">所做的环境改动不再仅限于批处理文件。批处理文件结束后，</span><br><span class="line">原先的设置无法还原。</span><br><span class="line"></span><br><span class="line">ENDLOCAL</span><br><span class="line"></span><br><span class="line">如果命令扩展被启用，ENDLOCAL 会如下改变:</span><br><span class="line"></span><br><span class="line">如果相应的 SETLOCAL 用新的 ENABLEEXTENSIONS 或</span><br><span class="line">DISABLEEXTENSIONS 选项启用或停用了命令扩展，那么，在</span><br><span class="line">ENDLOCAL 之后，命令扩展的启用&#x2F;停用状态会还原到执行</span><br><span class="line">相应的 SETLOCAL 命令前的状态。</span><br></pre></td></tr></table></figure><p><a href="https://technet.microsoft.com/en-us/library/bb490998.aspx" target="_blank" rel="noopener">set in MS doc</a></p>]]></content>
      
      
      <categories>
          
          <category> windows cmd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmd </tag>
            
            <tag> set </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows command(13):GOTO :label</title>
      <link href="/2016/04/01/windows-cmd-13-goto/"/>
      <url>/2016/04/01/windows-cmd-13-goto/</url>
      
        <content type="html"><![CDATA[<img src="/2016/04/01/windows-cmd-13-goto/goto.png" class=""><p>goto命令，跳转命令。</p><a id="more"></a><h1 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h1><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">goto label</span></span><br><span class="line"><span class="function"><span class="title">rem</span> <span class="title">some</span> <span class="title">cmd</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">:<span class="title">label</span></span></span><br><span class="line"><span class="function"><span class="title">rem</span> <span class="title">cmd</span> <span class="title">of</span> <span class="title">lable</span></span></span><br></pre></td></tr></table></figure><p>跳转到标签行，并继续执行之后的语句。标签必须以<code>:</code>开头作为标签的指示。<br>标签名只可以使用常量，而不能使用变量。</p><h1 id="条件-if或switch-case"><a href="#条件-if或switch-case" class="headerlink" title="条件 if或switch/case"></a>条件 if或switch/case</h1><figure class="highlight bat"><figcaption><span>condition using goto</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> /p a=choose:</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> "<span class="variable">%a%</span>" == "A" <span class="keyword">goto</span> CaseA</span><br><span class="line"><span class="keyword">if</span> "<span class="variable">%a%</span>" == "B" <span class="keyword">goto</span> CaseB</span><br><span class="line"><span class="keyword">if</span> "<span class="variable">%a%</span>" == "C" <span class="keyword">goto</span> CaseC</span><br><span class="line"><span class="keyword">goto</span> default</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">:CaseA</span><br><span class="line"><span class="built_in">echo</span> "execute A"</span><br><span class="line"><span class="built_in">echo</span> a=<span class="variable">%a%</span></span><br><span class="line"><span class="keyword">goto</span> end</span><br><span class="line"></span><br><span class="line">:CaseB</span><br><span class="line"><span class="built_in">echo</span> "execute B"</span><br><span class="line"><span class="keyword">goto</span> end</span><br><span class="line"></span><br><span class="line">:CaseC</span><br><span class="line"><span class="built_in">echo</span> "execute C"</span><br><span class="line"><span class="keyword">goto</span> end</span><br><span class="line"></span><br><span class="line">:default</span><br><span class="line"><span class="built_in">echo</span> "nothing execute"</span><br><span class="line">:end</span><br></pre></td></tr></table></figure><p>注意<code>:CaseA</code>之后，如果不加<code>goto end</code>则会继续执行<code>:CaseB</code>之后的语句。</p><h1 id="循环-Loop"><a href="#循环-Loop" class="headerlink" title="循环 Loop"></a>循环 Loop</h1><figure class="highlight bat"><figcaption><span>loop using goto cmd</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">set</span> index=<span class="number">0</span></span><br><span class="line"><span class="built_in">set</span> max=<span class="number">5</span></span><br><span class="line">:loop</span><br><span class="line"><span class="built_in">set</span> /a index+=<span class="number">1</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">%index%</span></span><br><span class="line"><span class="keyword">if</span> <span class="variable">%index%</span> <span class="keyword">neq</span> <span class="variable">%max%</span> <span class="keyword">goto</span> loop</span><br></pre></td></tr></table></figure><p>相当于</p><figure class="highlight bat"><figcaption><span>loop using for</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> init=<span class="number">0</span></span><br><span class="line"><span class="built_in">set</span> step=<span class="number">1</span></span><br><span class="line"><span class="built_in">set</span> max=<span class="number">5</span></span><br><span class="line"><span class="keyword">for</span> /L <span class="variable">%%i</span> <span class="keyword">in</span> (<span class="variable">%init%</span>,<span class="variable">%step%</span>,<span class="variable">%max%</span>) <span class="keyword">do</span> <span class="built_in">echo</span> <span class="variable">%%i</span></span><br></pre></td></tr></table></figure><p>不过使用goto更加灵活，理论上for能实现的循环goto都能实现。</p><figure class="highlight bat"><figcaption><span>dead loop</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:loop</span><br><span class="line"><span class="built_in">dir</span></span><br><span class="line"><span class="keyword">goto</span> loop</span><br></pre></td></tr></table></figure><h1 id="goto-EOF"><a href="#goto-EOF" class="headerlink" title="goto :EOF"></a>goto :EOF</h1><p>直接跳转到文件结尾。</p><p>Reference:</p><figure class="highlight plain"><figcaption><span>help goto</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">将 cmd.exe 定向到批处理程序中带标签的行。</span><br><span class="line"></span><br><span class="line">GOTO label</span><br><span class="line"></span><br><span class="line">  label   指定批处理程序中用作标签的文字字符串。</span><br><span class="line"></span><br><span class="line">标签必须单独一行，并且以冒号打头。</span><br><span class="line"></span><br><span class="line">如果命令扩展被启用，GOTO 会如下改变:</span><br><span class="line"></span><br><span class="line">GOTO 命令现在接受目标标签 :EOF，这个标签将控制转移到当前</span><br><span class="line">批脚本文件的结尾。不定义就退出批脚本文件，这是一个容易的</span><br><span class="line">办法。有关能使该功能有用的 CALL 命令的扩展描述，请键入</span><br><span class="line">CALL &#x2F;?。</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> windows cmd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmd </tag>
            
            <tag> goto </tag>
            
            <tag> label </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows command(12):FOR</title>
      <link href="/2016/04/01/windows-cmd-12-for/"/>
      <url>/2016/04/01/windows-cmd-12-for/</url>
      
        <content type="html"><![CDATA[<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=33162226&auto=0&height=66"></iframe>戴荃-悟空<p>FOR语句，循环控制，可以解析文件，大杀器。</p><a id="more"></a><h1 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> &#123;%% | %&#125;variable <span class="keyword">in</span> (<span class="built_in">set</span>) <span class="keyword">do</span> <span class="built_in">command</span> [ CommandLineOptions]</span><br></pre></td></tr></table></figure><p>其中，<br><code>%variable</code>或<code>%%variable</code>必须，<code>%variable</code>用来表示从命令提示符传递过来的参数，<code>%%variable</code>表示bat脚本自身的参数，参数大小写敏感。<br><code>(set)</code>必须，指定一个或多个文件、文件夹、一定范围的数值、字符串，可使用通配符，括号不可少。<br><code>command</code>必须，指定对<code>(set)</code>集合中每一个元素执行的命令。<br><code>CommandLineOptions</code>可选，主要有<code>/D</code>-目录,<code>/R</code>-递归目录,<code>/L</code>-数值,<code>/F</code>-过滤。</p><h1 id="无参数"><a href="#无参数" class="headerlink" title="无参数"></a>无参数</h1><p><code>for %%f in (*.doc *.txt) do type %%f</code><br>当前目录中的.doc或者.txt文件，依次代替<code>%%f</code>的位置，然后作为<code>type</code>命令的参数执行。</p><p><code>for %%f in (*.txt) do @echo %%f</code><br>效果类似于<code>dir /B *.txt</code>。</p><h1 id="参数-D-目录"><a href="#参数-D-目录" class="headerlink" title="参数/D 目录"></a>参数/D 目录</h1><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FOR</span> /D <span class="comment">&#123;%% | %&#125;</span>variable <span class="keyword">IN</span> (<span class="keyword">set</span>) <span class="keyword">DO</span> command [command-parameters]</span><br></pre></td></tr></table></figure><p>只能匹配当前目录，不匹配任何文件，也不会匹配下一级目录。<br><code>for %%f in (D:\*) do @echo %%f</code>    - D盘下所有的文件<br><code>for /D %%f in (D:\*) do @echo %%f</code> - D盘下所有的目录<br><code>for /D %%i in (???) do echo %%i</code>   - 显示当前目录下名字只有1-3个字母的目录</p><h1 id="参数-R-递归目录"><a href="#参数-R-递归目录" class="headerlink" title="参数/R 递归目录"></a>参数/R 递归目录</h1><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FOR</span> /R [[drive:]<span class="built_in">path</span>] &#123;%% | %&#125;variable <span class="keyword">IN</span> (<span class="built_in">set</span>) <span class="keyword">DO</span> command [command-parameters]</span><br></pre></td></tr></table></figure><p>此命令会搜索指定路径<code>[[drive:]path]</code>及所有子目录中与set相符合的所有文件，注意是指定路径及所有子目录。</p><ul><li>set中的文件名如果含有通配符(?或*)，则列举/R参数指定的目录及其下面的所用子目录中与set相符合的所有文件，无相符文件的目录则不列举。</li><li>如果set中为具体文件名，不含通配符，则枚举该目录树（即列举该目录及其下面的所有子目录）,并在每个目录后面加上具体的文件名，而不管set中的指定文件是否存在。<br><code>for /r c:\ %%i in (*.exe) do echo %%i</code>                 - 把C盘根目录,和每个目录的子目录下面全部的EXE文件都列出来了<br><code>for /r c:\ %%i in (boot.ini) do echo %%i</code>              - 枚举了c盘所有目录,并在目录后面加上boot.ini,不管是否存在该文件<br><code>for /r c:\ %%i in (boot.ini) do if exist %%i echo %%i</code> - 很好的搜索命令，列举boot.ini存在的目录</li></ul><h1 id="参数-L-数列"><a href="#参数-L-数列" class="headerlink" title="参数/L 数列"></a>参数/L 数列</h1><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FOR</span> /L <span class="comment">&#123;%% | %&#125;</span>ariable <span class="keyword">IN</span> (start#,<span class="keyword">step</span>#,<span class="keyword">end</span>#) <span class="keyword">DO</span> command [command-parameters]</span><br></pre></td></tr></table></figure><p>该集表示以增量形式从开始到结束的一个数字序列。因此，(1,1,5)将产生序列1 2 3 4 5，(5,-1,1)将产生序列(5 4 3 2 1).<br><code>for /l %%i in (1,2,10) do @echo %%i</code>    - 输出1 3 5 7 9<br><code>for /l %%i in (100,-20,1) do @echo %%i</code> - 输出100,80,60,40,20<br><code>for /l %%i in (1,1,5) do start cmd</code>     - 打开5个CMD窗口<br><code>for /l %%i in (1,1,5) do md %%i</code>        - 建立从1<del>5共5个文件夹<br><code>for /l %%i in (1,1,5) do rd /q %%i</code>     - 删除从1</del>5共5个文件夹</p><h1 id="参数-F-迭代文件解析"><a href="#参数-F-迭代文件解析" class="headerlink" title="参数/F 迭代文件解析"></a>参数/F 迭代文件解析</h1><p>Use file parsing to process command output, strings and file content. Use iterative variables to define the content or strings you want to examine and use the various ParsingKeywords options to further modify the parsing. Use the ParsingKeywords token option to specify which tokens should be passed as iterator variables. Note that when used without the token option, /F will only examine the first token.<br>File parsing consists of reading the output, string or file content, <code>breaking it up into individual lines of text and then parsing each line into zero or more tokens</code>. The for loop is then called with the iterator variable value set to the token. By default, /F passes the first blank separated token from each line of each file. Blank lines are skipped. The different syntaxes are:</p><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> /F [<span class="string">"ParsingKeywords"</span>] &#123;%% | %&#125;variable <span class="keyword">in</span> (filenameset) <span class="keyword">do</span> command [CommandLineOptions]</span><br><span class="line"><span class="keyword">for</span> /F [<span class="string">"ParsingKeywords"</span>] &#123;%% | %&#125;variable <span class="keyword">in</span> (<span class="string">"LiteralString"</span>) <span class="keyword">do</span> command [CommandLineOptions]</span><br><span class="line"><span class="keyword">for</span> /F [<span class="string">"ParsingKeywords"</span>] &#123;%% | %&#125;variable <span class="keyword">in</span> (<span class="string">'command'</span>) <span class="keyword">do</span> command [CommandLineOptions]</span><br></pre></td></tr></table></figure><p>The filenameset argument specifies one or more file names. Each file is opened, read and processed before going on to the next file in filenameset. To override the default parsing behavior, specify “ParsingKeywords”. This is a quoted string that contains one or more keywords to specify different parsing options.<br>If you use the usebackq option, use one of the following syntaxes:</p><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> /F [<span class="string">"usebackqParsingKeywords"</span>] &#123;%% | %&#125;variable <span class="keyword">in</span> (<span class="string">"filenameset"</span>) <span class="keyword">do</span> command [CommandLineOptions]</span><br><span class="line"><span class="keyword">for</span> /F [<span class="string">"usebackqParsingKeywords"</span>] &#123;%% | %&#125;variable <span class="keyword">in</span> (<span class="string">'LiteralString'</span>) <span class="keyword">do</span> command [CommandLineOptions]</span><br><span class="line"><span class="keyword">for</span> /F [<span class="string">"usebackqParsingKeywords"</span>] &#123;%% | %&#125;variable <span class="keyword">in</span> (<span class="string">`command`</span>) <span class="keyword">do</span> command [CommandLineOptions]</span><br></pre></td></tr></table></figure><p>when using <code>usebackq</code> option, be careful about the difference:<br><code>filenameset</code>     -&gt; <code>&quot;filenameset&quot;</code><br><code>&quot;LiteralString&quot;</code> -&gt; <code>&#39;LiteralString&#39;</code><br><code>&#39;command&#39;</code>       -&gt; `command`</p><p>The following table lists the parsing keywords that you can use for ParsingKeywords.<br>eol=c           - 指一个行注释字符的结尾(就一个)<br>skip=n          - 指在文件开始时忽略的行数。<br>delims=xxx      - 指分隔符集。这个替换了空格和制表符的默认分隔符集。<br>tokens=x,y,m-n  - 指每行的哪一个符号被传递到每个迭代的 for 本身。这会导致额外变量名称的分配。m-n<br>                  格式为一个范围。通过 nth 符号指定 mth。如果符号字符串中的最后一个字符星号，那么额外的变量将在最后一个符号解析之后<br>                  分配并接受行的保留文本。<br>usebackq        - 指定新语法已在下类情况中使用:<br>                  在作为命令执行一个后引号的字符串并且一个单引号字符为文字字符串命令并允许在 file-set<br>                  中使用双引号扩起文件名称。<br>如<code>eol=;</code>表示忽略<code>;</code>开头的行；<br>  <code>skip=1</code>表示忽略第一行；<br>  <code>delims=,</code>表示用<code>,</code>或<code></code>对字符串分隔；<br>  <code>tokens=2,3*</code>将每行中的第二个和第三个符号传递给 for 程序体</p><figure class="highlight bat"><figcaption><span>%k takes the left content of string</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> /F "eol=; tokens=<span class="number">2</span>,<span class="number">3</span>* delims=, " <span class="variable">%%i</span> <span class="keyword">in</span> ("A1,A2,A3,A4,A5") <span class="keyword">do</span> <span class="built_in">echo</span> <span class="variable">%%i</span> <span class="variable">%%j</span> <span class="variable">%%k</span></span><br><span class="line">A2 A3 A4,A5</span><br></pre></td></tr></table></figure><figure class="highlight bat"><figcaption><span>command</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FOR</span> /F "tokens=<span class="number">1</span>* delims==" <span class="variable">%%i</span> <span class="keyword">IN</span> ('<span class="built_in">set</span>') <span class="keyword">DO</span> @<span class="built_in">echo</span> [<span class="variable">%%i</span>----<span class="variable">%%j</span>]</span><br><span class="line">[OS----Windows_NT]</span><br></pre></td></tr></table></figure><figure class="highlight bat"><figcaption><span>command with substitude</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> /F "usebackq delims==" <span class="variable">%%x</span> <span class="keyword">in</span> (`<span class="built_in">dir</span> /b`) <span class="keyword">do</span> @<span class="built_in">echo</span> <span class="variable">%%~</span>fx</span><br></pre></td></tr></table></figure><p>Reference:</p><figure class="highlight plain"><figcaption><span>help FOR</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line">对一组文件中的每一个文件执行某个特定命令。</span><br><span class="line"></span><br><span class="line">FOR %variable IN (set) DO command [command-parameters]</span><br><span class="line"></span><br><span class="line">  %variable  指定一个单一字母可替换的参数。</span><br><span class="line">  (set)      指定一个或一组文件。可以使用通配符。</span><br><span class="line">  command    指定对每个文件执行的命令。</span><br><span class="line">  command-parameters</span><br><span class="line">             为特定命令指定参数或命令行开关。</span><br><span class="line"></span><br><span class="line">在批处理程序中使用 FOR 命令时，指定变量请使用 %%variable</span><br><span class="line">而不要用 %variable。变量名称是区分大小写的，所以 %i 不同于 %I.</span><br><span class="line"></span><br><span class="line">如果启用命令扩展，则会支持下列 FOR 命令的其他格式:</span><br><span class="line"></span><br><span class="line">FOR &#x2F;D %variable IN (set) DO command [command-parameters]</span><br><span class="line"></span><br><span class="line">    如果集中包含通配符，则指定与目录名匹配，而不与文件名匹配。</span><br><span class="line"></span><br><span class="line">FOR &#x2F;R [[drive:]path] %variable IN (set) DO command [command-parameters]</span><br><span class="line"></span><br><span class="line">    检查以 [drive:]path 为根的目录树，指向每个目录中的 FOR 语句。</span><br><span class="line">    如果在 &#x2F;R 后没有指定目录规范，则使用当前目录。如果集仅为一个单点(.)字符，</span><br><span class="line">    则枚举该目录树。</span><br><span class="line"></span><br><span class="line">FOR &#x2F;L %variable IN (start,step,end) DO command [command-parameters]</span><br><span class="line"></span><br><span class="line">    该集表示以增量形式从开始到结束的一个数字序列。因此，(1,1,5)将产生序列</span><br><span class="line">    1 2 3 4 5，(5,-1,1)将产生序列(5 4 3 2 1)</span><br><span class="line"></span><br><span class="line">FOR &#x2F;F [&quot;options&quot;] %variable IN (file-set) DO command [command-parameters]</span><br><span class="line">FOR &#x2F;F [&quot;options&quot;] %variable IN (&quot;string&quot;) DO command [command-parameters]</span><br><span class="line">FOR &#x2F;F [&quot;options&quot;] %variable IN (&#39;command&#39;) DO command [command-parameters]</span><br><span class="line"></span><br><span class="line">    或者，如果有 usebackq 选项:</span><br><span class="line"></span><br><span class="line">FOR &#x2F;F [&quot;usebackqoptions&quot;] %variable IN (&quot;file-set&quot;) DO command [command-parameters]</span><br><span class="line">FOR &#x2F;F [&quot;usebackqoptions&quot;] %variable IN (&#39;string&#39;) DO command [command-parameters]</span><br><span class="line">FOR &#x2F;F [&quot;usebackqoptions&quot;] %variable IN (&#96;command&#96;) DO command [command-parameters]</span><br><span class="line"></span><br><span class="line">    fileset 为一个或多个文件名。继续到 fileset 中的下一个文件之前，</span><br><span class="line">    每份文件都被打开、读取并经过处理。处理包括读取文件，将其分成一行行的文字，</span><br><span class="line">    然后将每行解析成零或更多的符号。然后用已找到的符号字符串变量值调用 For 循环 。</span><br><span class="line">    以默认方式，&#x2F;F 通过每个文件的每一行中分开的第一个空白符号。跳过空白行。</span><br><span class="line">    你可通过指定可选 &quot;options&quot; 参数替代默认解析操作。这个带引号的字符串包括一个</span><br><span class="line">    或多个指定不同解析选项的关键字。这些关键字为:</span><br><span class="line"></span><br><span class="line">        eol&#x3D;c           - 指一个行注释字符的结尾(就一个)</span><br><span class="line">        skip&#x3D;n          - 指在文件开始时忽略的行数。</span><br><span class="line">        delims&#x3D;xxx      - 指分隔符集。这个替换了空格和制表符的</span><br><span class="line">                          默认分隔符集。</span><br><span class="line">        tokens&#x3D;x,y,m-n  - 指每行的哪一个符号被传递到每个迭代</span><br><span class="line">                          的 for 本身。这会导致额外变量名称的分配。m-n</span><br><span class="line">                          格式为一个范围。通过 nth 符号指定 mth。如果</span><br><span class="line">                          符号字符串中的最后一个字符星号，</span><br><span class="line">                          那么额外的变量将在最后一个符号解析之后</span><br><span class="line">                          分配并接受行的保留文本。</span><br><span class="line">        usebackq        - 指定新语法已在下类情况中使用:</span><br><span class="line">                          在作为命令执行一个后引号的字符串并且一个单</span><br><span class="line">                          引号字符为文字字符串命令并允许在 file-set</span><br><span class="line">                          中使用双引号扩起文件名称。</span><br><span class="line"></span><br><span class="line">    某些范例可能有助:</span><br><span class="line"></span><br><span class="line">FOR &#x2F;F &quot;eol&#x3D;; tokens&#x3D;2,3* delims&#x3D;, &quot; %i in (myfile.txt) do @echo %i %j %k</span><br><span class="line"></span><br><span class="line">    会分析 myfile.txt 中的每一行，忽略以分号打头的那些行，将</span><br><span class="line">    每行中的第二个和第三个符号传递给 for 函数体，用逗号和&#x2F;或</span><br><span class="line">    空格分隔符号。请注意，此 for 函数体的语句引用 %i 来</span><br><span class="line">    获得第二个符号，引用 %j 来获得第三个符号，引用 %k</span><br><span class="line">    来获得第三个符号后的所有剩余符号。对于带有空格的文件</span><br><span class="line">    名，你需要用双引号将文件名括起来。为了用这种方式来使</span><br><span class="line">    用双引号，还需要使用 usebackq 选项，否则，双引号会</span><br><span class="line">    被理解成是用作定义某个要分析的字符串的。</span><br><span class="line"></span><br><span class="line">    %i 在 for 语句中显式声明，%j 和 %k 是通过</span><br><span class="line">    tokens&#x3D; 选项隐式声明的。可以通过 tokens&#x3D; 一行</span><br><span class="line">    指定最多 26 个符号，只要不试图声明一个高于字母 &quot;z&quot; 或</span><br><span class="line">    &quot;Z&quot; 的变量。请记住，FOR 变量是单一字母、分大小写和全局的变量；</span><br><span class="line">    而且，不能同时使用超过 52 个。</span><br><span class="line"></span><br><span class="line">    还可以在相邻字符串上使用 FOR &#x2F;F 分析逻辑，方法是，</span><br><span class="line">    用单引号将括号之间的 file-set 括起来。这样，该字符</span><br><span class="line">    串会被当作一个文件中的一个单一输入行进行解析。</span><br><span class="line"></span><br><span class="line">    最后，可以用 FOR &#x2F;F 命令来分析命令的输出。方法是，将</span><br><span class="line">    括号之间的 file-set 变成一个反括字符串。该字符串会</span><br><span class="line">    被当作命令行，传递到一个子 CMD.EXE，其输出会被捕获到</span><br><span class="line">    内存中，并被当作文件分析。如以下例子所示:</span><br><span class="line"></span><br><span class="line">      FOR &#x2F;F &quot;usebackq delims&#x3D;&#x3D;&quot; %i IN (&#96;set&#96;) DO @echo %i</span><br><span class="line"></span><br><span class="line">    会枚举当前环境中的环境变量名称。</span><br><span class="line"></span><br><span class="line">另外，FOR 变量参照的替换已被增强。你现在可以使用下列</span><br><span class="line">选项语法:</span><br><span class="line"></span><br><span class="line">     %~I          - 删除任何引号(&quot;)，扩展 %I</span><br><span class="line">     %~fI        - 将 %I 扩展到一个完全合格的路径名</span><br><span class="line">     %~dI        - 仅将 %I 扩展到一个驱动器号</span><br><span class="line">     %~pI        - 仅将 %I 扩展到一个路径</span><br><span class="line">     %~nI        - 仅将 %I 扩展到一个文件名</span><br><span class="line">     %~xI        - 仅将 %I 扩展到一个文件扩展名</span><br><span class="line">     %~sI        - 扩展的路径只含有短名</span><br><span class="line">     %~aI        - 将 %I 扩展到文件的文件属性</span><br><span class="line">     %~tI        - 将 %I 扩展到文件的日期&#x2F;时间</span><br><span class="line">     %~zI        - 将 %I 扩展到文件的大小</span><br><span class="line">     %~$PATH:I   - 查找列在路径环境变量的目录，并将 %I 扩展</span><br><span class="line">                   到找到的第一个完全合格的名称。如果环境变量名</span><br><span class="line">                   未被定义，或者没有找到文件，此组合键会扩展到</span><br><span class="line">                   空字符串</span><br><span class="line"></span><br><span class="line">可以组合修饰符来得到多重结果:</span><br><span class="line"></span><br><span class="line">     %~dpI       - 仅将 %I 扩展到一个驱动器号和路径</span><br><span class="line">     %~nxI       - 仅将 %I 扩展到一个文件名和扩展名</span><br><span class="line">     %~fsI       - 仅将 %I 扩展到一个带有短名的完整路径名</span><br><span class="line">     %~dp$PATH:I - 搜索列在路径环境变量的目录，并将 %I 扩展</span><br><span class="line">                   到找到的第一个驱动器号和路径。</span><br><span class="line">     %~ftzaI     - 将 %I 扩展到类似输出线路的 DIR</span><br><span class="line"></span><br><span class="line">在以上例子中，%I 和 PATH 可用其他有效数值代替。%~ 语法</span><br><span class="line">用一个有效的 FOR 变量名终止。选取类似 %I 的大写变量名</span><br><span class="line">比较易读，而且避免与不分大小写的组合键混淆。</span><br></pre></td></tr></table></figure><p><a href="https://technet.microsoft.com/en-us/library/bb490909.aspx" target="_blank" rel="noopener">for in MS doc</a><br><a href="http://blog.csdn.net/xhhjin/article/details/7373524" target="_blank" rel="noopener">CMD批处理循环，太强大了</a></p>]]></content>
      
      
      <categories>
          
          <category> windows cmd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmd </tag>
            
            <tag> for </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows command(11):IF ELSE</title>
      <link href="/2016/04/01/windows-cmd-11-if-else/"/>
      <url>/2016/04/01/windows-cmd-11-if-else/</url>
      
        <content type="html"><![CDATA[<p>IF条件控制，脚本中控制流常用。</p><a id="more"></a><h1 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h1><figure class="highlight bat"><figcaption><span>w/o else</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> condition command</span><br></pre></td></tr></table></figure><figure class="highlight bat"><figcaption><span>w/ else</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> condition (command) <span class="keyword">else</span> (command)</span><br></pre></td></tr></table></figure><p>注意:<code>else与(之间必须要有空格</code>。<br>examples:</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">exist</span> for1.bat <span class="built_in">echo</span> for1.bat <span class="keyword">exist</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">exist</span> for1.bat (<span class="built_in">echo</span> for1.bat <span class="keyword">exist</span>)<span class="keyword">else</span> (<span class="built_in">echo</span> for1.bat <span class="keyword">not</span> <span class="keyword">exist</span>)</span><br></pre></td></tr></table></figure><h1 id="字符串比较"><a href="#字符串比较" class="headerlink" title="字符串比较"></a>字符串比较</h1><p><code>if hello == hello (echo euqal) else (echo not equal)</code></p><h1 id="数字比较"><a href="#数字比较" class="headerlink" title="数字比较"></a>数字比较</h1><p><code>if 1 equ 2 (echo euqal) else (echo not equal)</code></p><h1 id="文件或者目录是否存在"><a href="#文件或者目录是否存在" class="headerlink" title="文件或者目录是否存在"></a>文件或者目录是否存在</h1><p><code>if exist hi.txt echo hi.txt exist</code></p><h1 id="变量是否已定义"><a href="#变量是否已定义" class="headerlink" title="变量是否已定义"></a>变量是否已定义</h1><p><code>if defined x (echo defined) else (echo not defined)</code></p><h1 id="上个命令的返回值"><a href="#上个命令的返回值" class="headerlink" title="上个命令的返回值"></a>上个命令的返回值</h1><p><code>if %errorlevel% equ 0 (echo OK) else (echo NOK)</code></p><p>Reference:</p><figure class="highlight plain"><figcaption><span>help IF</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">执行批处理程序中的条件处理。</span><br><span class="line"></span><br><span class="line">IF [NOT] ERRORLEVEL number command</span><br><span class="line">IF [NOT] string1&#x3D;&#x3D;string2 command</span><br><span class="line">IF [NOT] EXIST filename command</span><br><span class="line"></span><br><span class="line">  NOT               指定只有条件为 false 的情况下，Windows 才</span><br><span class="line">                    应该执行该命令。</span><br><span class="line"></span><br><span class="line">  ERRORLEVEL number 如果最后运行的程序返回一个等于或大于</span><br><span class="line">                    指定数字的退出代码，指定条件为 true。</span><br><span class="line"></span><br><span class="line">  string1&#x3D;&#x3D;string2  如果指定的文字字符串匹配，指定条件为 true。</span><br><span class="line"></span><br><span class="line">  EXIST filename    如果指定的文件名存在，指定条件为 true。</span><br><span class="line"></span><br><span class="line">  command           如果符合条件，指定要执行的命令。如果指定的</span><br><span class="line">                    条件为 FALSE，命令后可跟 ELSE 命令，该命令将</span><br><span class="line">                    在 ELSE 关键字之后执行该命令。</span><br><span class="line"></span><br><span class="line">ELSE 子句必须出现在同一行上的 IF 之后。例如:</span><br><span class="line"></span><br><span class="line">    IF EXIST filename. (</span><br><span class="line">        del filename.</span><br><span class="line">    ) ELSE (</span><br><span class="line">        echo filename. missing.</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">由于 del 命令需要用新的一行终止，因此以下子句不会有效:</span><br><span class="line"></span><br><span class="line">IF EXIST filename. del filename. ELSE echo filename. missing</span><br><span class="line"></span><br><span class="line">由于 ELSE 命令必须与 IF 命令的尾端在同一行上，以下子句也</span><br><span class="line">不会有效:</span><br><span class="line"></span><br><span class="line">    IF EXIST filename. del filename.</span><br><span class="line">    ELSE echo filename. missing</span><br><span class="line"></span><br><span class="line">如果都放在同一行上，以下子句有效:</span><br><span class="line"></span><br><span class="line">    IF EXIST filename. (del filename.) ELSE echo filename. missing</span><br><span class="line"></span><br><span class="line">如果命令扩展被启用，IF 会如下改变:</span><br><span class="line"></span><br><span class="line">    IF [&#x2F;I] string1 compare-op string2 command</span><br><span class="line">    IF CMDEXTVERSION number command</span><br><span class="line">    IF DEFINED variable command</span><br><span class="line"></span><br><span class="line">其中， compare-op 可以是:</span><br><span class="line"></span><br><span class="line">    EQU - 等于</span><br><span class="line">    NEQ - 不等于</span><br><span class="line">    LSS - 小于</span><br><span class="line">    LEQ - 小于或等于</span><br><span class="line">    GTR - 大于</span><br><span class="line">    GEQ - 大于或等于</span><br><span class="line"></span><br><span class="line">而 &#x2F;I 开关(如果指定)说明要进行的字符串比较不分大小写。</span><br><span class="line">&#x2F;I 开关可以用于 IF 的 string1&#x3D;&#x3D;string2 的形式上。这些</span><br><span class="line">比较都是通用的；原因是，如果 string1 和 string2 都是</span><br><span class="line">由数字组成的，字符串会被转换成数字，进行数字比较。</span><br><span class="line"></span><br><span class="line">CMDEXTVERSION 条件的作用跟 ERRORLEVEL 的一样，除了它</span><br><span class="line">是在跟与命令扩展有关联的内部版本号比较。第一个版本</span><br><span class="line">是 1。每次对命令扩展有相当大的增强时，版本号会增加一个。</span><br><span class="line">命令扩展被停用时，CMDEXTVERSION 条件不是真的。</span><br><span class="line"></span><br><span class="line">如果已定义环境变量，DEFINED 条件的作用跟 EXIST 的一样，</span><br><span class="line">除了它取得一个环境变量，返回的结果是 true。</span><br><span class="line"></span><br><span class="line">如果没有名为 ERRORLEVEL 的环境变量，%ERRORLEVEL%</span><br><span class="line">会扩充为 ERROLEVEL 当前数值的字符串表达式；否则，你会得到</span><br><span class="line">其数值。运行程序后，以下语句说明 ERRORLEVEL 的用法:</span><br><span class="line"></span><br><span class="line">    goto answer%ERRORLEVEL%</span><br><span class="line">    :answer0</span><br><span class="line">    echo Program had return code 0</span><br><span class="line">    :answer1</span><br><span class="line">    echo Program had return code 1</span><br><span class="line"></span><br><span class="line">你也可以使用以上的数字比较:</span><br><span class="line"></span><br><span class="line">    IF %ERRORLEVEL% LEQ 1 goto okay</span><br><span class="line"></span><br><span class="line">如果没有名为 CMDCMDLINE 的环境变量，%CMDCMDLINE%</span><br><span class="line">将在 CMD.EXE 进行任何处理前扩充为传递给 CMD.EXE 的原始</span><br><span class="line">命令行；否则，你会得到其数值。</span><br><span class="line"></span><br><span class="line">如果没有名为 CMDEXTVERSION 的环境变量，</span><br><span class="line">%CMDEXTVERSION% 会扩充为 CMDEXTVERSION 当前数值的</span><br><span class="line">字串符表达式；否则，你会得到其数值。</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> windows cmd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmd </tag>
            
            <tag> if </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows command(10):SORT</title>
      <link href="/2016/04/01/windows-cmd-10-sort/"/>
      <url>/2016/04/01/windows-cmd-10-sort/</url>
      
        <content type="html"><![CDATA[<p>SORT 排序命令。</p><a id="more"></a><h1 id="对文件内容排序"><a href="#对文件内容排序" class="headerlink" title="对文件内容排序"></a>对文件内容排序</h1><p><code>sort filename</code><br>排序顺序为0-9,A-Z,字母为小写在前。</p><h1 id="逆向排序"><a href="#逆向排序" class="headerlink" title="逆向排序"></a>逆向排序</h1><p><code>sort /r filename</code><br>排序顺序为Z-A，9-0,字母也是小写在前。</p><h1 id="命令结果排序"><a href="#命令结果排序" class="headerlink" title="命令结果排序"></a>命令结果排序</h1><p><code>findstr /s /i hello *.*|sort</code></p><h1 id="键盘输入排序"><a href="#键盘输入排序" class="headerlink" title="键盘输入排序"></a>键盘输入排序</h1><ol><li><code>sort</code>不带参数</li><li>输入字符串</li><li>Ctrl+Z结束输入</li></ol><figure class="highlight plain"><figcaption><span>help SORT</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">SORT [&#x2F;R] [&#x2F;+n] [&#x2F;M kilobytes] [&#x2F;L locale] [&#x2F;REC recordbytes]</span><br><span class="line">  [[drive1:][path1]filename1] [&#x2F;T [drive2:][path2]]</span><br><span class="line">  [&#x2F;O [drive3:][path3]filename3]</span><br><span class="line">  &#x2F;+n                         指定开始每个比较的字符号码 n。&#x2F;+3 说明每个</span><br><span class="line">                              比较应从每行的第三个字符开始。少于 n 个字符</span><br><span class="line">                              的行排在其他行之前。按默认值，从每行的第一</span><br><span class="line">                              个字符开始比较。</span><br><span class="line">  &#x2F;L[OCALE] locale            用指定的区域设置替代系统默认区域设置。</span><br><span class="line">                              &quot;&quot;C&quot;&quot; 区域设置产生最快的排序顺序并且是当前</span><br><span class="line">                              的唯一其他选择。排序总是不分大小写的。</span><br><span class="line">  &#x2F;M[EMORY] kilobytes         指定用于排序的主内存量，单位为 KB。</span><br><span class="line">                              最小内存量总是 160 KB。如果指定内存大小，</span><br><span class="line">                              无论主内存的可用量是多少，指定的内存量会</span><br><span class="line">                              全部用于排序。</span><br><span class="line"></span><br><span class="line">                              要取得最佳性能，通常不指定内存大小。按默认</span><br><span class="line">                              值，如果达到默认最大内存值，排序会一次完成</span><br><span class="line">                              (非临时文件)；否则，排序会分两次完成(没有</span><br><span class="line">                              完全排序的数据存储在临时文件中)；用于排序</span><br><span class="line">                              和合并的内存量相等。如果输入和输出都是文</span><br><span class="line">                              件，默认最大内存量为可用主内存的 90%;</span><br><span class="line">                              否则，为主内存的 45%。</span><br><span class="line">  &#x2F;REC[ORD_MAXIMUM] characters 指定记录中的最大字符数量</span><br><span class="line">                              (默认值为 4096，最大值为 65535)。</span><br><span class="line">  &#x2F;R[EVERSE]                  颠倒排列顺序，即，从 Z 到 A，再从 9 到 0。</span><br><span class="line">  [drive1:][path1]filename1   指定要排序的文件。如果没有指定，则排序标准</span><br><span class="line">                              输入。指定输入文件比将同一个文件重定向为标</span><br><span class="line">                              准输入快。</span><br><span class="line">  &#x2F;T[EMPORARY]</span><br><span class="line">    [drive2:][path2]          指定保留排序工作存储的目录路径，以防主内</span><br><span class="line">                              存无法容纳数据。默认值是使用系统临时目录。</span><br><span class="line">  &#x2F;O[UTPUT]</span><br><span class="line">    [drive3:][path3]filename3 指定在哪个文件中储存经过排序的输入。</span><br><span class="line">                              如果没有指定，数据会被写入标准输出。指定</span><br><span class="line">                              输出文件比将标准输出重定向到同一个文件快。</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> windows cmd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmd </tag>
            
            <tag> sort </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows command(9):FIND FINDSTR</title>
      <link href="/2016/03/30/windows-cmd-9-find-findstr/"/>
      <url>/2016/03/30/windows-cmd-9-find-findstr/</url>
      
        <content type="html"><![CDATA[<p>FIND和FINDSTR都是用来查找文件中的字符串的命令。FINDSTR支持通配符，是FIND的加强版本。</p><a id="more"></a><h1 id="查找字符串"><a href="#查找字符串" class="headerlink" title="查找字符串"></a>查找字符串</h1><p>用空格隔开待查找的字符串<code>&quot;str1 str2&quot;</code>，在find中表示查找<code>str1 str1</code>整个字符串，比较符合直觉，<br>而在findstr中表示查找<code>str</code>或<code>str2</code>。findstr的待查字符串写成<code>/C:&quot;str1 str2&quot;</code>表示查找整个字符串.</p><figure class="highlight bat"><figcaption><span>find</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">find</span> "<span class="title">hello</span> <span class="title">there</span>" <span class="title">hi.txt</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">---------- <span class="title">HI.TXT</span></span></span><br><span class="line"><span class="function"><span class="title">hello</span> <span class="title">there</span></span></span><br></pre></td></tr></table></figure><figure class="highlight bat"><figcaption><span>findstr</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">findstr</span> "<span class="title">hello</span> <span class="title">there</span>" <span class="title">hi.txt</span></span></span><br><span class="line"><span class="function"><span class="title">hello</span></span></span><br><span class="line"><span class="function"><span class="title">h</span>"<span class="title">hello</span>"<span class="title">h</span></span></span><br><span class="line"><span class="function"><span class="title">hello</span> <span class="title">there</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">findstr</span> /<span class="title">C</span>:"<span class="title">hello</span> <span class="title">there</span>" <span class="title">hi.txt</span></span></span><br><span class="line"><span class="function"><span class="title">hello</span> <span class="title">there</span></span></span><br></pre></td></tr></table></figure><h1 id="查找的字符串中有-quot"><a href="#查找的字符串中有-quot" class="headerlink" title="查找的字符串中有&quot;"></a>查找的字符串中有<code>&quot;</code></h1><p>在要查找的字符串里<code>&quot;&quot;</code>转义成一个<code>&quot;</code>.</p><figure class="highlight bat"><figcaption><span>find</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">find</span> /<span class="title">N</span> "<span class="title">h</span>""<span class="title">hello</span>""<span class="title">h</span>" <span class="title">hi.txt</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">---------- <span class="title">HI.TXT</span></span></span><br><span class="line"><span class="function">[6]<span class="title">h</span>"<span class="title">hello</span>"<span class="title">h</span></span></span><br></pre></td></tr></table></figure><figure class="highlight bat"><figcaption><span>findstr</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">findstr</span> /<span class="title">N</span> """<span class="title">hello</span>"""  <span class="title">hi.txt</span></span></span><br><span class="line"><span class="function">6:<span class="title">h</span>"<span class="title">hello</span>"<span class="title">h</span></span></span><br></pre></td></tr></table></figure><h1 id="多文件查找"><a href="#多文件查找" class="headerlink" title="多文件查找"></a>多文件查找</h1><p>当前文件夹和所有子目录查找所有含有<code>Windows</code>的文件，忽略大小写。</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">findstr <span class="string">/s</span> <span class="string">/i</span> Windows *.*</span><br></pre></td></tr></table></figure><figure class="highlight bat"><figcaption><span>search the current directory for files that have the extension .bat and that contain the string "PROMPT," type </span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="variable">%%f</span> <span class="keyword">in</span> (*.bat) <span class="keyword">do</span> <span class="built_in">find</span> "PROMPT" <span class="variable">%%f</span></span><br></pre></td></tr></table></figure><h1 id="查找目录"><a href="#查找目录" class="headerlink" title="查找目录"></a>查找目录</h1><p>用管道。</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">D:</span>\test&gt;dir <span class="regexp">/b /</span>s |find /i <span class="string">"HI"</span></span><br><span class="line"><span class="string">D:</span>\test\hi.txt</span><br></pre></td></tr></table></figure><h1 id="显示文件内容并添加行号"><a href="#显示文件内容并添加行号" class="headerlink" title="显示文件内容并添加行号"></a>显示文件内容并添加行号</h1><p>type命令只能显示文件内容，在不使用for语句的条件下，简洁地实现打印行号的功能。</p><figure class="highlight bat"><figcaption><span>display line number</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">find</span> /V /N "" filename</span><br><span class="line"><span class="built_in">findstr</span> /V /N "\n"  hi.txt</span><br></pre></td></tr></table></figure><h1 id="通配符查找"><a href="#通配符查找" class="headerlink" title="通配符查找"></a>通配符查找</h1><p>查找包含以任意个空格后是字符串<code>FOR</code>的字符串，打印行号(/n),</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">findstr</span> /b /n /c:" *<span class="keyword">FOR</span>" *.bas</span><br></pre></td></tr></table></figure><h1 id="待查字符串从文件中读取"><a href="#待查字符串从文件中读取" class="headerlink" title="待查字符串从文件中读取"></a>待查字符串从文件中读取</h1><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">findstr</span> /g:finddata.txt /f:filelist.txt &gt; results.out</span><br></pre></td></tr></table></figure><p>Reference:</p><figure class="highlight plain"><figcaption><span>help FIND</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">在文件中搜索字符串。</span><br><span class="line"></span><br><span class="line">FIND [&#x2F;V] [&#x2F;C] [&#x2F;N] [&#x2F;I] [&#x2F;OFF[LINE]] &quot;string&quot; [[drive:][path]filename[ ...]]</span><br><span class="line"></span><br><span class="line">  &#x2F;V         显示所有未包含指定字符串的行。</span><br><span class="line">  &#x2F;C         仅显示包含字符串的行数。</span><br><span class="line">  &#x2F;N         显示行号。</span><br><span class="line">  &#x2F;I         搜索字符串时忽略大小写。</span><br><span class="line">  &#x2F;OFF[LINE] 不要跳过具有脱机属性集的文件。</span><br><span class="line">  &quot;string&quot; 指定要搜索的文本字符串。</span><br><span class="line">  [drive:][path]filename</span><br><span class="line">             指定要搜索的文件。</span><br><span class="line"></span><br><span class="line">如果没有指定路径，FIND 将搜索在提示符处键入</span><br><span class="line">的文本或者由另一命令产生的文本。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><figcaption><span>help FINDSTR</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">在文件中寻找字符串。</span><br><span class="line"></span><br><span class="line">FINDSTR [&#x2F;B] [&#x2F;E] [&#x2F;L] [&#x2F;R] [&#x2F;S] [&#x2F;I] [&#x2F;X] [&#x2F;V] [&#x2F;N] [&#x2F;M] [&#x2F;O] [&#x2F;P] [&#x2F;F:file]</span><br><span class="line">        [&#x2F;C:string] [&#x2F;G:file] [&#x2F;D:dir list] [&#x2F;A:color attributes] [&#x2F;OFF[LINE]]</span><br><span class="line">        strings [[drive:][path]filename[ ...]]</span><br><span class="line"></span><br><span class="line">  &#x2F;B         在一行的开始配对模式。</span><br><span class="line">  &#x2F;E         在一行的结尾配对模式。</span><br><span class="line">  &#x2F;L         按字使用搜索字符串。</span><br><span class="line">  &#x2F;R         将搜索字符串作为一般表达式使用。</span><br><span class="line">  &#x2F;S         在当前目录和所有子目录中搜索匹配文件。</span><br><span class="line">  &#x2F;I         指定搜索不分大小写。</span><br><span class="line">  &#x2F;X         打印完全匹配的行。</span><br><span class="line">  &#x2F;V         只打印不包含匹配的行。</span><br><span class="line">  &#x2F;N         在匹配的每行前打印行数。</span><br><span class="line">  &#x2F;M         如果文件含有匹配项，只打印其文件名。</span><br><span class="line">  &#x2F;O         在每个匹配行前打印字符偏移量。</span><br><span class="line">  &#x2F;P         忽略有不可打印字符的文件。</span><br><span class="line">  &#x2F;OFF[LINE] 不跳过带有脱机属性集的文件。</span><br><span class="line">  &#x2F;A:attr    指定有十六进位数字的颜色属性。请见 &quot;color &#x2F;?&quot;</span><br><span class="line">  &#x2F;F:file    从指定文件读文件列表 (&#x2F; 代表控制台)。</span><br><span class="line">  &#x2F;C:string  使用指定字符串作为文字搜索字符串。</span><br><span class="line">  &#x2F;G:file    从指定的文件获得搜索字符串。 (&#x2F; 代表控制台)。</span><br><span class="line">  &#x2F;D:dir     查找以分号为分隔符的目录列表</span><br><span class="line">  strings    要查找的文字。</span><br><span class="line">  [drive:][path]filename</span><br><span class="line">             指定要查找的文件。</span><br><span class="line"></span><br><span class="line">除非参数有 &#x2F;C 前缀，请使用空格隔开搜索字符串。</span><br><span class="line">例如: &#39;FINDSTR &quot;hello there&quot; x.y&#39; 在文件 x.y 中寻找 &quot;hello&quot; 或</span><br><span class="line">&quot;there&quot;。&#39;FINDSTR &#x2F;C:&quot;hello there&quot; x.y&#39; 文件 x.y  寻找</span><br><span class="line">&quot;hello there&quot;。</span><br><span class="line"></span><br><span class="line">一般表达式的快速参考:</span><br><span class="line">  .        通配符: 任何字符</span><br><span class="line">  *        重复: 以前字符或类出现零或零以上次数</span><br><span class="line">  ^        行位置: 行的开始</span><br><span class="line">  $        行位置: 行的终点</span><br><span class="line">  [class]  字符类: 任何在字符集中的字符</span><br><span class="line">  [^class] 补字符类: 任何不在字符集中的字符</span><br><span class="line">  [x-y]    范围: 在指定范围内的任何字符</span><br><span class="line">  \x       Escape: 元字符 x 的文字用法</span><br><span class="line">  \&lt;xyz    字位置: 字的开始</span><br><span class="line">  xyz\&gt;    字位置: 字的结束</span><br></pre></td></tr></table></figure><p><a href="https://technet.microsoft.com/en-us/library/bb490906.aspx" target="_blank" rel="noopener">find in M$ website</a><br><a href="https://technet.microsoft.com/en-us/library/bb490907.aspx" target="_blank" rel="noopener">findstr in M$ website</a></p>]]></content>
      
      
      <categories>
          
          <category> windows cmd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmd </tag>
            
            <tag> find </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows command(8):MOVE</title>
      <link href="/2016/03/30/windows-cmd-8-move/"/>
      <url>/2016/03/30/windows-cmd-8-move/</url>
      
        <content type="html"><![CDATA[<p>MOVE命令除了用来移动文件，还可以用来重命名文件或目录。</p><a id="more"></a><h1 id="批量移动文件"><a href="#批量移动文件" class="headerlink" title="批量移动文件"></a>批量移动文件</h1><p>移动所有的xls文件</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">move</span> \data\*.xls \second_q\reports\</span><br></pre></td></tr></table></figure><h1 id="重命名文件"><a href="#重命名文件" class="headerlink" title="重命名文件"></a>重命名文件</h1><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">move</span> src_dir dest_dir</span><br></pre></td></tr></table></figure><h1 id="重命名文件-1"><a href="#重命名文件-1" class="headerlink" title="重命名文件"></a>重命名文件</h1><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">move</span> file1 file2</span><br></pre></td></tr></table></figure><p>Reference:</p><figure class="highlight plain"><figcaption><span>help MOVE</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">移动文件并重命名文件和目录。</span><br><span class="line"></span><br><span class="line">要移动至少一个文件:</span><br><span class="line">MOVE [&#x2F;Y | &#x2F;-Y] [drive:][path]filename1[,...] destination</span><br><span class="line"></span><br><span class="line">要重命名一个目录:</span><br><span class="line">MOVE [&#x2F;Y | &#x2F;-Y] [drive:][path]dirname1 dirname2</span><br><span class="line"></span><br><span class="line">  [drive:][path]filename1 指定你想移动的文件位置和名称。</span><br><span class="line">  destination             指定文件的新位置。目标可包含一个驱动器号</span><br><span class="line">                          和冒号、一个目录名或组合。如果只移动一个文件</span><br><span class="line">                          并在移动时将其重命名，你还可以包括文件名。</span><br><span class="line">  [drive:][path]dirname1  指定要重命名的目录。</span><br><span class="line">  dirname2                指定目录的新名称。</span><br><span class="line"></span><br><span class="line">  &#x2F;Y                      取消确认覆盖一个现有目标文件的提示。</span><br><span class="line">  &#x2F;-Y                     对确认覆盖一个现有目标文件发出提示。</span><br><span class="line"></span><br><span class="line">命令行开关 &#x2F;Y 可以出现在 COPYCMD 环境变量中。这可以用命令行上</span><br><span class="line">的 &#x2F;-Y 替代。默认值是，除非 MOVE 命令是从一个批脚本内</span><br><span class="line">执行的，覆盖时都发出提示。</span><br></pre></td></tr></table></figure><p><a href="https://technet.microsoft.com/en-us/library/bb490935.aspx" target="_blank" rel="noopener">Move in M$ website</a></p>]]></content>
      
      
      <categories>
          
          <category> windows cmd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmd </tag>
            
            <tag> move </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows command(7):RENAME REPLACE</title>
      <link href="/2016/03/28/windows-cmd-7-ren-replace/"/>
      <url>/2016/03/28/windows-cmd-7-ren-replace/</url>
      
        <content type="html"><![CDATA[<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=355992&auto=0&height=66"></iframe>GALA - 追梦赤子心rename(ren)重命名，可以给文件修改名字或者文件格式后缀名。<a id="more"></a><h1 id="单个文件重命名-ren-filename1-filename2"><a href="#单个文件重命名-ren-filename1-filename2" class="headerlink" title="单个文件重命名 ren filename1 filename2"></a>单个文件重命名 ren filename1 filename2</h1><figure class="highlight bat"><figcaption><span>single file rename</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ren</span> <span class="number">1</span>.jpg hello.png</span><br></pre></td></tr></table></figure><h1 id="多个文件重命名-ren-filenames1-filenames2"><a href="#多个文件重命名-ren-filenames1-filenames2" class="headerlink" title="多个文件重命名 ren filenames1 filenames2"></a>多个文件重命名 ren filenames1 filenames2</h1><p>可以使用<code>*</code>或者<code>?</code>作为通配符，如果通配符在filenames2中，则通配符代表的字符是通配符所匹配的filenames1中的字符。</p><figure class="highlight bat"><figcaption><span>multiple files rename</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ren</span> *.jpg *.rar</span><br></pre></td></tr></table></figure><p>将所有的jpg文件改为rar格式，保持文件名不变。</p><h1 id="替换文件-replace-path-to-filename-dest-path"><a href="#替换文件-replace-path-to-filename-dest-path" class="headerlink" title="替换文件 replace path\to\filename dest\path"></a>替换文件 replace path\to\filename dest\path</h1><p>替换文件为同名替换，不能修改名字</p><p>Reference:</p><figure class="highlight plain"><figcaption><span>help RENAME</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">重命名文件。</span><br><span class="line"></span><br><span class="line">RENAME [drive:][path]filename1 filename2.</span><br><span class="line">REN [drive:][path]filename1 filename2.</span><br><span class="line"></span><br><span class="line">请注意，你不能为目标文件指定新的驱动器或路径。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><figcaption><span>help REPLACE</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">替换文件。</span><br><span class="line"></span><br><span class="line">REPLACE [drive1:][path1]filename [drive2:][path2] [&#x2F;A] [&#x2F;P] [&#x2F;R] [&#x2F;W]</span><br><span class="line">REPLACE [drive1:][path1]filename [drive2:][path2] [&#x2F;P] [&#x2F;R] [&#x2F;S] [&#x2F;W] [&#x2F;U]</span><br><span class="line"></span><br><span class="line">  [drive1:][path1]filename 指定源文件。</span><br><span class="line">  [drive2:][path2]         指定要替换文件的目录。</span><br><span class="line">  &#x2F;A                       把新文件加入目标目录。不能和&#x2F;S 或 &#x2F;U 命令行开关搭配使用。</span><br><span class="line">  &#x2F;P                       替换文件或加入源文件之前会先提示你进行确认。</span><br><span class="line">  &#x2F;R                       替换只读文件以及未受保护的文件。</span><br><span class="line">  &#x2F;S                       替换目标目录中所有子目录的文件。不能与 &#x2F;A 命令开关搭 配使用。</span><br><span class="line">  &#x2F;W                       等你插入磁盘以后再运行。</span><br><span class="line">  &#x2F;U                       只会替换或更新比源文件日期早的文件。不能与 &#x2F;A 命令行 开关搭配使用。</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> windows cmd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmd </tag>
            
            <tag> rename </tag>
            
            <tag> replace </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据隐藏:jpeg+RAR</title>
      <link href="/2016/03/28/jpeg-rar/"/>
      <url>/2016/03/28/jpeg-rar/</url>
      
        <content type="html"><![CDATA[<img src="/2016/03/28/jpeg-rar/girl-running.png" class=""><p>这是一种简单的数据隐藏方法，将rar文件隐藏在图片文件里。</p><a id="more"></a><h1 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h1><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">copy</span> /B <span class="number">1</span>.jpg+<span class="number">2</span>.rar hidden_rar.jpg</span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">type</span> <span class="number">1</span>.jpg &gt;&gt; hidden_rar.jpg</span><br><span class="line"><span class="built_in">type</span> <span class="number">2</span>.rar &gt;&gt; hidden_rar.jpg</span><br></pre></td></tr></table></figure><p>默认打开hidden_rar.jpg可以看到图片内容，重命名为hidden_rar.rar并用winRAR打开可以解压缩。<br>题图的图片就隐藏有一个rar文件。</p><h1 id="为什么可行"><a href="#为什么可行" class="headerlink" title="为什么可行"></a>为什么可行</h1><ol><li>jpg图片后面跟上无效数据，不会影响软件解析图片。</li><li>rar解析软件，确切的说是winRAR软件解析rar格式文件的时候是搜索到正确的文件头，并解析之后的文件内容。</li></ol><h1 id="延伸"><a href="#延伸" class="headerlink" title="延伸"></a>延伸</h1><p>对其他图片png/gif/bmp/jpeg格式也是可行的。<br>其实如果解析软件能够做到只解析自己关心的数据，那么所谓的信息隐藏可以变成任意文件格式的叠加。</p>]]></content>
      
      
      <categories>
          
          <category> windows cmd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> data hiding </tag>
            
            <tag> data encrypt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows command(6):ATTRIB</title>
      <link href="/2016/03/26/windows-cmd-6-attrib/"/>
      <url>/2016/03/26/windows-cmd-6-attrib/</url>
      
        <content type="html"><![CDATA[<p>ATTRIB用来显示或修改文件或者文件夹属性。</p><a id="more"></a><h1 id="Windows的文件属性"><a href="#Windows的文件属性" class="headerlink" title="Windows的文件属性"></a>Windows的文件属性</h1><p>Windows OS文件夹或者文件属性主要有：</p><ul><li>只读(Read Only)-表示该文件不能被修改 </li><li>隐藏(Hidden) -表示该文件在系统中是隐藏的，在默认情况下用户不能看见这些文件。 </li><li>系统(System) - 表示该文件是操作系统的一部分。 </li><li>存档(Archive)- 表示该文件在上次备份前已经修改过了，一些备份软件在备份系统后会把这些文件默认的设为存档属性。<br>存档属性在一般文件管理中意义不大，但是对于频繁的文件批量管理很有帮助。</li></ul><h1 id="显示属性-attrib-filename"><a href="#显示属性-attrib-filename" class="headerlink" title="显示属性 attrib filename"></a>显示属性 attrib filename</h1><figure class="highlight bat"><figcaption><span>show attrib</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\<span class="title">test</span>&gt;<span class="title">attrib</span> .<span class="title">hello</span></span></span><br><span class="line"><span class="function">   <span class="title">SHR</span>       <span class="title">D</span>:\<span class="title">test</span>\.<span class="title">hello</span></span></span><br></pre></td></tr></table></figure><h1 id="增加属性-attrib-R-A-S-H-I-filename"><a href="#增加属性-attrib-R-A-S-H-I-filename" class="headerlink" title="增加属性 attrib +[R|A|S|H|I] filename"></a>增加属性 attrib +[R|A|S|H|I] filename</h1><figure class="highlight bat"><figcaption><span>add attrib</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\<span class="title">test</span>&gt;<span class="title">attrib</span> <span class="title">test</span></span></span><br><span class="line"><span class="function">             <span class="title">D</span>:\<span class="title">test</span>\<span class="title">test</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">test</span>&gt;<span class="title">attrib</span> +<span class="title">R</span> <span class="title">test</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">test</span>&gt;<span class="title">attrib</span> <span class="title">test</span></span></span><br><span class="line"><span class="function">     <span class="title">R</span>       <span class="title">D</span>:\<span class="title">test</span>\<span class="title">test</span></span></span><br></pre></td></tr></table></figure><h1 id="去除属性-attrib-R-A-S-H-I-filename"><a href="#去除属性-attrib-R-A-S-H-I-filename" class="headerlink" title="去除属性 attrib -[R|A|S|H|I] filename"></a>去除属性 attrib -[R|A|S|H|I] filename</h1><figure class="highlight bat"><figcaption><span>恢复被病毒隐藏的文件 </span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">attrib</span> -r -s -h /s /d</span><br></pre></td></tr></table></figure><p>Reference:</p><figure class="highlight plain"><figcaption><span>help ATTRIB</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">显示或更改文件属性。</span><br><span class="line"></span><br><span class="line">ATTRIB [+R | -R] [+A | -A ] [+S | -S] [+H | -H] [+I | -I]</span><br><span class="line">       [drive:][path][filename] [&#x2F;S [&#x2F;D] [&#x2F;L]]</span><br><span class="line"></span><br><span class="line">  +   设置属性。</span><br><span class="line">  -   清除属性。</span><br><span class="line">  R   只读文件属性。</span><br><span class="line">  A   存档文件属性。</span><br><span class="line">  S   系统文件属性。</span><br><span class="line">  H   隐藏文件属性。</span><br><span class="line">  I   无内容索引文件属性。</span><br><span class="line">  X   无清理文件属性。</span><br><span class="line">  V   完整性属性。</span><br><span class="line">  [drive:][path][filename]</span><br><span class="line">      指定 attrib 要处理的文件。</span><br><span class="line">  &#x2F;S  处理当前文件夹</span><br><span class="line">      及其所有子文件夹中的匹配文件。</span><br><span class="line">  &#x2F;D  也处理文件夹。</span><br><span class="line">  &#x2F;L  处理符号链接和</span><br><span class="line">      符号链接目标的属性</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> windows cmd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmd </tag>
            
            <tag> attrib </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows command(5):TYPE</title>
      <link href="/2016/03/25/windows-cmd-5-type/"/>
      <url>/2016/03/25/windows-cmd-5-type/</url>
      
        <content type="html"><![CDATA[<p>TYPE命令用于显示文件内容，相当于bash的cat命令。</p><a id="more"></a><h1 id="显示文件内容-TYPE-filename"><a href="#显示文件内容-TYPE-filename" class="headerlink" title="显示文件内容 TYPE filename"></a>显示文件内容 TYPE filename</h1><figure class="highlight bat"><figcaption><span>display file content</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\<span class="title">test</span>&gt;<span class="title">type</span> <span class="title">hello.txt</span></span></span><br><span class="line"><span class="function"><span class="title">hello</span></span></span><br><span class="line"><span class="function"><span class="title">this</span> <span class="title">is</span> <span class="title">a</span> <span class="title">test</span> <span class="title">file</span>.</span></span><br></pre></td></tr></table></figure><h1 id="合并文件"><a href="#合并文件" class="headerlink" title="合并文件"></a>合并文件</h1><h2 id="直接合并-TYPE-file1-file2-gt-mergefile"><a href="#直接合并-TYPE-file1-file2-gt-mergefile" class="headerlink" title="直接合并 TYPE file1 file2 &gt; mergefile"></a>直接合并 TYPE file1 file2 &gt; mergefile</h2><figure class="highlight bat"><figcaption><span>merge files</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\<span class="title">test</span>&gt;<span class="title">type</span> <span class="title">a.txt</span></span></span><br><span class="line"><span class="function"> <span class="title">i</span> <span class="title">am</span> <span class="title">a</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">test</span>&gt;<span class="title">type</span> <span class="title">hello.txt</span></span></span><br><span class="line"><span class="function"><span class="title">hello</span></span></span><br><span class="line"><span class="function"><span class="title">this</span> <span class="title">is</span> <span class="title">a</span> <span class="title">test</span> <span class="title">file</span>.</span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">test</span>&gt;<span class="title">type</span> <span class="title">a.txt</span> <span class="title">hello.txt</span> &gt;<span class="title">new.txt</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">a.txt</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">hello.txt</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">test</span>&gt;<span class="title">type</span> <span class="title">new.txt</span></span></span><br><span class="line"><span class="function"> <span class="title">i</span> <span class="title">am</span> <span class="title">a</span></span></span><br><span class="line"><span class="function"><span class="title">hello</span></span></span><br><span class="line"><span class="function"><span class="title">this</span> <span class="title">is</span> <span class="title">a</span> <span class="title">test</span> <span class="title">file</span>.</span></span><br></pre></td></tr></table></figure><h2 id="多次合并-type-file-gt-gt-mergefile"><a href="#多次合并-type-file-gt-gt-mergefile" class="headerlink" title="多次合并 type file &gt;&gt; mergefile"></a>多次合并 type file &gt;&gt; mergefile</h2><figure class="highlight bat"><figcaption><span>merge files</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">type</span> fileA.jpg &gt;&gt; file.jpg</span><br><span class="line"><span class="built_in">type</span> fileB.rar &gt;&gt; file.jpg</span><br></pre></td></tr></table></figure><p>Refrenece:</p><figure class="highlight plain"><figcaption><span>help</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">显示文本文件的内容。</span><br><span class="line"></span><br><span class="line">TYPE [drive:][path]filename</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> windows cmd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmd </tag>
            
            <tag> type </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows command(4):ECHO</title>
      <link href="/2016/03/23/windows-cmd-4-echo/"/>
      <url>/2016/03/23/windows-cmd-4-echo/</url>
      
        <content type="html"><![CDATA[<img src="/2016/03/23/windows-cmd-4-echo/echo.png" class=""><p>ECHO命令是最常用的命令之一，用来回显命令到屏幕。</p><a id="more"></a><h1 id="ECHO-ON-OFF"><a href="#ECHO-ON-OFF" class="headerlink" title="ECHO [ON|OFF]"></a>ECHO [ON|OFF]</h1><p>打开或关闭命令的回显,不加参数则显示当前的ECHO状态。</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">C:\<span class="title">Users</span>\<span class="title">idea</span>&gt;<span class="title">echo</span></span></span><br><span class="line"><span class="function"><span class="title">ECHO</span> 处于打开状态。</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">C</span>:\<span class="title">Users</span>\<span class="title">idea</span>&gt;<span class="title">echo</span> <span class="title">off</span></span></span><br><span class="line"><span class="function"><span class="title">cd</span></span></span><br><span class="line"><span class="function"><span class="title">C</span>:\<span class="title">Users</span>\<span class="title">idea</span></span></span><br><span class="line"><span class="function"><span class="title">echo</span> <span class="title">hello</span></span></span><br><span class="line"><span class="function"><span class="title">hello</span></span></span><br><span class="line"><span class="function"><span class="title">echo</span> <span class="title">on</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">C</span>:\<span class="title">Users</span>\<span class="title">idea</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="ECHO-message"><a href="#ECHO-message" class="headerlink" title="ECHO [message]"></a>ECHO [message]</h1><figure class="highlight bat"><figcaption><span>output string "quote is not necessary"</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">C:\<span class="title">Users</span>\<span class="title">idea</span>&gt;<span class="title">echo</span> <span class="title">hello</span> <span class="title">world</span></span></span><br><span class="line"><span class="function"><span class="title">hello</span> <span class="title">world</span></span></span><br></pre></td></tr></table></figure><figure class="highlight bat"><figcaption><span>output a newline</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span>.</span><br></pre></td></tr></table></figure><p>echo与<code>.</code>之间没有空格，<code>.</code>可以由`, : / \ + =’代替。</p><figure class="highlight bat"><figcaption><span>variable</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">%path%</span> </span><br><span class="line"><span class="built_in">echo</span> <span class="variable">%date%</span></span><br></pre></td></tr></table></figure><h1 id=""><a href="#" class="headerlink" title="@"></a>@</h1><p>@字符放在命令前将关闭该命令回显，无论此时echo是否为打开状态。<br>在脚本中，如果<code>echo off</code>这条命令本身也不回显，在语句之前加<code>@</code>，写成<code>@echo off</code>.</p><h1 id="create-a-new-file-or-append-a-file"><a href="#create-a-new-file-or-append-a-file" class="headerlink" title="create a new file or append a file"></a>create a new file or append a file</h1><p>ECHO [new content] &gt; filename<br>ECHO [append content] &gt;&gt; filename</p><figure class="highlight bat"><figcaption><span>file edit</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\<span class="title">test</span>&gt;<span class="title">echo</span> @<span class="title">echo</span> <span class="title">off</span> &gt; <span class="title">batfile.bat</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">test</span>&gt;<span class="title">echo</span> <span class="title">echo</span> <span class="title">hello</span> <span class="title">world</span> &gt;&gt;<span class="title">batfile.bat</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">test</span>&gt;<span class="title">type</span> <span class="title">batfile.bat</span></span></span><br><span class="line"><span class="function">@<span class="title">echo</span> <span class="title">off</span></span></span><br><span class="line"><span class="function"><span class="title">echo</span> <span class="title">hello</span> <span class="title">world</span></span></span><br></pre></td></tr></table></figure><h1 id="auto-answer-qustions-in-cmd"><a href="#auto-answer-qustions-in-cmd" class="headerlink" title="auto answer qustions in cmd"></a>auto answer qustions in cmd</h1><p>ECHO [Y|N]| cmd</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\<span class="title">test</span>&gt;<span class="title">rd</span> <span class="title">test</span> /<span class="title">S</span></span></span><br><span class="line"><span class="function"><span class="title">test</span>, 是否确认(<span class="title">Y</span>/<span class="title">N</span>)?</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">test</span>&gt;<span class="title">echo</span> <span class="title">Y</span>|<span class="title">rd</span> <span class="title">test</span> /<span class="title">S</span></span></span><br><span class="line"><span class="function"><span class="title">test</span>, 是否确认(<span class="title">Y</span>/<span class="title">N</span>)? <span class="title">Y</span></span></span><br></pre></td></tr></table></figure><h1 id="buzzer-ring"><a href="#buzzer-ring" class="headerlink" title="buzzer ring"></a>buzzer ring</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> ^G</span><br></pre></td></tr></table></figure><p><code>^G</code>是键盘输入<code>Ctrl</code>+<code>G</code>或者<code>Alt</code>+007。</p><p>Reference:</p><figure class="highlight plain"><figcaption><span>help ECHO</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">显示信息，或启用或关闭命令回显。</span><br><span class="line"></span><br><span class="line">  ECHO [ON | OFF]</span><br><span class="line">  ECHO [message]</span><br><span class="line"></span><br><span class="line">要显示当前回显设置，键入不带参数的 ECHO。</span><br></pre></td></tr></table></figure><p><a href="https://www.douban.com/note/311537668/" target="_blank" rel="noopener">你不知道的CMD命令之Echo</a></p>]]></content>
      
      
      <categories>
          
          <category> windows cmd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmd </tag>
            
            <tag> echo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows command(3):DIR MD RD CD</title>
      <link href="/2016/03/15/windows-cmd-3-dir-mkdir-rmdir-chdir/"/>
      <url>/2016/03/15/windows-cmd-3-dir-mkdir-rmdir-chdir/</url>
      
        <content type="html"><![CDATA[<img src="/2016/03/15/windows-cmd-3-dir-mkdir-rmdir-chdir/dir.png" class=""><p>DIR相当于bash里的ls，列出目录或文件。<br>MKDIR(MD)创建目录。<br>RMDIR(RD)删除目录。<br>CHDIR(CD)显示当前目录名(CD不跟参数时，兼有bash pwd命令功能)或者改变当前目录。</p><a id="more"></a><h1 id="DIR"><a href="#DIR" class="headerlink" title="DIR"></a>DIR</h1><figure class="highlight bat"><figcaption><span>list all non-dir files</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dir</span> /A:-D</span><br></pre></td></tr></table></figure><figure class="highlight bat"><figcaption><span>order by reverse alphabet</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dir</span> /O:-N</span><br></pre></td></tr></table></figure><figure class="highlight bat"><figcaption><span>order by date(latest at first)</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dir</span> /O:-D</span><br></pre></td></tr></table></figure><figure class="highlight bat"><figcaption><span>list all txt files in current dir</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dir</span> *.txt</span><br></pre></td></tr></table></figure><figure class="highlight bat"><figcaption><span>clean style</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dir</span> /B</span><br></pre></td></tr></table></figure><h1 id="MKDIR-MD"><a href="#MKDIR-MD" class="headerlink" title="MKDIR(MD)"></a>MKDIR(MD)</h1><figure class="highlight bat"><figcaption><span>create dir A and the sub-dir B</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> A\B</span><br></pre></td></tr></table></figure><h1 id="RMDIR-RD"><a href="#RMDIR-RD" class="headerlink" title="RMDIR(RD)"></a>RMDIR(RD)</h1><figure class="highlight bat"><figcaption><span>remove all sub-dir and files</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rmdir</span> A /S /Q</span><br></pre></td></tr></table></figure><h1 id="CHDIR-CD"><a href="#CHDIR-CD" class="headerlink" title="CHDIR(CD)"></a>CHDIR(CD)</h1><figure class="highlight bat"><figcaption><span>show current dir</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\<span class="title">TOOLS</span>\<span class="title">FreeMind</span>\<span class="title">browser</span>&gt;<span class="title">cd</span></span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">TOOLS</span>\<span class="title">FreeMind</span>\<span class="title">browser</span></span></span><br></pre></td></tr></table></figure><figure class="highlight bat"><figcaption><span>go to upper level dir</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ..</span><br></pre></td></tr></table></figure><p>CHDIR 命令不把空格当作分隔符，因此有可能将目录名改为一个<br>带有空格但不带有引号的子目录名。例如:</p><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd <span class="symbol">\w</span>innt<span class="symbol">\p</span>rofiles<span class="symbol">\u</span>sername<span class="symbol">\p</span>rograms<span class="symbol">\s</span>tart menu</span><br></pre></td></tr></table></figure><p>与下列相同:</p><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd "<span class="symbol">\w</span>innt<span class="symbol">\p</span>rofiles<span class="symbol">\u</span>sername<span class="symbol">\p</span>rograms<span class="symbol">\s</span>tart menu"</span><br></pre></td></tr></table></figure><p>Reference:</p><figure class="highlight plain"><figcaption><span>help DIR</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">显示目录中的文件和子目录列表。</span><br><span class="line"></span><br><span class="line">DIR [drive:][path][filename] [&#x2F;A[[:]attributes]] [&#x2F;B] [&#x2F;C] [&#x2F;D] [&#x2F;L] [&#x2F;N]</span><br><span class="line">  [&#x2F;O[[:]sortorder]] [&#x2F;P] [&#x2F;Q] [&#x2F;R] [&#x2F;S] [&#x2F;T[[:]timefield]] [&#x2F;W] [&#x2F;X] [&#x2F;4]</span><br><span class="line"></span><br><span class="line">  [drive:][path][filename]</span><br><span class="line">              指定要列出的驱动器、目录和&#x2F;或文件。</span><br><span class="line"></span><br><span class="line">  &#x2F;A          显示具有指定属性的文件。</span><br><span class="line">  属性         D  目录                R  只读文件</span><br><span class="line">               H  隐藏文件            A  准备存档的文件</span><br><span class="line">               S  系统文件            I  无内容索引文件</span><br><span class="line">               L  解析点             -  表示“否”的前缀</span><br><span class="line">  &#x2F;B          使用空格式(没有标题信息或摘要)。</span><br><span class="line">  &#x2F;C          在文件大小中显示千位数分隔符。这是默认值。用 &#x2F;-C 来</span><br><span class="line">              禁用分隔符显示。</span><br><span class="line">  &#x2F;D          跟宽式相同，但文件是按栏分类列出的。</span><br><span class="line">  &#x2F;L          用小写。</span><br><span class="line">  &#x2F;N          新的长列表格式，其中文件名在最右边。</span><br><span class="line">  &#x2F;O          用分类顺序列出文件。</span><br><span class="line">  排列顺序     N  按名称(字母顺序)     S  按大小(从小到大)</span><br><span class="line">               E  按扩展名(字母顺序)   D  按日期&#x2F;时间(从先到后)</span><br><span class="line">               G  组目录优先           -  反转顺序的前缀</span><br><span class="line">  &#x2F;P          在每个信息屏幕后暂停。</span><br><span class="line">  &#x2F;Q          显示文件所有者。</span><br><span class="line">  &#x2F;R          显示文件的备用数据流。</span><br><span class="line">  &#x2F;S          显示指定目录和所有子目录中的文件。</span><br><span class="line">  &#x2F;T          控制显示或用来分类的时间字符域。</span><br><span class="line">  时间段      C  创建时间</span><br><span class="line">              A  上次访问时间</span><br><span class="line">              W  上次写入的时间</span><br><span class="line">  &#x2F;W          用宽列表格式。</span><br><span class="line">  &#x2F;X          显示为非 8.3 文件名产生的短名称。格式是 &#x2F;N 的格式，</span><br><span class="line">              短名称插在长名称前面。如果没有短名称，在其位置则</span><br><span class="line">              显示空白。</span><br><span class="line">  &#x2F;4          用四位数字显示年</span><br><span class="line"></span><br><span class="line">可以在 DIRCMD 环境变量中预先设定开关。通过添加前缀 - (破折号)</span><br><span class="line">来替代预先设定的开关。例如，&#x2F;-W。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><figcaption><span>help MKDIR</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">创建目录。</span><br><span class="line"></span><br><span class="line">MKDIR [drive:]path</span><br><span class="line">MD [drive:]path</span><br><span class="line"></span><br><span class="line">如果命令扩展被启用，MKDIR 会如下改变:</span><br><span class="line"></span><br><span class="line">如果需要，MKDIR 会在路径中创建中级目录。例如: 假设 \a 不</span><br><span class="line">存在，那么:</span><br><span class="line"></span><br><span class="line">    mkdir \a\b\c\d</span><br><span class="line"></span><br><span class="line">与:</span><br><span class="line"></span><br><span class="line">    mkdir \a</span><br><span class="line">    chdir \a</span><br><span class="line">    mkdir b</span><br><span class="line">    chdir b</span><br><span class="line">    mkdir c</span><br><span class="line">    chdir c</span><br><span class="line">    mkdir d</span><br><span class="line"></span><br><span class="line">相同。如果扩展被停用，则需要键入 mkdir \a\b\c\d。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><figcaption><span>help RMDIR</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">删除一个目录。</span><br><span class="line"></span><br><span class="line">RMDIR [&#x2F;S] [&#x2F;Q] [drive:]path</span><br><span class="line">RD [&#x2F;S] [&#x2F;Q] [drive:]path</span><br><span class="line"></span><br><span class="line">    &#x2F;S      除目录本身外，还将删除指定目录下的所有子目录和</span><br><span class="line">            文件。用于删除目录树。</span><br><span class="line"></span><br><span class="line">    &#x2F;Q      安静模式，带 &#x2F;S 删除目录树时不要求确认</span><br></pre></td></tr></table></figure><figure class="highlight plain"><figcaption><span>help CHDIR</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">显示当前目录名或改变当前目录。</span><br><span class="line"></span><br><span class="line">CHDIR [&#x2F;D] [drive:][path]</span><br><span class="line">CHDIR [..]</span><br><span class="line">CD [&#x2F;D] [drive:][path]</span><br><span class="line">CD [..]</span><br><span class="line"></span><br><span class="line">  ..   指定要改成父目录。</span><br><span class="line"></span><br><span class="line">键入 CD drive: 显示指定驱动器中的当前目录。</span><br><span class="line">不带参数只键入 CD，则显示当前驱动器和目录。</span><br><span class="line"></span><br><span class="line">使用 &#x2F;D 开关，除了改变驱动器的当前目录之外，</span><br><span class="line">还可改变当前驱动器。</span><br><span class="line"></span><br><span class="line">如果命令扩展被启用，CHDIR 会如下改变:</span><br><span class="line"></span><br><span class="line">当前的目录字符串会被转换成使用磁盘名上的大小写。所以，</span><br><span class="line">如果磁盘上的大小写如此，CD C:\TEMP 会将当前目录设为</span><br><span class="line">C:\Temp。</span><br><span class="line"></span><br><span class="line">CHDIR 命令不把空格当作分隔符，因此有可能将目录名改为一个</span><br><span class="line">带有空格但不带有引号的子目录名。例如:</span><br><span class="line"></span><br><span class="line">     cd \winnt\profiles\username\programs\start menu</span><br><span class="line"></span><br><span class="line">与下列相同:</span><br><span class="line"></span><br><span class="line">     cd &quot;\winnt\profiles\username\programs\start menu&quot;</span><br><span class="line"></span><br><span class="line">在扩展停用的情况下，你必须键入以上命令。</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> windows cmd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmd </tag>
            
            <tag> dir </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows command(2):DEL/ERASE</title>
      <link href="/2016/03/15/windows-cmd-2-del-erase/"/>
      <url>/2016/03/15/windows-cmd-2-del-erase/</url>
      
        <content type="html"><![CDATA[<img src="/2016/03/15/windows-cmd-2-del-erase/del.png" class=""><p>删除命令，用来删除一个或多个文件，不能删除目录(RD/RMDIR用来删除目录)。DEL和ERASE相当于互为别名，功能没有区别。</p><a id="more"></a><p>举例：</p><h1 id="删除单个文件"><a href="#删除单个文件" class="headerlink" title="删除单个文件"></a>删除单个文件</h1><figure class="highlight bat"><figcaption><span>single file</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\<span class="title">doc</span>&gt;<span class="title">dir</span> /<span class="title">B</span></span></span><br><span class="line"><span class="function"><span class="title">a.txt</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">doc</span>&gt;<span class="title">DEL</span> <span class="title">a.txt</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">doc</span>&gt;<span class="title">dir</span> /<span class="title">B</span></span></span><br></pre></td></tr></table></figure><h2 id="如果文件不存在"><a href="#如果文件不存在" class="headerlink" title="如果文件不存在"></a>如果文件不存在</h2><figure class="highlight bat"><figcaption><span>not exist</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\<span class="title">doc</span>&gt;<span class="title">del</span> <span class="title">b.txt</span></span></span><br><span class="line"><span class="function">找不到 <span class="title">D</span>:\<span class="title">doc</span>\<span class="title">b.txt</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">doc</span>&gt;<span class="title">echo</span> %<span class="title">ERRORLEVEL</span>%</span></span><br><span class="line"><span class="function">0</span></span><br></pre></td></tr></table></figure><h2 id="如果文件只读"><a href="#如果文件只读" class="headerlink" title="如果文件只读"></a>如果文件只读</h2><figure class="highlight bat"><figcaption><span>readonly</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\<span class="title">doc</span>&gt;<span class="title">del</span> <span class="title">a.txt</span></span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">doc</span>\<span class="title">a.txt</span></span></span><br><span class="line"><span class="function">拒绝访问。</span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">doc</span>&gt;<span class="title">echo</span> %<span class="title">ERRORLEVEL</span>%</span></span><br><span class="line"><span class="function">0</span></span><br></pre></td></tr></table></figure><h1 id="删除只读文件"><a href="#删除只读文件" class="headerlink" title="删除只读文件"></a>删除只读文件</h1><figure class="highlight bat"><figcaption><span>force del</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">del</span> a.txt /F</span><br><span class="line"><span class="built_in">del</span> a.txt /A:R</span><br></pre></td></tr></table></figure><h1 id="删除文件夹内所有文件和子目录"><a href="#删除文件夹内所有文件和子目录" class="headerlink" title="删除文件夹内所有文件和子目录"></a>删除文件夹内所有文件和子目录</h1><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">del</span> D:\doc  /F /S /Q</span><br></pre></td></tr></table></figure><p>Reference:</p><figure class="highlight plain"><figcaption><span>help DEL</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">删除一个或数个文件。</span><br><span class="line"></span><br><span class="line">DEL [&#x2F;P] [&#x2F;F] [&#x2F;S] [&#x2F;Q] [&#x2F;A[[:]attributes]] names</span><br><span class="line">ERASE [&#x2F;P] [&#x2F;F] [&#x2F;S] [&#x2F;Q] [&#x2F;A[[:]attributes]] names</span><br><span class="line"></span><br><span class="line">  names         指定一个或多个文件或者目录列表。</span><br><span class="line">                通配符可用来删除多个文件。</span><br><span class="line">                如果指定了一个目录，该目录中的所</span><br><span class="line">                有文件都会被删除。</span><br><span class="line"></span><br><span class="line">  &#x2F;P            删除每一个文件之前提示确认。</span><br><span class="line">  &#x2F;F            强制删除只读文件。</span><br><span class="line">  &#x2F;S            删除所有子目录中的指定的文件。</span><br><span class="line">  &#x2F;Q            安静模式。删除全局通配符时，不要求确认</span><br><span class="line">  &#x2F;A            根据属性选择要删除的文件</span><br><span class="line">  属性          R  只读文件                     S  系统文件</span><br><span class="line">                H  隐藏文件                     A  存档文件</span><br><span class="line">                I  无内容索引文件               L  重分析点</span><br><span class="line">                -  表示“否”的前缀</span><br><span class="line"></span><br><span class="line">如果命令扩展被启用，DEL 和 ERASE 更改如下:</span><br><span class="line"></span><br><span class="line">&#x2F;S 开关的显示句法会颠倒，即只显示已经</span><br><span class="line">删除的文件，而不显示找不到的文件。</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> windows cmd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmd </tag>
            
            <tag> del </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows command(1):COPY XCOPY ROBOCOPY</title>
      <link href="/2016/03/09/windows-cmd-1-copy-xcopy-robocopy/"/>
      <url>/2016/03/09/windows-cmd-1-copy-xcopy-robocopy/</url>
      
        <content type="html"><![CDATA[<img src="/2016/03/09/windows-cmd-1-copy-xcopy-robocopy/copy.png" class=""><p>COPY可以将一个或多个文件复制到指定目录；<br>XCOPY是COPY的加强版本，可以将目录或者文件拷贝到指定的目录；<br>ROBOCOPY(Robost File Copy)是XCOPY的加强版本，支持断点传输，对文件属性的保留及去除，能跳过已经在目标文件夹中存在的指定文件的拷贝，多进程拷贝(win7 only)等。</p><a id="more"></a><p>举例：</p><h1 id="拷贝目录"><a href="#拷贝目录" class="headerlink" title="拷贝目录"></a>拷贝目录</h1><p>拷贝source文件夹里所有的内容(包括”hidden”或者”system”属性的文件)到一个空的文件夹。</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\&gt;<span class="title">XCOPY</span> <span class="title">D</span>:\<span class="title">source</span> <span class="title">D</span>:\<span class="title">newcopy</span> /<span class="title">S</span> /<span class="title">E</span> /<span class="title">I</span> /<span class="title">H</span></span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">source</span>\<span class="title">a.xml</span></span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">source</span>\<span class="title">b.xml</span></span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">source</span>\<span class="title">file.txt</span></span></span><br><span class="line"><span class="function">复制了 3 个文件</span></span><br></pre></td></tr></table></figure><h1 id="拷贝文件"><a href="#拷贝文件" class="headerlink" title="拷贝文件"></a>拷贝文件</h1><p>拷贝source文件夹里的所有xml文件到newcopy文件夹里,如果文件存在则覆盖，且要验证新文件是否正确。</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\&gt;<span class="title">XCOPY</span> <span class="title">D</span>:\<span class="title">source</span>\*.<span class="title">xml</span> <span class="title">D</span>:\<span class="title">newcopy</span>\ /<span class="title">A</span> /<span class="title">Y</span> /<span class="title">V</span></span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">source</span>\<span class="title">a.xml</span></span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">source</span>\<span class="title">b.xml</span></span></span><br><span class="line"><span class="function">复制了 2 个文件</span></span><br></pre></td></tr></table></figure><p>注意，如果目录不以反斜杠<code>\</code>结尾，在目标文件夹不存在时，则会询问是文件还是目录。</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">D:</span>\&gt;XCOPY <span class="string">D:</span>\source\*.xml <span class="string">D:</span>\newcopy <span class="regexp">/A /</span>Y</span><br><span class="line">目标 <span class="string">D:</span>\newcopy 是文件名</span><br><span class="line">还是目录名</span><br><span class="line">(F = 文件，D = 目录)?</span><br></pre></td></tr></table></figure><h1 id="路径名中有空格"><a href="#路径名中有空格" class="headerlink" title="路径名中有空格"></a>路径名中有空格</h1><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\&gt;<span class="title">XCOPY</span> <span class="title">D</span>:\<span class="title">source</span> <span class="title">dir</span> <span class="title">D</span>:\<span class="title">newcopy</span> /<span class="title">S</span> /<span class="title">E</span> /<span class="title">I</span> /<span class="title">H</span></span></span><br><span class="line"><span class="function">无效的参数数量</span></span><br></pre></td></tr></table></figure><p>可以在路径加双引号</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">XCOPY</span> "D:\source <span class="built_in">dir</span>" D:\newcopy /S /E /I /H</span><br><span class="line"><span class="function">D:\<span class="title">source</span> <span class="title">dir</span>\<span class="title">a.xml</span></span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">source</span> <span class="title">dir</span>\<span class="title">b.xml</span></span></span><br><span class="line"><span class="function"><span class="title">D</span>:\<span class="title">source</span> <span class="title">dir</span>\<span class="title">file.txt</span></span></span><br><span class="line"><span class="function">复制了 3 个文件</span></span><br></pre></td></tr></table></figure><h1 id="copy和xcopy的区别"><a href="#copy和xcopy的区别" class="headerlink" title="copy和xcopy的区别"></a>copy和xcopy的区别</h1><ol><li><p>路径解析<br>用xcopy时，通配符<code>\*</code>会被先转义成<code>*</code>,实际去查找带有<code>*</code>的文件。<br>而用copy时，通配符前不管加几个<code>\</code>都不会被转义。</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">d:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">xcopy</span> .\\<span class="title">hello</span>\*.<span class="title">txt</span> <span class="title">hi</span>\ /<span class="title">Y</span></span></span><br><span class="line"><span class="function"><span class="title">hello</span>\123.<span class="title">txt</span></span></span><br><span class="line"><span class="function"><span class="title">hello</span>\<span class="title">hi.txt</span></span></span><br><span class="line"><span class="function">复制了 2 个文件</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">d</span>:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">xcopy</span> <span class="title">hello</span>\\*.<span class="title">txt</span> <span class="title">hi</span>\ /<span class="title">Y</span></span></span><br><span class="line"><span class="function">找不到文件 - *.<span class="title">txt</span></span></span><br><span class="line"><span class="function">复制了 0 个文件</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">d</span>:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">copy</span> <span class="title">hello</span>\\*.<span class="title">txt</span> <span class="title">hi</span>\ /<span class="title">Y</span></span></span><br><span class="line"><span class="function"><span class="title">hello</span>\\123.<span class="title">txt</span></span></span><br><span class="line"><span class="function"><span class="title">hello</span>\\<span class="title">hi.txt</span></span></span><br><span class="line"><span class="function">已复制         2 个文件。</span></span><br></pre></td></tr></table></figure></li><li><p>文件合并<br>copy有一个文件合并的功能是xcopy所没有的。</p><figure class="highlight bat"><figcaption><span>merge files</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">copy</span> /B file1+file2+file3 mergefile</span><br></pre></td></tr></table></figure><h1 id="ERRORLEVEL"><a href="#ERRORLEVEL" class="headerlink" title="ERRORLEVEL"></a>ERRORLEVEL</h1><p>通过<code>echo %errorlevel%</code>可以检查命令的退出码。</p></li></ol><p>0 文件复制没有错误。<br>1 没有找到要复制的文件。<br>2 用户按 CTRL+C 终止了 xcopy。<br>4 出现了初始化错误。没有足够的内存或磁盘空间，或命令行上输入了无效的驱动器名称或语法。<br>5 出现了磁盘写入错误。</p><p>Reference:</p><figure class="highlight plain"><figcaption><span>help COPY</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">将一份或多份文件复制到另一个位置。</span><br><span class="line"></span><br><span class="line">COPY [&#x2F;D] [&#x2F;V] [&#x2F;N] [&#x2F;Y | &#x2F;-Y] [&#x2F;Z] [&#x2F;L] [&#x2F;A | &#x2F;B ] source [&#x2F;A | &#x2F;B]</span><br><span class="line">     [+ source [&#x2F;A | &#x2F;B] [+ ...]] [destination [&#x2F;A | &#x2F;B]]</span><br><span class="line"></span><br><span class="line">  source       指定要复制的文件。</span><br><span class="line">  &#x2F;A           表示一个 ASCII 文本文件。</span><br><span class="line">  &#x2F;B           表示一个二进位文件。</span><br><span class="line">  &#x2F;D           允许解密要创建的目标文件</span><br><span class="line">  destination  为新文件指定目录和&#x2F;或文件名。</span><br><span class="line">  &#x2F;V           验证新文件写入是否正确。</span><br><span class="line">  &#x2F;N           复制带有非 8dot3 名称的文件时，</span><br><span class="line">               尽可能使用短文件名。</span><br><span class="line">  &#x2F;Y           不使用确认是否要覆盖现有目标文件</span><br><span class="line">               的提示。</span><br><span class="line">  &#x2F;-Y          使用确认是否要覆盖现有目标文件</span><br><span class="line">               的提示。</span><br><span class="line">  &#x2F;Z           用可重新启动模式复制已联网的文件。</span><br><span class="line">  &#x2F;L           如果源是符号链接，请将链接复制</span><br><span class="line">               到目标而不是源链接指向的实际文件。</span><br><span class="line"></span><br><span class="line">命令行开关 &#x2F;Y 可以在 COPYCMD 环境变量中预先设定。</span><br><span class="line">这可能会被命令行上的 &#x2F;-Y 替代。除非 COPY</span><br><span class="line">命令是在一个批处理脚本中执行的，默认值应为</span><br><span class="line">在覆盖时进行提示。</span><br><span class="line"></span><br><span class="line">要附加文件，请为目标指定一个文件，为源指定</span><br><span class="line">数个文件(用通配符或 file1+file2+file3 格式)。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><figcaption><span>help XCOPY</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">复制文件和目录树。</span><br><span class="line"></span><br><span class="line">XCOPY source [destination] [&#x2F;A | &#x2F;M] [&#x2F;D[:date]] [&#x2F;P] [&#x2F;S [&#x2F;E]] [&#x2F;V] [&#x2F;W]</span><br><span class="line">                           [&#x2F;C] [&#x2F;I] [&#x2F;Q] [&#x2F;F] [&#x2F;L] [&#x2F;G] [&#x2F;H] [&#x2F;R] [&#x2F;T] [&#x2F;U]</span><br><span class="line">                           [&#x2F;K] [&#x2F;N] [&#x2F;O] [&#x2F;X] [&#x2F;Y] [&#x2F;-Y] [&#x2F;Z] [&#x2F;B] [&#x2F;J]</span><br><span class="line">                           [&#x2F;EXCLUDE:file1[+file2][+file3]...]</span><br><span class="line"></span><br><span class="line">  source       指定要复制的文件。</span><br><span class="line">  destination  指定新文件的位置和&#x2F;或名称。</span><br><span class="line">  &#x2F;A           仅复制有存档属性集的文件，</span><br><span class="line">               但不更改属性。</span><br><span class="line">  &#x2F;M           仅复制有存档属性集的文件，</span><br><span class="line">               并关闭存档属性。</span><br><span class="line">  &#x2F;D:m-d-y     复制在指定日期或指定日期以后更改的文件。</span><br><span class="line">               如果没有提供日期，只复制那些</span><br><span class="line">               源时间比目标时间新的文件。</span><br><span class="line">  &#x2F;EXCLUDE:file1[+file2][+file3]...</span><br><span class="line">               指定含有字符串的文件列表。每个字符串</span><br><span class="line">               在文件中应位于单独的一行。如果任何</span><br><span class="line">               字符串与复制文件的绝对路径的任何部分相符，</span><br><span class="line">               则排除复制该文件。例如，</span><br><span class="line">               指定如 \obj\ 或 .obj 的字符串会分别</span><br><span class="line">               排除目录 obj 下面的所有文件或带有</span><br><span class="line">               .obj 扩展名的所有文件。</span><br><span class="line">  &#x2F;P           创建每个目标文件之前提示你。</span><br><span class="line">  &#x2F;S           复制目录和子目录，不包括空目录。</span><br><span class="line">  &#x2F;E           复制目录和子目录，包括空目录。</span><br><span class="line">               与 &#x2F;S &#x2F;E 相同。可以用来修改 &#x2F;T。</span><br><span class="line">  &#x2F;V           验证每个新文件的大小。</span><br><span class="line">  &#x2F;W           提示你在复制前按键。</span><br><span class="line">  &#x2F;C           即使有错误，也继续复制。</span><br><span class="line">  &#x2F;I           如果目标不存在，且要复制多个文件，</span><br><span class="line">               则假定目标必须是目录。</span><br><span class="line">  &#x2F;Q           复制时不显示文件名。</span><br><span class="line">  &#x2F;F           复制时显示完整的源文件名和目标文件名。</span><br><span class="line">  &#x2F;L           显示要复制的文件。</span><br><span class="line">  &#x2F;G           允许将加密文件复制到</span><br><span class="line">               不支持加密的目标。</span><br><span class="line">  &#x2F;H           也复制隐藏文件和系统文件。</span><br><span class="line">  &#x2F;R           覆盖只读文件。</span><br><span class="line">  &#x2F;T           创建目录结构，但不复制文件。不</span><br><span class="line">               包括空目录或子目录。&#x2F;T &#x2F;E 包括</span><br><span class="line">               空目录和子目录。</span><br><span class="line">  &#x2F;U           只复制已经存在于目标中的文件。</span><br><span class="line">  &#x2F;K           复制属性。一般的 Xcopy 会重置只读属性。</span><br><span class="line">  &#x2F;N           用生成的短名称复制。</span><br><span class="line">  &#x2F;O           复制文件所有权和 ACL 信息。</span><br><span class="line">  &#x2F;X           复制文件审核设置(隐含 &#x2F;O)。</span><br><span class="line">  &#x2F;Y           取消提示以确认要覆盖</span><br><span class="line">               现有目标文件。</span><br><span class="line">  &#x2F;-Y          要提示以确认要覆盖</span><br><span class="line">               现有目标文件。</span><br><span class="line">  &#x2F;Z           在可重新启动模式下复制网络文件。</span><br><span class="line">  &#x2F;B           复制符号链接本身与链接目标。</span><br><span class="line">  &#x2F;J           复制时不使用缓冲的 I&#x2F;O。推荐复制大文件时使用。</span><br><span class="line"></span><br><span class="line">开关 &#x2F;Y 可以预先在 COPYCMD 环境变量中设置。</span><br><span class="line">这可能被命令行上的 &#x2F;-Y 覆盖。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><figcaption><span>help ROBOCOPY</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><span class="line">-------------------------------------------------------------------------------</span><br><span class="line">   ROBOCOPY     ::     Windows 的可靠文件复制</span><br><span class="line">-------------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">  开始时间: 2016年3月9日 22:40:39</span><br><span class="line">               用法 :: ROBOCOPY source destination [file [file]...] [options]</span><br><span class="line"></span><br><span class="line">                 源 :: 源目录(驱动器:\路径或\\服务器\共享\路径)。</span><br><span class="line">               目标 :: 目标目录(驱动器:\路径或\\服务器\共享\路径)。</span><br><span class="line">               文件 :: 要复制的文件(名称&#x2F;通配符: 默认为 &quot;*.*&quot;)。</span><br><span class="line"></span><br><span class="line">::</span><br><span class="line">:: 复制选项:</span><br><span class="line">::</span><br><span class="line">                 &#x2F;S :: 复制子目录，但不复制空的子目录。</span><br><span class="line">                 &#x2F;E :: 复制子目录，包括空的子目录。</span><br><span class="line">             &#x2F;LEV:n :: 仅复制源目录树的前 n 层。</span><br><span class="line"></span><br><span class="line">                 &#x2F;Z :: 在可重新启动模式下复制文件。</span><br><span class="line">                 &#x2F;B :: 在备份模式下复制文件。</span><br><span class="line">                &#x2F;ZB :: 使用可重新启动模式；如果拒绝访问，请使用备份模式。</span><br><span class="line">                 &#x2F;J :: 复制时使用未缓冲的 I&#x2F;O (推荐在复制大文件时使用)。</span><br><span class="line">            &#x2F;EFSRAW :: 在 EFS RAW 模式下复制所有加密的文件。</span><br><span class="line"></span><br><span class="line">      &#x2F;COPY:复制标记:: 要复制的文件内容(默认为 &#x2F;COPY:DAT)。</span><br><span class="line">                       (复制标记: D&#x3D;数据，A&#x3D;属性，T&#x3D;时间戳)。</span><br><span class="line">                       (S&#x3D;安全&#x3D;NTFS ACL，O&#x3D;所有者信息，U&#x3D;审核信息)。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">               &#x2F;SEC :: 复制具有安全性的文件(等同于 &#x2F;COPY:DATS)。</span><br><span class="line">           &#x2F;COPYALL :: 复制所有文件信息(等同于 &#x2F;COPY:DATSOU)。</span><br><span class="line">            &#x2F;NOCOPY :: 不复制任何文件信息(与 &#x2F;PURGE 一起使用)。</span><br><span class="line">            &#x2F;SECFIX :: 修复所有文件的文件安全性，即使是跳过的文件。</span><br><span class="line">            &#x2F;TIMFIX :: 修复所有文件的文件时间，即使是跳过的文件。</span><br><span class="line"></span><br><span class="line">             &#x2F;PURGE :: 删除源中不再存在的目标文件&#x2F;目录。</span><br><span class="line">               &#x2F;MIR :: 镜像目录树(等同于 &#x2F;E 加 &#x2F;PURGE)。</span><br><span class="line"></span><br><span class="line">               &#x2F;MOV :: 移动文件(复制后从源中删除)。</span><br><span class="line">              &#x2F;MOVE :: 移动文件和目录(复制后从源中删除)。</span><br><span class="line"></span><br><span class="line">     &#x2F;A+:[RASHCNET] :: 将给定的属性添加到复制的文件。</span><br><span class="line">     &#x2F;A-:[RASHCNET] :: 从复制的文件中删除给定的属性。</span><br><span class="line"></span><br><span class="line">            &#x2F;CREATE :: 仅创建目录树和长度为零的文件。</span><br><span class="line">               &#x2F;FAT :: 仅使用 8.3 FAT 文件名创建目标文件。</span><br><span class="line">               &#x2F;256 :: 关闭超长路径(&gt; 256 个字符)支持。</span><br><span class="line"></span><br><span class="line">             &#x2F;MON:n :: 监视源；发现多于 n 个更改时再次运行。</span><br><span class="line">             &#x2F;MOT:m :: 监视源；如果更改，在 m 分钟时间后再次运行。</span><br><span class="line"></span><br><span class="line">      &#x2F;RH:hhmm-hhmm :: 可以启动新的复制时运行的小时数 - 时间。</span><br><span class="line">                &#x2F;PF :: 基于每个文件(而不是每个步骤)来检查运行小时数。</span><br><span class="line"></span><br><span class="line">             &#x2F;IPG:n :: 程序包间的间距(ms)，以释放低速线路上的带宽。</span><br><span class="line"></span><br><span class="line">                &#x2F;SL :: 对照目标复制符号链接。</span><br><span class="line"></span><br><span class="line">            &#x2F;MT[:n] :: 使用 n 个线程进行多线程复制(默认值为 8)。</span><br><span class="line">                       n 必须至少为 1，但不得大于 128。</span><br><span class="line">                       该选项与 &#x2F;IPG 和 &#x2F;EFSRAW 选项不兼容。</span><br><span class="line">                       使用 &#x2F;LOG 选项重定向输出以便获得最佳性能。</span><br><span class="line"></span><br><span class="line"> &#x2F;DCOPY:复制标记:: 要复制的目录内容(默认为 &#x2F;DCOPY:DA)。</span><br><span class="line">                       (复制标记: D&#x3D;数据，A&#x3D;属性，T&#x3D;时间戳)。</span><br><span class="line"></span><br><span class="line">           &#x2F;NODCOPY :: 不复制任何目录信息(默认情况下，执行 &#x2F;DCOPY:DA)。</span><br><span class="line"></span><br><span class="line">         &#x2F;NOOFFLOAD :: 在不使用 Windows 复制卸载机制的情况下复制文件。</span><br><span class="line"></span><br><span class="line">::</span><br><span class="line">:: 文件选择选项:</span><br><span class="line">::</span><br><span class="line">                 &#x2F;A :: 仅复制具有存档属性集的文件。</span><br><span class="line">                 &#x2F;M :: 仅复制具有存档属性的文件并重置存档属性。</span><br><span class="line">    &#x2F;IA:[RASHCNETO] :: 仅包含具有任意给定属性集的文件。</span><br><span class="line">    &#x2F;XA:[RASHCNETO] :: 排除具有任意给定属性集的文件。</span><br><span class="line"></span><br><span class="line">  &#x2F;XF 文件[文件]... :: 排除与给定名称&#x2F;路径&#x2F;通配符匹配的文件。</span><br><span class="line">  &#x2F;XD 目录[目录]... :: 排除与给定名称&#x2F;路径匹配的目录。</span><br><span class="line"></span><br><span class="line">                &#x2F;XC :: 排除已更改的文件。</span><br><span class="line">                &#x2F;XN :: 排除较新的文件。</span><br><span class="line">                &#x2F;XO :: 排除较旧的文件。</span><br><span class="line">                &#x2F;XX :: 排除多余的文件和目录。</span><br><span class="line">                &#x2F;XL :: 排除孤立的文件和目录。</span><br><span class="line">                &#x2F;IS :: 包含相同文件。</span><br><span class="line">                &#x2F;IT :: 包含已调整的文件。</span><br><span class="line"></span><br><span class="line">             &#x2F;MAX:n :: 最大的文件大小 - 排除大于 n 字节的文件。</span><br><span class="line">             &#x2F;MIN:n :: 最小的文件大小 - 排除小于 n 字节的文件。</span><br><span class="line"></span><br><span class="line">          &#x2F;MAXAGE:n :: 最长的文件存在时间 - 排除早于 n 天&#x2F;日期的文件。</span><br><span class="line">          &#x2F;MINAGE:n :: 最短的文件存在时间 - 排除晚于 n 天&#x2F;日期的文件。</span><br><span class="line">          &#x2F;MAXLAD:n :: 最大的最后访问日期 - 排除自 n 以来未使用的文件。</span><br><span class="line">          &#x2F;MINLAD:n :: 最小的最后访问日期 - 排除自 n 以来使用的文件。</span><br><span class="line">                       (If n &lt; 1900 then n &#x3D; n days, else n &#x3D; YYYYMMDD date)。</span><br><span class="line"></span><br><span class="line">                &#x2F;XJ :: 排除接合点。(默认情况下通常包括)。</span><br><span class="line"></span><br><span class="line">               &#x2F;FFT :: 假设 FAT 文件时间(2 秒粒度)。</span><br><span class="line">               &#x2F;DST :: 弥补 1 小时的 DST 时间差。</span><br><span class="line"></span><br><span class="line">               &#x2F;XJD :: 排除目录的接合点。</span><br><span class="line">               &#x2F;XJF :: 排除文件的接合点。</span><br><span class="line"></span><br><span class="line">::</span><br><span class="line">:: 重试选项:</span><br><span class="line">::</span><br><span class="line">               &#x2F;R:n :: 失败副本的重试次数: 默认为 1 百万。</span><br><span class="line">               &#x2F;W:n :: 两次重试间的等待时间: 默认为 30 秒。</span><br><span class="line"></span><br><span class="line">               &#x2F;REG :: 将注册表中的 &#x2F;R:n 和 &#x2F;W:n 保存为默认设置。</span><br><span class="line"></span><br><span class="line">               &#x2F;TBD :: 等待定义共享名称(重试错误 67)。</span><br><span class="line"></span><br><span class="line">::</span><br><span class="line">:: 日志记录选项:</span><br><span class="line">::</span><br><span class="line">                 &#x2F;L :: 仅列出 - 不复制、添加时间戳或删除任何文件。</span><br><span class="line">                 &#x2F;X :: 报告所有多余的文件，而不只是选中的文件。</span><br><span class="line">                 &#x2F;V :: 生成详细输出，同时显示跳过的文件。</span><br><span class="line">                &#x2F;TS :: 在输出中包含源文件的时间戳。</span><br><span class="line">                &#x2F;FP :: 在输出中包含文件的完整路径名称。</span><br><span class="line">             &#x2F;BYTES :: 以字节打印大小。</span><br><span class="line"></span><br><span class="line">                &#x2F;NS :: 无大小 - 不记录文件大小。</span><br><span class="line">                &#x2F;NC :: 无类别 - 不记录文件类别。</span><br><span class="line">               &#x2F;NFL :: 无文件列表 - 不记录文件名。</span><br><span class="line">               &#x2F;NDL :: 无目录列表 - 不记录目录名称。</span><br><span class="line"></span><br><span class="line">                &#x2F;NP :: 无进度 - 不显示已复制的百分比。</span><br><span class="line">               &#x2F;ETA :: 显示复制文件的预期到达时间。</span><br><span class="line"></span><br><span class="line">          &#x2F;LOG:文件 :: 将状态输出到日志文件(覆盖现有日志)。</span><br><span class="line">         &#x2F;LOG+:文件 :: 将状态输出到日志文件(附加到现有日志中)。</span><br><span class="line"></span><br><span class="line">       &#x2F;UNILOG:文件 :: 以 UNICODE 方式将状态输出到日志文件(覆盖现有日志)。</span><br><span class="line">      &#x2F;UNILOG+:文件 :: 以 UNICODE 方式将状态输出到日志文件(附加到现有日志中)。</span><br><span class="line"></span><br><span class="line">               &#x2F;TEE :: 输出到控制台窗口和日志文件。</span><br><span class="line"></span><br><span class="line">               &#x2F;NJH :: 没有作业标头。</span><br><span class="line">               &#x2F;NJS :: 没有作业摘要。</span><br><span class="line"></span><br><span class="line">           &#x2F;UNICODE :: 以 UNICODE 方式输出状态。</span><br><span class="line"></span><br><span class="line">::</span><br><span class="line">:: 作业选项 :</span><br><span class="line">::</span><br><span class="line">      &#x2F;JOB:作业名称 :: 从命名的作业文件中提取参数。</span><br><span class="line">     &#x2F;SAVE:作业名称 :: 将参数保存到命名的作业文件</span><br><span class="line">              &#x2F;QUIT :: 处理命令行后退出(以查看参数)。</span><br><span class="line">              &#x2F;NOSD :: 未指定源目录。</span><br><span class="line">              &#x2F;NODD :: 未指定目标目录。</span><br><span class="line">                &#x2F;IF :: 包含以下文件。</span><br><span class="line"></span><br><span class="line">::</span><br><span class="line">:: 备注:</span><br><span class="line">::</span><br><span class="line">       在卷的根目录上使用 &#x2F;PURGE 或 &#x2F;MIR 将</span><br><span class="line">       导致 robocopy 也对“系统卷信息”目录内的</span><br><span class="line">       文件应用所请求的操作。如果这不是</span><br><span class="line">       预期目的，则可以使用 &#x2F;XD 开关指示 robocopy</span><br><span class="line">       跳过该目录。</span><br></pre></td></tr></table></figure><p>Reference:</p><ol><li><a href="https://en.wikipedia.org/wiki/XCOPY" target="_blank" rel="noopener">XCOPY wiki</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> windows cmd </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cmd </tag>
            
            <tag> copy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Jenkins自动部署hexo到github</title>
      <link href="/2016/03/08/jenkins-auto-deploy-hexo/"/>
      <url>/2016/03/08/jenkins-auto-deploy-hexo/</url>
      
        <content type="html"><![CDATA[<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=369252&auto=0&height=66"></iframe>南方二重唱-细说往事* * *软件开发中有一种称为"持续集成(Continuous Integration)"的方法，其宗旨是团队开发成员可以经常集成软件，进行测试，从而达到小步快进的效果。而持续集成每次都需要构建（包括编译，发布，自动化测试等），如果手动构建会增加很多工作量，于是乎自动化构建应运而生。Jenkins是常用的一种自动化构建工具。我们以部署hexo来说明Jenkins的基本使用方法。<a id="more"></a><ol><li><p>install <a href="www.jenkins-ci.com">Jenkins</a></p></li><li><p>use command <code>java -jar jenkins.war</code> to run jenkins.<br><code>java -Dhudson.util.ProcessTree.disable=true -jar jenkins.war</code>可以禁用杀死线程功能，可以在启动hexo server并保持开启。</p></li><li><p>open web browser, use <code>localhost:8080</code> to open dashboard.</p></li><li><p>creat a item named ‘deploy hexo’.</p></li></ol><img src="/2016/03/08/jenkins-auto-deploy-hexo/jenkins_create_item.png" class=""><ol start="5"><li>configure the item.<br>参数化构建，用不同的参数来实现不同目的的构建。<img src="/2016/03/08/jenkins-auto-deploy-hexo/jenkins_configure_item1.png" class=""></li></ol><img src="/2016/03/08/jenkins-auto-deploy-hexo/jenkins_configure_item2.png" class=""><ol start="6"><li>write script</li></ol><figure class="highlight python"><figcaption><span> jenkins_deploy_hexo</span><a href="/downloads/code/jenkins_hexo/jenkins_deploy_hexo.py">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">""</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">"########################################################################################################"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">""</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">"deploy hexo using Jenkins"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">"author:Wu Chenxu"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">"version:v2.0"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">""</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">"############################################## PARAMETERS  ##############################################"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">""</span></span><br><span class="line">hexo_dir = <span class="string">'D:\快盘\hexo'</span></span><br><span class="line"></span><br><span class="line">par_deploy_type =  os.environ.get(<span class="string">'Deploy_type'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">"Deploy_type:"</span>+par_deploy_type</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">"############################################ hexo generate ##############################################"</span></span><br><span class="line">subprocess.call(<span class="string">'hexo clean'</span>, shell=<span class="keyword">True</span>)</span><br><span class="line">subprocess.call(<span class="string">'hexo g'</span>, shell=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> par_deploy_type == <span class="string">'local'</span>:</span><br><span class="line"><span class="keyword">print</span> <span class="string">"start local server ...."</span></span><br><span class="line">p=subprocess.Popen([<span class="string">"start"</span>, <span class="string">"hexo"</span>, <span class="string">"server"</span>], cwd = unicode(hexo_dir, <span class="string">'utf8'</span>).encode(<span class="string">'mbcs'</span>),shell=<span class="keyword">True</span>)</span><br><span class="line"><span class="keyword">print</span> <span class="string">"start chrome web browser..."</span></span><br><span class="line">subprocess.Popen([<span class="string">"C:\Program Files (x86)\Google\Chrome\Application\chrome.exe"</span>, <span class="string">"http://localhost:4000"</span>], shell=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line"><span class="keyword">print</span> <span class="string">"start to deploy in github ..."</span></span><br><span class="line">subprocess.Popen([<span class="string">'start'</span>, <span class="string">'hexo'</span>, <span class="string">'deploy'</span>], cwd = unicode(hexo_dir, <span class="string">'utf8'</span>).encode(<span class="string">'mbcs'</span>), shell=<span class="keyword">True</span>)</span><br></pre></td></tr></table></figure><ol start="7"><li>build</li></ol><img src="/2016/03/08/jenkins-auto-deploy-hexo/jenkins_build_item.png" class=""><p>Reference:</p><ol><li><a href="http://jenkins-ci.org/" target="_blank" rel="noopener">Jenkins</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> CI </category>
          
          <category> Jenkins </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CI </tag>
            
            <tag> Jenkins </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>防护等级IP代码</title>
      <link href="/2016/03/02/IP-code-degree-of-protection-by-enclosure/"/>
      <url>/2016/03/02/IP-code-degree-of-protection-by-enclosure/</url>
      
        <content type="html"><![CDATA[<img src="/2016/03/02/IP-code-degree-of-protection-by-enclosure/IngressProtection.jpg" class=""><h1 id="防护等级-degree-of-Ingress-Protection"><a href="#防护等级-degree-of-Ingress-Protection" class="headerlink" title="防护等级(degree of Ingress Protection)"></a>防护等级(degree of Ingress Protection)</h1><p>针对电器设备(electrical equipment)的防护等级(degrees of protection provided by the enclosures)，通常记为IPXX，如IP23。<br>有三种防护：</p><ol><li>保护人不接触到器件内部有害零件(protection of persons against access to hazardous parts inside the enclosure)</li><li>防尘(protection of the equipment inside the enclosure against ingress of solid foreign<br>objects)</li><li>防水(protection of the equipment inside the enclosure against harmful effects due to the<br>ingress of water)</li></ol><a id="more"></a><h1 id="记法"><a href="#记法" class="headerlink" title="记法"></a>记法</h1><img src="/2016/03/02/IP-code-degree-of-protection-by-enclosure/arrangement_of_IP_code.png" class="" title="arrangement of IP code"><p>举例：<br>IP45 - 防尘等级4，防水等级5<br>IPX5 - 防水等级5<br>IP4X - 防尘等级4</p><h1 id="IP代码含义"><a href="#IP代码含义" class="headerlink" title="IP代码含义"></a>IP代码含义</h1><img src="/2016/03/02/IP-code-degree-of-protection-by-enclosure/meanings_of_IP_code.png" class=""><h1 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h1><p>这里只说明常见的防水防尘含义，不讨论对人的保护等级含义。</p><h2 id="第1个数字"><a href="#第1个数字" class="headerlink" title="第1个数字"></a>第1个数字</h2><table><thead><tr><th>IP</th><th align="center">防护范围</th><th align="center">说明</th></tr></thead><tbody><tr><td>IP0X</td><td align="center">无防护</td><td align="center">对外界的人或物无特殊的防护</td></tr><tr><td>IP1X</td><td align="center">防止直径大于等于50mm的固体外物侵入</td><td align="center">防止人体（如手掌）因意外而接触到电器内部的零件，防止较大尺寸（直径大于50mm）的外物侵入</td></tr><tr><td>IP2X</td><td align="center">防止直径大于等于等于12.5mm的固体外物侵入</td><td align="center">防止人的手指接触到电器内部的零件，防止中等尺寸（直径大于12.5mm）的外物侵入</td></tr><tr><td>IP3X</td><td align="center">防止直径大于等于2.5mm的固体外物侵入</td><td align="center">防止直径或厚度大于2.5mm的工具、电线及类似的小型外物侵入而接触到电器内部的零件</td></tr><tr><td>IP4X</td><td align="center">防止直径大于等于1.0mm的固体外物侵入</td><td align="center">防止直径或厚度大于1.0mm的工具、电线及类似的小型外物侵入而接触到电器内部的零件</td></tr><tr><td>IP5X</td><td align="center">防止外物及灰尘</td><td align="center">虽不能完全防止灰尘侵入，但灰尘的侵入量不会影响电器的正常运作</td></tr><tr><td>IP6X</td><td align="center">防止外物及灰尘</td><td align="center">完全防止外物及灰尘侵入</td></tr></tbody></table><h2 id="第2个数字"><a href="#第2个数字" class="headerlink" title="第2个数字"></a>第2个数字</h2><table><thead><tr><th>IP</th><th align="center">防护范围</th><th align="center">说明</th></tr></thead><tbody><tr><td>IPX0</td><td align="center">无防护</td><td align="center">对水或湿气无特殊的防护</td></tr><tr><td>IPX1</td><td align="center">防止垂直下落的水滴浸入</td><td align="center">垂直落下的水滴（如凝结水）不会对电器造成损坏</td></tr><tr><td>IPX2</td><td align="center">倾斜15度时，仍可防止垂直下落的水滴浸入</td><td align="center">当电器由垂直倾斜至15度时，滴水不会对电器造成损坏</td></tr><tr><td>IPX3</td><td align="center">防止喷洒(spraying)的水浸入</td><td align="center">防雨或防止与垂直的夹角小于60度的方向所喷洒的水侵入电器而造成损坏</td></tr><tr><td>IPX4</td><td align="center">防止飞溅(splashing)的水浸入</td><td align="center">防止各个方向飞溅而来的水侵入电器而造成损坏</td></tr><tr><td>IPX5</td><td align="center">防止喷射的水(water jets)浸入</td><td align="center">防止来自各个方向由喷嘴射出的水侵入电器而造成损坏</td></tr><tr><td>IPX6</td><td align="center">防止大浪(powerful water jets)浸入</td><td align="center">防止因大浪的侵袭而造成的损坏</td></tr><tr><td>IPX7</td><td align="center">防止短时间浸水(temporary immersion)时水的浸入</td><td align="center">电器浸在水中一定时间或水压在一定的标准以下，可确保不因浸水而造成损坏</td></tr><tr><td>IPX8</td><td align="center">防止长时间浸水(continuous immersion)时水的浸入</td><td align="center">电器长时间沉没在指定的水压下，可确保不因浸水而造成损坏</td></tr><tr><td>IPX9</td><td align="center">防止高压高温浸水时水的浸入</td><td align="center">电器高压高温水浸入下，可确保不因浸水而造成损坏</td></tr></tbody></table><h2 id="附属字母1"><a href="#附属字母1" class="headerlink" title="附属字母1"></a>附属字母1</h2><img src="/2016/03/02/IP-code-degree-of-protection-by-enclosure/addition_letter_1.png" class=""><h2 id="附属字母2"><a href="#附属字母2" class="headerlink" title="附属字母2"></a>附属字母2</h2><img src="/2016/03/02/IP-code-degree-of-protection-by-enclosure/addition_letter_1.png" class=""><p>Reference：</p><ol><li>IEC60529:2013</li><li><a href="https://en.wikipedia.org/wiki/IP_Code" target="_blank" rel="noopener">IP code in wikipedia</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> standard </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IP code </tag>
            
            <tag> IEC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>单元测试中的代码覆盖率(Code Coverage in Unit Test)</title>
      <link href="/2016/03/01/code-coverage-in-unit-test/"/>
      <url>/2016/03/01/code-coverage-in-unit-test/</url>
      
        <content type="html"><![CDATA[<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=404746058&auto=0&height=66"></iframe>徐佳莹-不痛<img src="/2016/03/01/code-coverage-in-unit-test/Tessy_Coverage_viewer.jpg" class=""><h1 id="What-is-code-coverage"><a href="#What-is-code-coverage" class="headerlink" title="What is code coverage"></a>What is code coverage</h1><p>代码覆盖率(code coverage,test coverage)是单元测试(unit test)中的一种度量方法，用来评估测试用例(test case)能够覆盖多少的代码，能够从一定程度上反应代码的质量。可以用公式来表示：<br>Code Coverage=(Number of items excuted)/(Total Number of Items)*100%</p><a id="more"></a><h1 id="how-many-types-of-code-coverage"><a href="#how-many-types-of-code-coverage" class="headerlink" title="how many types of code coverage"></a>how many types of code coverage</h1><h2 id="Function-Coverage"><a href="#Function-Coverage" class="headerlink" title="Function Coverage"></a>Function Coverage</h2><p>用来指示是否所有的函数都被调用过。</p><h2 id="Statement-Coverage-SC-C0"><a href="#Statement-Coverage-SC-C0" class="headerlink" title="Statement Coverage(SC,C0)"></a>Statement Coverage(SC,C0)</h2><p>语句覆盖率(statement coverage，SC)，也称为行覆盖率(line coverage)，反映了语句（汇编级指令或C语言的语句）的执行率。通常记为：C0。</p><figure class="highlight c"><figcaption><span>Code excerpt to illustrate the weakness of statement coverage</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (decision)</span><br><span class="line">&#123;</span><br><span class="line">a = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">a = <span class="number">1</span> / a;</span><br></pre></td></tr></table></figure><p>test case:decision = 1,则所有语句均会执行一次，覆盖率为100%，但是如果decision是’0’,那么执行这段代码出现<code>除0</code>错误。<br>所以，即使是100%的state coverage，也有可能会有严重的bug存在。<br>100%的SC仅仅意味着：所有语句在测试中至少被执行了一次，仅此而已。<br>SC可以用来指示dead code，这些code根本不能被执行；<br>SC可以说明需要增加test case。</p><h2 id="Branch-Coverage-Decision-Coverage-DC-C1"><a href="#Branch-Coverage-Decision-Coverage-DC-C1" class="headerlink" title="Branch Coverage / Decision Coverage (DC,C1)"></a>Branch Coverage / Decision Coverage (DC,C1)</h2><p>定义：是否每个控制结构（如if，case语句）的所有branch都被执行过。<br>同样上一节的代码，decision为’1’的DC只有50%，因为if隐含的else没有被执行过；如果需要达到100%的DC，至少再增加decision为 ‘0’的测试用例。<br>DC包含SC，如果100%的DC则肯定是100%的SC。<br>但如果是50%的DC并不能说明是50%的SC。因为DC是计算decision的分支，如if语句只可能是0%，50%或100%三种覆盖率，无其他可能；而SC是计算语句执行的百分比。<br>有时候100%的Branch Coverage不可能达到。</p><h2 id="Condition-Coverage-CC"><a href="#Condition-Coverage-CC" class="headerlink" title="Condition Coverage(CC)"></a>Condition Coverage(CC)</h2><p>定义：是否每个布尔<code>子表达式</code>都被估值过true和false。</p><figure class="highlight c"><figcaption><span>A decision can be made up of conditions</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ((A||B)&amp;&amp;(C||!D))</span><br></pre></td></tr></table></figure><p><code>(A||B)&amp;&amp;(C||!D)</code>是一个decision，但是由A、B、C和D四个condition(atomic decision)组成。</p><h3 id="Simple-CC"><a href="#Simple-CC" class="headerlink" title="Simple CC"></a>Simple CC</h3><figure class="highlight pascal"><figcaption><span>A code snippet in Pascal and the four possible test cases (complete evaluation)</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">IF</span> A <span class="keyword">AND</span> B <span class="keyword">THEN</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">ELSE</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure><table><thead><tr><th></th><th align="center">A</th><th align="center">B</th><th align="center">A and B</th><th align="center"></th></tr></thead><tbody><tr><td>1</td><td align="center">F</td><td align="center">F</td><td align="center">F</td><td align="center"></td></tr><tr><td>2</td><td align="center">F</td><td align="center">T</td><td align="center">F</td><td align="center">x</td></tr><tr><td>3</td><td align="center">T</td><td align="center">F</td><td align="center">F</td><td align="center">x</td></tr><tr><td>4</td><td align="center">T</td><td align="center">T</td><td align="center">T</td><td align="center"></td></tr></tbody></table><p>由于Pascal逻辑运算没有短路，而是complete evaluation，所以只需要执行test case2和3就能达到Simple CC 100%的覆盖率(A和B都执行过true和false)；但此时DC才达到50%。</p><p>再举一例</p><figure class="highlight c"><figcaption><span>A code snippet in C and the three possible test cases (incomplete evaluation)</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (A &amp;&amp; B)</span><br><span class="line">&#123;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><table><thead><tr><th></th><th align="center">A</th><th align="center">B</th><th align="center">A and B</th><th align="center"></th></tr></thead><tbody><tr><td>1</td><td align="center">F</td><td align="center">-</td><td align="center">F</td><td align="center">x</td></tr><tr><td>2</td><td align="center">T</td><td align="center">F</td><td align="center">F</td><td align="center">x</td></tr><tr><td>3</td><td align="center">T</td><td align="center">T</td><td align="center">T</td><td align="center">x</td></tr></tbody></table><p>C语言有短路运算逻辑表达式的，所以需要3个测试用例才能使A和B都执行过true和false，此时CC和DC都是100%.</p><h3 id="Modified-Condition-Decision-Coverage-MC-DC-MCDC"><a href="#Modified-Condition-Decision-Coverage-MC-DC-MCDC" class="headerlink" title="Modified Condition / Decision Coverage(MC/DC,MCDC)"></a>Modified Condition / Decision Coverage(MC/DC,MCDC)</h3><p>MC/DC=DC+CC+每个condition能独立影响decision的输出结果。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ((a || b) &amp;&amp; c)</span><br></pre></td></tr></table></figure><table><thead><tr><th></th><th align="center">a</th><th align="center">b</th><th align="center">c</th><th align="center">((a or b) and c)</th></tr></thead><tbody><tr><td>1</td><td align="center">F</td><td align="center">F</td><td align="center">F</td><td align="center">F</td></tr><tr><td>2</td><td align="center">F</td><td align="center">F</td><td align="center">T</td><td align="center">F</td></tr><tr><td>3</td><td align="center">F</td><td align="center">T</td><td align="center">F</td><td align="center">F</td></tr><tr><td>4</td><td align="center">F</td><td align="center">T</td><td align="center">T</td><td align="center">T</td></tr><tr><td>5</td><td align="center">T</td><td align="center">F</td><td align="center">F</td><td align="center">F</td></tr><tr><td>6</td><td align="center">T</td><td align="center">F</td><td align="center">T</td><td align="center">T</td></tr><tr><td>7</td><td align="center">T</td><td align="center">T</td><td align="center">F</td><td align="center">F</td></tr><tr><td>8</td><td align="center">T</td><td align="center">T</td><td align="center">T</td><td align="center">T</td></tr></tbody></table><p>Test case 1和8就能够使得DC+CC达到100%。<br>但是1中的’c’，8中国的’b’不能影响desicion的输出结果不能满足MC/DC的标准。<br>以下test case能够满足MC/DC的要求：<br>|     |  a  |  b  |   c  | ((a or b) and c) |<br>|—–|:—:|:—:|:—-:|:—————:|<br>|  2  | <code>F</code> | <code>F</code> |   T  |        F        |<br>|  3  |  F  |  T  |  <code>F</code> |        F        |<br>|  4  |  F  | <code>T</code> |  <code>T</code> |        T        |<br>|  6  | <code>T</code> |  F  |   T  |        T        |</p><p>2与6由a独立影响；2与4由b独立影响；3与4由c独立影响。</p><h3 id="Multiple-Condition-Coverage-MCC"><a href="#Multiple-Condition-Coverage-MCC" class="headerlink" title="Multiple Condition Coverage(MCC)"></a>Multiple Condition Coverage(MCC)</h3><p>MCC要求一个desicion里的所有condition的组合都要被测试到，也就是说test case由conditon的真值表确定。<br>如上一节的例子，需要1到8所有的case来达到100%的MCC。</p><h2 id="Path-Coverage-C4"><a href="#Path-Coverage-C4" class="headerlink" title="Path Coverage(C4)"></a>Path Coverage(C4)</h2><p>路径覆盖率测量所有可能的执行路径中多少路径被执行了。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (a) x <span class="keyword">else</span> y;</span><br><span class="line"><span class="keyword">if</span> (b) z;</span><br></pre></td></tr></table></figure><p>需要4(=2<sup>2</sup>)个test case来达到100%的path coverage。</p><table><thead><tr><th></th><th align="center">a</th><th align="center">b</th><th align="center"></th></tr></thead><tbody><tr><td>1</td><td align="center">F</td><td align="center">F</td><td align="center">x</td></tr><tr><td>2</td><td align="center">F</td><td align="center">T</td><td align="center">x</td></tr><tr><td>3</td><td align="center">T</td><td align="center">F</td><td align="center">x</td></tr><tr><td>4</td><td align="center">T</td><td align="center">T</td><td align="center">x</td></tr></tbody></table><p>path coverage所需的test case随着branch的增多而成指数级增加，特别是有循环的话，基本达到100%的覆盖率是不现实的。</p><h1 id="用处"><a href="#用处" class="headerlink" title="用处"></a>用处</h1><ul><li>一些标准（如：ISO26262 part6）和客户的要求</li><li>帮助发现一些未测试的代码块</li><li>有助于重构</li></ul><h1 id="局限性"><a href="#局限性" class="headerlink" title="局限性"></a>局限性</h1><p>100%的代码覆盖率并不意味着没有bug;<br>代码覆盖率只针对测试的代码，而不是功能规范(functioality specification);<br>不能为了提高测试覆盖率而忽略主要目的是测试代码的行为(代码行为与设计是不是一致)不能因为修改代码的同时需要修改或增加测试用例来满足覆盖率要求，而放弃了对代码的优化。</p><p>Reference:</p><ol><li><a href="http://www.stickyminds.com/sites/default/files/article/file/2013/XUS252268366file1_0.pdf" target="_blank" rel="noopener">Is 100% Code Coverage Enough?</a></li><li><a href="http://blogs.msdn.com/b/billliu/archive/2012/05/06/code-coverage-what-is-for-after-all.aspx" target="_blank" rel="noopener">code coverage, what is for after all?</a></li><li><a href="http://grosser.it/2008/04/04/whats-my-coverage-c0-c1-c2-c3-path-coverage/" target="_blank" rel="noopener">hats my Coverage? (C0 C1 C2 C3 + Path)</a></li><li><a href="https://coding.abel.nu/2015/12/code-coverage-does-matter" target="_blank" rel="noopener">Code Coverage Does Matter</a></li><li><a href="https://en.wikipedia.org/wiki/Code_coverage" target="_blank" rel="noopener">Code Coverage</a></li><li><a href="http://www.bullseye.com/coverage.html" target="_blank" rel="noopener">Code Coverage Analysis</a></li><li><a href="http://martinfowler.com/bliki/TestCoverage.html" target="_blank" rel="noopener">TestCoverage</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> code coverage </category>
          
          <category> unit test </category>
          
      </categories>
      
      
        <tags>
            
            <tag> test </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdown语法对应的CSS实现</title>
      <link href="/2016/01/27/Markdown-inline-css-compare/"/>
      <url>/2016/01/27/Markdown-inline-css-compare/</url>
      
        <content type="html"><![CDATA[<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=32235092&auto=0&height=66"></iframe>林二汶-只怕不够时间看你白头<p>这篇文章是<a href="https://wuchenxu.github.io/2015/12/30/Markdown-html-compare/" target="_blank" rel="noopener">Markdown语法对应的HTML标签实现</a>的延续，一些格式排版除了用HTML标签实现外，也可以使用CSS实现。</p><a id="more"></a><h1 id="CSS的三种写法"><a href="#CSS的三种写法" class="headerlink" title="CSS的三种写法"></a>CSS的三种写法</h1><h2 id="内联式"><a href="#内联式" class="headerlink" title="内联式"></a>内联式</h2><p>当特殊的样式需要应用到个别元素时，就可以使用内联样式。使用内联样式的方法是在相关的标签中使用样式属性。样式属性可以包含任何 CSS 属性。以下实例显示出如何改变段落的颜色和左外边距。</p><figure class="highlight html"><figcaption><span>inline css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"color: red; margin-left: 20px"</span>&gt;</span>This is a paragraph<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="内部式"><a href="#内部式" class="headerlink" title="内部式"></a>内部式</h2><p>当单个文件需要特别样式时，就可以使用内部样式表。可以在 head 部分通过 <code>&lt;style&gt;</code> 标签定义内部样式表。</p><figure class="highlight html"><figcaption><span>internal css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css"><span class="selector-tag">body</span> &#123;<span class="attribute">color</span>: red&#125;</span></span><br><span class="line"><span class="css"><span class="selector-tag">p</span> &#123;<span class="attribute">margin-left</span>: <span class="number">20px</span>&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="外部式"><a href="#外部式" class="headerlink" title="外部式"></a>外部式</h2><p>当样式需要被应用到很多页面的时候，外部样式表将是理想的选择。使用外部样式表，你就可以通过更改一个文件来改变整个站点的外观。</p><figure class="highlight html"><figcaption><span>external css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"mystyle.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="内联式CSS实现markdown语法"><a href="#内联式CSS实现markdown语法" class="headerlink" title="内联式CSS实现markdown语法"></a>内联式CSS实现markdown语法</h1><h2 id="斜体-Italic"><a href="#斜体-Italic" class="headerlink" title="斜体 Italic"></a>斜体 Italic</h2><figure class="highlight html"><figcaption><span>css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"font-style:italic"</span>&gt;</span>这是斜体3<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"font-style:oblique"</span>&gt;</span>这是斜体4<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><p><span style="font-style:italic">这是斜体3</span><br><span style="font-style:oblique">这是斜体4</span></p><figure class="highlight markdown"><figcaption><span>markdown</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="emphasis">*这是斜体1*</span></span><br><span class="line"><span class="emphasis">_这是斜体2_</span></span><br></pre></td></tr></table></figure><p><em>这是斜体1</em><br><em>这是斜体2</em></p><h2 id="粗体-Bold"><a href="#粗体-Bold" class="headerlink" title="粗体 Bold"></a>粗体 Bold</h2><figure class="highlight html"><figcaption><span>css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"font-weight:bold"</span>&gt;</span>这是粗体<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><p><span style="font-weight:bold">这是粗体</span></p><figure class="highlight markdown"><figcaption><span>markdown</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="strong">**这是粗体1**</span></span><br><span class="line"><span class="strong">__这是粗体2__</span></span><br></pre></td></tr></table></figure><p><strong>这是粗体1</strong><br><strong>这是粗体2</strong></p><h2 id="删除线-Strikethrough"><a href="#删除线-Strikethrough" class="headerlink" title="删除线 Strikethrough"></a>删除线 Strikethrough</h2><figure class="highlight html"><figcaption><span>css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"text-decoration:line-through"</span>&gt;</span>我带删除线<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><p><span style="text-decoration:line-through">我带删除线</span></p><figure class="highlight markdown"><figcaption><span>GFM</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~~This is strikethrough,only for GFM.~~</span><br></pre></td></tr></table></figure><p><del>This is strikethrough,only for GFM.</del></p><h2 id="下划线-Underline"><a href="#下划线-Underline" class="headerlink" title="下划线 Underline"></a>下划线 Underline</h2><figure class="highlight html"><figcaption><span>css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"text-decoration:underline"</span>&gt;</span>我带下划线<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><p><span style="text-decoration:underline">我带下划线</span></p><h2 id="上划线-Overline"><a href="#上划线-Overline" class="headerlink" title="上划线 Overline"></a>上划线 Overline</h2><figure class="highlight html"><figcaption><span>css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"text-decoration:overline"</span>&gt;</span>我带上划线<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><p><span style="text-decoration:overline">我带上划线</span></p><h2 id="字体-Font"><a href="#字体-Font" class="headerlink" title="字体 Font"></a>字体 Font</h2><figure class="highlight html"><figcaption><span>css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"font-style:italic;font-variant:small-caps;font-weight:bold;font-size:16px;line-height:100%;font-family:'Microsoft YaHei'"</span>&gt;</span>Hello,微软雅黑体<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"font-size:1em;font-family:SimSun"</span>&gt;</span>Hello,宋体<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"font-size:16px;font-family:KaiTi"</span>&gt;</span>Hello,楷体<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"font-size:2em;font-family:SimHei"</span>&gt;</span>Hello,黑体<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"font: 12px "</span>宋体","<span class="attr">Arial</span> <span class="attr">Narrow</span>",<span class="attr">HELVETICA</span>;"&gt;</span>Hello,腾讯字体格式。<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"font: 12px/1.5 tahoma,arial,'Hiragino Sans GB',\5b8b\4f53,sans-serif;"</span>&gt;</span>Hello,淘宝字体格式。<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"font-family: "</span><span class="attr">Arial</span>","<span class="attr">Microsoft</span> <span class="attr">YaHei</span>","黑体","宋体",<span class="attr">sans-serif</span>;"&gt;</span>Hello,小米字体格式。<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><p><span style="font-style:italic;font-variant:small-caps;font-weight:bold;font-size:16px;line-height:100%;font-family:'Microsoft YaHei'">Hello,微软雅黑体</span><br><span style="font-size:1em;font-family:SimSun">Hello,宋体</span><br><span style="font-size:16px;font-family:KaiTi">Hello,楷体</span><br><span style="font-size:2em;font-family:SimHei">Hello,黑体</span><br>&lt;span style=”font: 12px “宋体”,”Arial Narrow”,HELVETICA;”&gt;Hello,腾讯字体格式。</span><br><span style="font: 12px/1.5 tahoma,arial,'Hiragino Sans GB',\5b8b\4f53,sans-serif;">Hello,淘宝字体格式。</span><br>&lt;span style=”font-family: “Arial”,”Microsoft YaHei”,”黑体”,”宋体”,sans-serif;”&gt;Hello,小米字体格式。</span></p><h2 id="文字阴影"><a href="#文字阴影" class="headerlink" title="文字阴影"></a>文字阴影</h2><p>CSS3才支持的特性</p><figure class="highlight html"><figcaption><span>css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"text-shadow: 5px 5px 5px #00FF00;"</span>&gt;</span>文字阴影<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><p><span style="text-shadow: 5px 5px 5px #00FF00;">文字阴影</span></p><p>Reference:</p><ol><li><a href="http://www.w3school.com.cn/html/html_css.asp" target="_blank" rel="noopener">w3scholl HTML CSS</a></li><li><a href="http://www.w3cn.org/article/tips/2005/103.html" target="_blank" rel="noopener">常用CSS缩写语法总结</a></li><li><a href="http://www.zreading.cn/ican/2014/10/css-font-family/" target="_blank" rel="noopener">CSS,font-family,好看常用的中文字体</a></li><li><a href="http://tool.lu/fontfamily/" target="_blank" rel="noopener">中文字体属性值转换Unicode</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Markdown </category>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>编码字符集</title>
      <link href="/2016/01/21/character-encodings-introduce/"/>
      <url>/2016/01/21/character-encodings-introduce/</url>
      
        <content type="html"><![CDATA[<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=26494130&auto=0&height=66"></iframe>常石磊-老爸<img src="/2016/01/21/character-encodings-introduce/character_encoding_yu.png" class=""><h1 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h1><p>对字符和图形进行编码是为了计算机可以对图形字符信息的处理、交换、存储、传输、显现、输入和输出。</p><a id="more"></a><h1 id="编码种类"><a href="#编码种类" class="headerlink" title="编码种类"></a>编码种类</h1><h2 id="ASCII码"><a href="#ASCII码" class="headerlink" title="ASCII码"></a>ASCII码</h2><p>ASCII(American Standard Code for Information Interchange)码在1950年由美国制定，用00~7F表示英文字符。ASCII是事实上的世界标准，后来的字符集基本都兼容ASCII。</p><img src="/2016/01/21/character-encodings-introduce/ASCII.png" class="" title="ASCII码"><h2 id="ISO-8859-1"><a href="#ISO-8859-1" class="headerlink" title="ISO-8859-1"></a>ISO-8859-1</h2><p>ISO-8859-1(Latin alphabet part 1)编码是单字节编码，向下兼容ASCII，其编码范围是0x00-0xFF，0x00-0x7F之间完全和ASCII一致，0x80-0x9F之间是控制字符，0xA0-0xFF之间是文字符号。<br>此字符集支持部分于欧洲使用的语言。<br>法语及芬兰语本来也使用ISO/IEC 8859-1来表示。但因它没有法语使用的 œ、Œ、Ÿ 三个字母及芬兰语使用的 Š、š、Ž、ž ，故于1998年被ISO/IEC 8859-15所取代。（ISO 8859-15同时加入了欧元符号）。</p><h2 id="GB2312"><a href="#GB2312" class="headerlink" title="GB2312"></a>GB2312</h2><p>为了在计算机表示汉字，对ASCII进行了扩展，由于ASCII一个字节的最高位都是0，为了兼容ASCII码，规定：一个小于127的字符的意义与原来相同，但两个大于127的字符连在一起时，就表示一个汉字，前面的一个字节（高字节）从0xA1用到 0xFE，后面一个字节（低字节）从0xA1到0xFE，这样我们就可以组合出(FE-A1+1)<em>(FE-A1+1)=8836个字符了。在这些编码里，我们还把数学符号、罗马希腊的字母、日文的假名们都编进去了，连在 ASCII码里本来就有的数字、标点、字母都统统重新编了两个字节长的编码，这就是常说的“全角”字符，而原来在127号以下的那些就叫“半角”字符了。 这种汉字方案叫做 “GB2312“。GB2312全称为《信息交换用汉字编码字符集》，由中国国家标准总局1980年发布，1981年5月1日开始实施的一套国家标准，标准号是GB2312—1980。GB2312 是对 ASCII 的中文扩展。<br>GB2312-1980一共收录了7445个字符，包括6763个汉字和682个其它符号，覆盖了99.75%的常用简体汉子。GB2312编码范围：A1A1－FEFE，其中汉字编码范围：B0A1-F7FE。汉字区的内码范围高字节从B0-F7，低字节从A1-FE，占用的码位是72</em>94=6768。其中有5个空位是D7FA-D7FE。<br>GB2312虽然已经由兼容它的GBK和GB18020取代，但是还是被广泛使用。</p><blockquote><p>凡是GB开头的国标都是强制标准，GB/T 是推荐标准，不强制使用。</p></blockquote><h2 id="BIG5"><a href="#BIG5" class="headerlink" title="BIG5"></a>BIG5</h2><p>BIG5是在港澳台地区广泛使用的繁体汉字字符集，俗称“大五码”，其由5家台湾公司共同开发，所有叫BIG5。<br>1983年10月，台湾国家科学委员会、教育部国语推行委员会、中央标准局、行政院共同制定了《通用汉字标准交换码》，后经修订于1992年5月公布，更名为《中文标准交换码》，BIG5是台湾资讯工业策进会根据以上标准制定的编码方案。2003年，Big5被收录到台湾官方标准的附录当中，取得了较正式的地位。这个最新版本被称为Big5-2003。<br>BIG5是双字符编码，两个字节表示一个汉字。高位字节使用81-FE，低位字节使用40-7E，A1-FE。<br>BIG-5 码收录13468个符号和汉字，符号408个，汉字13060个，分为常用字和次常用字两部分，各部分中的汉字按照笔画/部首排列。其中：常用字5401个，次常用字7659。</p><h2 id="GBK"><a href="#GBK" class="headerlink" title="GBK"></a>GBK</h2><p>GB2312-1980仅收汉字6763个，这大大少于现有汉字，随着时间推移及汉字文化的不断延伸推广，有些原来很少用的字，现在变成了常用字，例如：朱镕基的“镕”字，未收入GB2312-80，现在大陆的报业出刊只得使用（金+容）、（金容）、（左金右容）等来表示，形式不一而同，这使得表示、存储、输入、处理都非常不方便，对于搜索引擎等软件的构造来说也不是好消息，而且这种表示没有统一标准。<br>为了解决这些问题，以及配合UNICODE的实施，全国信息技术化技术委员会于1995年12月1日《汉字内码扩展规范》。GB即“国标”，K是“扩展”的汉语拼音第一个字母。 GBK向下与GB2312 完全兼容，向上支持ISO 10646国际标准，在前者向后者过渡过程中起到的承上启下的作用。GBK 亦采用双字节表示，总体编码范围为8140-FEFE之间，首字节在81-FE之间，尾字节在40-FE(不要求大于127)之间，剔除XX7F一条线。</p><p>GBK共收入21886个汉字和图形符号，包括：</p><ul><li>GB2312中的全部汉字、非汉字符号。</li><li>BIG5中的全部汉字。</li><li>与ISO 10646相应的国家标准GB13000中的其它CJK汉字，以上合计20902个汉字。</li><li>其它汉字、部首、符号，共计984个。</li></ul><p>微软公司自Windows 95 简体中文版开始支持GBK。</p><p>GBK编码区分三部分：</p><ul><li>汉字区　包括<br>GBK/2：OXBOA1-F7FE, 收录GB2312汉字6763个，按原序排列；<br>GBK/3：OX8140-AOFE，收录CJK汉字6080个；<br>GBK/4：OXAA40-FEAO，收录CJK汉字和增补的汉字8160个。</li><li>图形符号区　包括<br>GBK/1：OXA1A1-A9FE，除GB2312的符号外，还增补了其它符号<br>GBK/5：OXA840-A9AO，扩除非汉字区。</li><li>用户自定义区<br>即GBK区域中的空白区，用户可以自己定义字符。</li></ul><blockquote><p>CJK:中日韩统一表意文字（CJK Unified Ideographs），目的是要把分别来自中文、日文、韩文、越文中，本质、意义相同、形状一样或稍异的表意文字（主要为汉字，但也有仿汉字如日本国字、韩国独有汉字、越南的喃字）于ISO 10646及Unicode标准内赋予相同编码。CJK 是中文（Chinese）、日文（Japanese）、韩文（Korean）三国文字的缩写。</p></blockquote><h2 id="GB18030"><a href="#GB18030" class="headerlink" title="GB18030"></a>GB18030</h2><p>GB18030 是最新的汉字编码字符集国家标准, 向下兼容 GBK 和 GB2312 标准，增加了对少数民族文字（如藏、蒙古、傣、彝、朝鲜、维吾尔文等）的支持。 GB18030 编码是一二四字节变长编码。一字节部分从 0x0<del>0x7F 与 ASCII 编码兼容。 二字节部分, 首字节从 0x81</del>0xFE, 尾字节从 0x40<del>0x7E 以及 0x80</del>0xFE, 与 GBK标准<code>基本兼容</code>。 四字节部分, 第一字节从 0x81<del>0xFE, 第二字节从 0x30</del>0x39, 第三和第四字节的范围和前两个字节分别相同。 四字节部分覆盖了从 0x0080 开始, 除去二字节部分已经覆盖的所有 Unicode 3.1 码位。也就是说, GB18030 编码在码位空间上做到了与 Unicode 标准一一对应,这一点与 UTF-8 编码类似。<br>GB18030有两个版本：GB18030-2000和GB18030-2005。GB18030-2000是GBK的取代版本，它的主要特点是在GBK基础上增加了CJK统一汉字扩充A的汉字。GB18030-2005的主要特点是在GB18030-2000基础上增加了CJK统一汉字扩充B的汉字。<br>Windows XP开始原生支持GB18030.<br>从ASCII、GB2312、 GBK到GB18030，这些编码方法是向下兼容的，即同一个字符在这些方案中总是有相同的编码，后面的标准支持更多的字符。在这些编码中，英文和中文可以统一地处理。区分中文编码的方法是高字节的最高位不为0。</p><h2 id="windows-1251"><a href="#windows-1251" class="headerlink" title="windows-1251"></a>windows-1251</h2><p>windows-1251是一种8位字符编码，设计包括使用西里尔脚本语言如俄语、保加利亚语、塞尔维亚斯拉夫语和其他语言。它是最广泛用于编码的保加利亚，塞尔维亚语和马其顿语。</p><h2 id="Shift-JIS"><a href="#Shift-JIS" class="headerlink" title="Shift JIS"></a>Shift JIS</h2><p>Shift JIS(Shift Japanese Industrial Standards, SJIS)是一个日本电脑系统常用的编码表。它能容纳全角及半角拉丁字母、平假名、片假名、符号及日语汉字。<br>它被命名为Shift_JIS的原因，是它在放置全角字符时，要避开原本在0xA1-0xDF放置的半角假名字符。使用单字节或者双字节表示字符。</p><h2 id="Unicode"><a href="#Unicode" class="headerlink" title="Unicode"></a>Unicode</h2><p>Unicode 是基于国际标准化组织（International Organization for Standardization，简称ISO）所制定的 ISO/IEC 10646 ，即通用字符集（Universal Character Set，简称 UCS）的标准来发展，在1991年首次以书本的形式（The Unicode Standard）对外发布。最新版本的Unicode包含了超过120000个字符(超过了2个字节能表示的范围)，覆盖了129中现代及古代语言。<br>Unicode给每个字符提供了一个唯一的数字,表示为U+xxxxxx，成为code point。<br>如<code>宇</code>的code point是U+5B87。</p><img src="/2016/01/21/character-encodings-introduce/CJK_Unicode.png" class=""><p>Unicode只是一种抽象的表示形式，就像漂浮在空中一样，最终在使用的时候要有一种表现形式，如我们表示成5B87，那么我们可不可以表示成875B呢？技术上，当然是可以的，这时一个叫做 BOM(Byte Order Mark)的东西诞生了，我们记录在文件的开头，来标记是否需要交换字节顺序。</p><h3 id="UTF-16"><a href="#UTF-16" class="headerlink" title="UTF-16"></a>UTF-16</h3><p>UTF-16 (16-bit Unicode Transformation Format) 可以编码所以的Unicode，是一种变长编码形式，每个code point被编码成一个或者两个16位的双字节数。<br>UTF-16中的所有ASCII码，都是多了一个00字节。<br>UTF-16 是从16位定长的编码UCS-2（定长的2字节UCS字符集）发展未来，由于一个2字节定长的编码不够表示所有的字符，UCS-2已经被废弃。</p><p>U+0000<del>U+D7FF以及U+E000</del>U+FFFF编码是16位的code point；<br>U+D800<del>U+DFFF保留，不使用；<br>U+10000</del>U+10FFFF采用算法转换成两个16位编码：<br>先减去0x010000得到一个20位的数，然后分成高10位和低10位两个数，高10位加0xD800，低10位加0xDC00.</p><img src="/2016/01/21/character-encodings-introduce/utf-16BE_windows.png" class="" title="UTF-16BE"><p>Windows API，Java，JavaScript使用UTF-16.</p><h3 id="UTF-8"><a href="#UTF-8" class="headerlink" title="UTF-8"></a>UTF-8</h3><p>UTF-8可以编码所有的unicode，由Ken Thompson（Unix、C的发明者之一）于1992年创建,采用变长编码形式，可以单字节向下兼容ASCII码，可以避免字节序，所以不必使用BOM。<br>UTF-8是主流的万维网编码方式，2016年1月统计大约有<a href="http://w3techs.com/technologies/history_overview/character_encoding/ms/y" target="_blank" rel="noopener">86%</a>的网页使用UTF-8。<br>转换表如下：</p><table><thead><tr><th align="center">Bits of code point</th><th align="center">First code point</th><th align="center">Last code point</th><th align="center">Bytes in sequence</th><th align="center">Byte 1</th><th align="center">Byte 2</th><th align="center">Byte 3</th><th align="center">Byte 4</th><th align="center">Byte 5</th><th align="center">Byte 6</th></tr></thead><tbody><tr><td align="center">7</td><td align="center">U+0000</td><td align="center">U+007F</td><td align="center">1</td><td align="center"><code>0xxxxxxx</code></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">11</td><td align="center">U+0080</td><td align="center">U+07FF</td><td align="center">2</td><td align="center"><code>110xxxxx</code></td><td align="center"><code>10xxxxxx</code></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">16</td><td align="center">U+0800</td><td align="center">U+FFFF</td><td align="center">3</td><td align="center"><code>1110xxxx</code></td><td align="center"><code>10xxxxxx</code></td><td align="center"><code>10xxxxxx</code></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">21</td><td align="center">U+10000</td><td align="center">U+1FFFFF</td><td align="center">4</td><td align="center"><code>11110xxx</code></td><td align="center"><code>10xxxxxx</code></td><td align="center"><code>10xxxxxx</code></td><td align="center"><code>10xxxxxx</code></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">26</td><td align="center">U+200000</td><td align="center">U+3FFFFFF</td><td align="center">5</td><td align="center"><code>111110xx</code></td><td align="center"><code>10xxxxxx</code></td><td align="center"><code>10xxxxxx</code></td><td align="center"><code>10xxxxxx</code></td><td align="center"><code>10xxxxxx</code></td><td align="center"></td></tr><tr><td align="center">31</td><td align="center">U+4000000</td><td align="center">U+7FFFFFFF</td><td align="center">6</td><td align="center"><code>1111110x</code></td><td align="center"><code>10xxxxxx</code></td><td align="center"><code>10xxxxxx</code></td><td align="center"><code>10xxxxxx</code></td><td align="center"><code>10xxxxxx</code></td><td align="center"><code>10xxxxxx</code></td></tr></tbody></table><p>UTF-8的优点是与ASCII码完全兼容，没有字节序问题，但是表示汉字需要3个字节。</p><img src="/2016/01/21/character-encodings-introduce/utf-8_with_BOM_windows.png" class="" title="UTF-8 w&#x2F; BOM"><h3 id="UTF-32"><a href="#UTF-32" class="headerlink" title="UTF-32"></a>UTF-32</h3><p>UTF-32采用定长编码形式，unicode的每个code point对应1个32bit的数。简单粗暴，占空间大。<br>Python使用UTF-32.</p><h3 id="BOM-Byte-Order-Mark"><a href="#BOM-Byte-Order-Mark" class="headerlink" title="BOM(Byte Order Mark)"></a>BOM(Byte Order Mark)</h3><p>UTF-8以字节为编码单元，没有字节序的问题。UTF-16以两个字节为编码单元，在解释一个UTF-16文本前，首先要弄清楚每个编码单元的字 节序。例如“奎”的Unicode编码是594E，“乙”的Unicode编码是4E59。如果我们收到UTF-16字节流“594E”，那么这是“奎” 还是“乙”？<br>Unicode规范中推荐的标记字节顺序的方法是BOM。BOM是一个有点小把戏的做法：<br>在Unicode中有一个叫做“ZERO WIDTH NO-BREAK SPACE”的字符，它的编码是U+FEFF。<br>而FFFE在Unicode中是不存在的字符，所以不应该出现在实际传输中。Unicode规范建议我们在传输字节流前，先传输字符”ZERO WIDTH NO-BREAK SPACE”。<br>这样如果接收者收到FEFF，就表明这个字节流是Big-Endian的；如果收到FFFE，就表明这个字节流是Little-Endian的。因此字符”ZERO WIDTH NO-BREAK SPACE”又被称作BOM。<br>UTF-8不需要BOM来表明字节顺序，但可以用BOM来表明编码方式。字符”ZERO WIDTH NO-BREAK SPACE”的UTF-8编码是EF BB BF。所以如果接收者收到以EF BB BF开头的字节流，就知道这是UTF-8编码了。<br>Windows就是使用BOM来标记文本文件的编码方式的。<br>UTF编码　║　Byte Order Mark 　　<br>UTF-8　  ║　EF BB BF 　　<br>UTF-16LE ║　FF FE 　　<br>UTF-16BE ║　FE FF 　　<br>UTF-32LE ║　FF FE 00 00 　　<br>UTF-32BE ║　00 00 FE FF</p><h1 id="MBCS"><a href="#MBCS" class="headerlink" title="MBCS"></a>MBCS</h1><p>MBCS（Multi-Byte Chactacter System（Set)）多字节字符系统或者字符集，对一个字符的表示实际上无法确定他需要占用几个字节的，只<br>能从编码本身来区分和解释。因此计算机在存储的时候，就是采用多字节存储的形式。也就是你需要几个字节我给你放<br>几个字节，比如A我给你放一个字节，比如”中“，我就给你放两个字节，这样的字符表示形式就是MBCS。<br>在基于GBK的windows中，不会超过2个字节，所以windows这种表示形式有叫做DBCS（Double-Byte Chactacter System），其实算是MBCS的一个特例。</p><h1 id="tranform-between-unicode-and-character-using-Python"><a href="#tranform-between-unicode-and-character-using-Python" class="headerlink" title="tranform between unicode and character using Python"></a>tranform between unicode and character using Python</h1><p>Python字符的内部编码是原生支持unicode的，python2内部使用utf-8来存储字符串。</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">          encode         decode</span><br><span class="line">unicode-----&gt;-----str-------&gt;-------unicode   </span><br><span class="line">```       </span><br><span class="line"></span><br><span class="line">```python character -&gt; unicode</span><br><span class="line">sys.getfilesystemencoding()    <span class="comment">#mbcs #windows charset</span></span><br><span class="line">type(<span class="string">'宇'</span>)                     <span class="comment">#str</span></span><br><span class="line">type(<span class="string">u'宇'</span>)                    <span class="comment">#unicode</span></span><br><span class="line">str(<span class="string">'宇'</span>)                      <span class="comment">#'\xe5\xae\x87'</span></span><br><span class="line">str(<span class="string">u'宇'</span>)                     <span class="comment">#UnicodeEncodeError: 'ascii' codec can't encode character u'\u5b87' in position 0: ordinal not in range(128)</span></span><br><span class="line">hex(ord(<span class="string">u'宇'</span>))                <span class="comment">#'0x5b87'</span></span><br><span class="line"><span class="string">'宇'</span>.decode(<span class="string">'unicode-escape'</span>)  <span class="comment">#u'\xe5\xae\x87'     #Python internal use utf-8 </span></span><br><span class="line"><span class="string">u'宇'</span>.encode(<span class="string">'unicode-escape'</span>) <span class="comment">#'\\u5b87'</span></span><br><span class="line"><span class="string">u'宇'</span>.encode(<span class="string">'utf-8'</span>)          <span class="comment">#'\xe5\xae\x87'</span></span><br><span class="line"><span class="string">u'\u5b87'</span>.encode(<span class="string">'utf-8'</span>)      <span class="comment">#'\xe5\xae\x87'</span></span><br><span class="line"><span class="string">u'宇'</span>.encode(<span class="string">'utf-16'</span>)         <span class="comment">#'\xff\xfe\x87['     #0xfffe is BOM '[' is 0x5b，little endian</span></span><br><span class="line"><span class="string">u'宇'</span>.encode(<span class="string">'utf-16-le'</span>)      <span class="comment">#'\x87['</span></span><br><span class="line"><span class="string">u'宇'</span>.encode(<span class="string">'utf-16-be'</span>)      <span class="comment">#'[\x87'</span></span><br><span class="line"><span class="string">u'宇'</span>.encode(<span class="string">'gb2312'</span>)         <span class="comment">#'\xd3\xee'</span></span><br><span class="line"><span class="string">u'宇'</span>.encode(<span class="string">'gbk'</span>)            <span class="comment">#'\xd3\xee'</span></span><br><span class="line"><span class="string">u'宇'</span>.encode(<span class="string">'big5'</span>)           <span class="comment">#'\xa6t'            #'t'=0x74</span></span><br><span class="line"><span class="string">u'宇'</span>.encode(<span class="string">'mbcs'</span>)           <span class="comment">#'\xd3\xee'         #windows use gb2312 compatible charset</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><figcaption><span>unicode -> character</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">print</span> unichr(<span class="number">0x5b87</span>)                                    <span class="comment">#宇</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">u'\u5b87'</span>                                         <span class="comment">#宇</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> <span class="string">b'\xE5\xAE\x87'</span>.decode(<span class="string">'utf-8'</span>)                   <span class="comment">#宇</span></span><br><span class="line"><span class="keyword">print</span> bytearray([<span class="number">0x87</span>, <span class="number">0x5b</span>]).decode(<span class="string">'utf-16-le'</span>)       <span class="comment">#宇</span></span><br><span class="line"><span class="keyword">print</span> bytearray([<span class="number">0x5b</span>, <span class="number">0x87</span>]).decode(<span class="string">'utf-16-be'</span>)       <span class="comment">#宇</span></span><br><span class="line"><span class="keyword">print</span> bytearray([<span class="number">0xd3</span>, <span class="number">0xee</span>]).decode(<span class="string">'gb2312'</span>)          <span class="comment">#宇</span></span><br></pre></td></tr></table></figure><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>中文网页基本上使用GBK或者UTF-8.<br>英文网页基本使用UTF-8.<br>中文windows 10 默认支持GBK。<br>一些OS和编程语言的API使用UTF-16或者UTF-32.<br>windows下winhex或者notepad++可以转换文件存储的编码格式。</p><p>Reference:</p><ol><li><a href="https://en.wikipedia.org/wiki/ASCII" target="_blank" rel="noopener">ASCII</a></li><li><a href="http://dengo.org/archives/901" target="_blank" rel="noopener">ASCII、Unicode、GBK和UTF-8字符编码的区别联系</a></li><li><a href="http://www.qqxiuzi.cn/bianma/zifuji.php" target="_blank" rel="noopener">汉字字符集编码查询</a></li><li><a href="https://en.wikipedia.org/wiki/GB_2312" target="_blank" rel="noopener">GB2312</a></li><li><a href="https://en.wikipedia.org/wiki/Big5" target="_blank" rel="noopener">BIG-5</a></li><li><a href="http://blog.csdn.net/liujinchengjx/article/details/1527909" target="_blank" rel="noopener">中文字符编码简介 GB2312/GBK/GB18030/BIG5</a></li><li><a href="https://en.wikipedia.org/wiki/GB_18030" target="_blank" rel="noopener">GB18030</a></li><li><a href="https://en.wikipedia.org/wiki/Windows-1251" target="_blank" rel="noopener">Windows-1251</a></li><li><a href="http://www.unicode.org/" target="_blank" rel="noopener">Unicode</a></li><li><a href="http://www.joelonsoftware.com/articles/Unicode.html" target="_blank" rel="noopener">The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)</a></li><li><a href="https://en.wikipedia.org/wiki/UTF-8" target="_blank" rel="noopener">UTF-8</a></li><li><a href="http://blog.csdn.net/alpslzy/article/details/8605459" target="_blank" rel="noopener">UTF与BOM之间的关系</a></li><li><a href="http://legacy.python.org/dev/peps/pep-0100/" target="_blank" rel="noopener">Python Unicode Integration</a></li><li><a href="https://docs.python.org/2/library/codecs.html#standard-encodings" target="_blank" rel="noopener">Standard Encodings in Python</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> charset </category>
          
          <category> encoding </category>
          
      </categories>
      
      
        <tags>
            
            <tag> encoding </tag>
            
            <tag> unicode </tag>
            
            <tag> charset </tag>
            
            <tag> GB2312 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python获取网页编码</title>
      <link href="/2016/01/14/charset-of-website/"/>
      <url>/2016/01/14/charset-of-website/</url>
      
        <content type="html"><![CDATA[<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=306662&auto=0&height=66"></iframe>徐佳莹-失落沙洲<img src="/2016/01/14/charset-of-website/chrome_view_web_source.png" class=""><a id="more"></a><h1 id="不同网页选择不同编码形式"><a href="#不同网页选择不同编码形式" class="headerlink" title="不同网页选择不同编码形式"></a>不同网页选择不同编码形式</h1><p>我们将字符的集合成为字符集(char set)，为了让计算机能存储、传输并显示字符，需要给字符集以编码。<br>由于历史的原因字符集的编码形式有多种。<br>如：ASCII码只能表示一些英文字符(7bit)；GBK/GB2312用两个字节表示中文；UTF-16用2个或者4个字节表示一个字符；UTF-8用变长形式表示unicode,兼容ASCII，英文只需要1个字节表示，而中文则需用三个字节表示。<br>不同的网站可能会使用不同的编码字符集，如UTF-8虽然完美兼容ASCII，而且俨然是网页编码的主流选择，但是每个中文字符字节数是GBK/GB2312的1.5倍，网站传输过程中的流量也就是1.5倍，所以一些中文网站还是选用GBK/GB2312字符集。</p><h1 id="怎么获取网页字符集"><a href="#怎么获取网页字符集" class="headerlink" title="怎么获取网页字符集"></a>怎么获取网页字符集</h1><h2 id="web-server-response-header"><a href="#web-server-response-header" class="headerlink" title="web server response header"></a>web server response header</h2><p>对网页而言，第一种方法是web server在HTML page之前返回一个类似于<code>Content-Type: text/html; charset=utf-8</code>的http header，这个header作为response header返回而不是网页的一部分。<br>但是如果网站由很多网页组成，而且不同的网页由使用不同的语言的用户贡献上传，那么web server不知道每个文件的真实编码集。</p><h2 id="Content-Type-of-HTML"><a href="#Content-Type-of-HTML" class="headerlink" title="Content-Type of HTML"></a>Content-Type of HTML</h2><p>第二种方法是在HTML文件中直接写入Content-Type来指定charset。<br>这里有个<code>鸡生蛋蛋生鸡</code>的问题，你怎么能在不知道HTML文件编码方式的情况下来读取文件呢？<br>幸运的是，基本上几乎所有的字符集从32到127的字符都是一样的，也就是兼容ASCII码。所以我们可以用ASCII来写HTML页面的tag来指定charset：</p><figure class="highlight html"><figcaption><span>html header</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=gb2312"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>我们必须将这段<head>tag放在HTML最开始的地方，因为只要浏览器读取到这个tag，会停止分析网页并用指定的编码集重新解析整个网页。</p><h2 id="web-brower-guessing"><a href="#web-brower-guessing" class="headerlink" title="web brower guessing"></a>web brower guessing</h2><p>如果浏览器没有找到<code>Content-Type</code>怎么办？<br>浏览器会基于不同语言常用字符集的高词频编码来猜测字符集。<br>当然猜测就会有猜错的几率，如果猜错了，我们可以手动改变浏览器的编码（如Chrome，在<code>更多工具</code>-&gt;<code>编码</code>里可以修改编码）。</p><h1 id="Python获取网页编码"><a href="#Python获取网页编码" class="headerlink" title="Python获取网页编码"></a>Python获取网页编码</h1><p>用三种不同的方法获取网页编码。</p><figure class="highlight python"><figcaption><span> get_website_charset</span><a href="/downloads/code/get_website_charset/get_website_charset.py">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#encoding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> urllib2</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> zlib</span><br><span class="line"><span class="comment">#http://pypi.python.org/pypi/chardet</span></span><br><span class="line"><span class="keyword">import</span> chardet</span><br><span class="line"><span class="keyword">from</span> chardet.universaldetector <span class="keyword">import</span> UniversalDetector  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">__author__ = <span class="string">'wu_chenxu@126.com'</span></span><br><span class="line">__version__ = <span class="string">'0.1'</span></span><br><span class="line"></span><br><span class="line">urls = [<span class="string">'http://www.163.com.cn'</span>,</span><br><span class="line"><span class="string">'http://www.sohu.com'</span>,</span><br><span class="line"><span class="string">'http://www.qq.com'</span>,</span><br><span class="line"><span class="string">'http://www.sina.com.cn'</span>,</span><br><span class="line"><span class="string">'http://www.baidu.com'</span>,</span><br><span class="line"><span class="string">'http://www.renren.com'</span>,</span><br><span class="line"><span class="string">'http://www.iqiyi.com'</span>,</span><br><span class="line"><span class="string">'http://www.taobao.com'</span>,</span><br><span class="line"><span class="string">'http://www.jd.com'</span>,</span><br><span class="line"><span class="string">'http://www.tweeter.com'</span>,</span><br><span class="line"><span class="string">'http://www.gov.hk/'</span>,</span><br><span class="line"><span class="string">'http://www.naver.com'</span>,</span><br><span class="line"><span class="string">'http://www.rakuten.co.jp/'</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">chardetect</span><span class="params">(html)</span>:</span></span><br><span class="line"><span class="comment">#create a new detector object</span></span><br><span class="line">detector = UniversalDetector()  </span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> html.split(<span class="string">'\n'</span>):  </span><br><span class="line"><span class="comment">#test in blocks until reach to limit  </span></span><br><span class="line">detector.feed(line)  </span><br><span class="line"><span class="keyword">if</span> detector.done: <span class="keyword">break</span>  </span><br><span class="line"><span class="comment">#close detector object</span></span><br><span class="line">detector.close()  </span><br><span class="line"><span class="comment">#output detect result </span></span><br><span class="line"><span class="keyword">return</span> detector.result  </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_charset</span><span class="params">(url)</span>:</span></span><br><span class="line">request = urllib2.Request(url)</span><br><span class="line"><span class="comment">#request for gzip file</span></span><br><span class="line">request.add_header(<span class="string">'Accept-encoding'</span>, <span class="string">'gzip'</span>)</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">opener = urllib2.build_opener()</span><br><span class="line">response = opener.open(request, timeout=<span class="number">10</span>)</span><br><span class="line">html = response.read()</span><br><span class="line"><span class="keyword">print</span> <span class="string">'URL:'</span>, url</span><br><span class="line">raw_headers = response.headers</span><br><span class="line"><span class="comment">#print raw_headers</span></span><br><span class="line"><span class="comment">#norm_header=dict(zip(map(lambda x:x.lower(), raw_headers.keys()),raw_headers.values()))</span></span><br><span class="line"><span class="comment">#print norm_header</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#1.get the charset from response header</span></span><br><span class="line">contentType = raw_headers.get(<span class="string">'Content-Type'</span>)</span><br><span class="line"></span><br><span class="line">matchObj = re.search(<span class="string">'charset=(.*)'</span>, contentType)</span><br><span class="line"><span class="keyword">print</span> <span class="string">'response header: '</span>,</span><br><span class="line"><span class="keyword">if</span> matchObj:</span><br><span class="line"><span class="keyword">print</span> matchObj.group(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line"><span class="keyword">print</span> <span class="string">'None'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#1.1 unzip the html if needed</span></span><br><span class="line">gzipped = raw_headers.get(<span class="string">'Content-Encoding'</span>)</span><br><span class="line"><span class="keyword">if</span> gzipped:</span><br><span class="line">html = zlib.decompress(html, <span class="number">16</span>+zlib.MAX_WBITS)</span><br><span class="line"></span><br><span class="line"><span class="comment">#2. get charset from html page header</span></span><br><span class="line">matchObj = re.search(<span class="string">'charset=([^ \t\n\r\f\v/&gt;]*)'</span>, html[<span class="number">0</span>:<span class="number">1024</span>])</span><br><span class="line"><span class="keyword">print</span> <span class="string">'html     header: '</span>,</span><br><span class="line"><span class="keyword">if</span> matchObj:</span><br><span class="line"><span class="keyword">print</span> matchObj.group(<span class="number">1</span>).replace(<span class="string">'"'</span>,<span class="string">''</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line"><span class="keyword">print</span> <span class="string">'None'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#3. get charset by guessing the page content</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">'chardet analysis: '</span>+chardetect(html[<span class="number">0</span>:<span class="number">10</span>*<span class="number">1024</span>]).get(<span class="string">'encoding'</span>)</span><br><span class="line"><span class="comment">#4. print the first 10 bytes of html</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">":"</span>.join(<span class="string">"{:02x}"</span>.format(ord(c)) <span class="keyword">for</span> c <span class="keyword">in</span> html[<span class="number">0</span>:<span class="number">20</span>])</span><br><span class="line"><span class="keyword">print</span> <span class="string">" "</span>.join( c <span class="keyword">for</span> c <span class="keyword">in</span> html[<span class="number">0</span>:<span class="number">20</span>])</span><br><span class="line"><span class="comment">#print convert2sysEncode(html[0:1024])</span></span><br><span class="line"><span class="keyword">except</span> Exception,e:  </span><br><span class="line"><span class="keyword">print</span> url,<span class="string">':'</span>,Exception,<span class="string">":"</span>,e</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">convert2sysEncode</span><span class="params">(data)</span>:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">convert the data content  to system charset</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">sysEncode = sys.getfilesystemencoding()</span><br><span class="line">dataEncode = chardet.detect(data).get(<span class="string">'encoding'</span>, <span class="string">'utf-8'</span>)</span><br><span class="line">dataConvert2sysEncode = data.decode(dataEncode, <span class="string">'ignore'</span>).encode(sysEncode)</span><br><span class="line"><span class="keyword">return</span> dataConvert2sysEncode</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line"><span class="keyword">print</span> <span class="string">"system charset:"</span>, sys.getfilesystemencoding()</span><br><span class="line"><span class="keyword">for</span> url <span class="keyword">in</span> urls:</span><br><span class="line">get_charset(url)</span><br><span class="line"><span class="keyword">print</span></span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">system charset: mbcs</span><br><span class="line">URL: http:<span class="comment">//www.163.com.cn</span></span><br><span class="line">response header:  UTF<span class="number">-8</span></span><br><span class="line">html     header:  UTF<span class="number">-8</span></span><br><span class="line">chardet analysis: UTF<span class="number">-8</span>-SIG</span><br><span class="line">ef:bb:bf:<span class="number">0</span>a:<span class="number">3</span>c:<span class="number">21</span>:<span class="number">44</span>:<span class="number">4f</span>:<span class="number">43</span>:<span class="number">54</span>:<span class="number">59</span>:<span class="number">50</span>:<span class="number">45</span>:<span class="number">20</span>:<span class="number">68</span>:<span class="number">74</span>:<span class="number">6</span>d:<span class="number">6</span>c:<span class="number">3</span>e:<span class="number">0</span>a</span><br><span class="line">???</span><br><span class="line"> &lt; ! D O C T Y P E   h t m l &gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">URL: http:<span class="comment">//www.sohu.com</span></span><br><span class="line">response header:  None</span><br><span class="line">html     header:  GBK</span><br><span class="line">chardet analysis: GB2312</span><br><span class="line"><span class="number">3</span>c:<span class="number">21</span>:<span class="number">44</span>:<span class="number">4f</span>:<span class="number">43</span>:<span class="number">54</span>:<span class="number">59</span>:<span class="number">50</span>:<span class="number">45</span>:<span class="number">20</span>:<span class="number">68</span>:<span class="number">74</span>:<span class="number">6</span>d:<span class="number">6</span>c:<span class="number">20</span>:<span class="number">50</span>:<span class="number">55</span>:<span class="number">42</span>:<span class="number">4</span>c:<span class="number">49</span></span><br><span class="line">&lt; ! D O C T Y P E   h t m l   P U B L I</span><br></pre></td></tr></table></figure><p>可以看到结果有些站点的response是空值。<br>大部分网站采用的UTF-8编码，一些网站如qq、sohu、163、jd用的是GBK/GB2312，而日本乐天网站用的是EUC-JP编码。</p><h1 id="网页字符集统计"><a href="#网页字符集统计" class="headerlink" title="网页字符集统计"></a>网页字符集统计</h1><p>通过<a href="http://w3techs.com/technologies/history_overview/character_encoding/ms/y" target="_blank" rel="noopener">Historical yearly trends in the usage of character encodings for websites</a>这个网页可以看到UTF-8是网页编码无可争议的绝对主导地位。<br>在2016年1月23号，我们看到排在前列的编码字符集是：UTF-8(86.2%) ISO-8859-1(6.8%) Windows-1251(1.9%) Shift JIS(1.1%) Windows-1252(1.0%) GB2312(0.9%)…</p><img src="/2016/01/14/charset-of-website/Historical_yearly_trends_in_the_usage_of_character_encodings_for_websites.png" class="" title="website encoding trend"><p>Reference:</p><ol><li><a href="http://www.joelonsoftware.com/articles/Unicode.html" target="_blank" rel="noopener">The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)</a></li><li><a href="http://www.zhxl.me/1409.html" target="_blank" rel="noopener">使用 python urllib2 抓取网页时出现乱码的解决方案</a></li><li><a href="http://blog.csdn.net/wisha1989/article/details/19010539" target="_blank" rel="noopener">用Python抓网页的注意事项</a></li><li><a href="http://blog.csdn.net/aqwd2008/article/details/7506007" target="_blank" rel="noopener">python 模块 chardet下载方法及介绍</a></li><li><a href="http://www.qkankan.com/" target="_blank" rel="noopener">国外网站大全</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
          <category> encoding </category>
          
      </categories>
      
      
        <tags>
            
            <tag> encoding </tag>
            
            <tag> unicode </tag>
            
            <tag> python </tag>
            
            <tag> charset </tag>
            
            <tag> html </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>汽车电池</title>
      <link href="/2016/01/07/Automative-lead-acid-battery-charging-voltage/"/>
      <url>/2016/01/07/Automative-lead-acid-battery-charging-voltage/</url>
      
        <content type="html"><![CDATA[<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=208951&auto=0&height=66"></iframe>曹芳-遇见我<img src="/2016/01/07/Automative-lead-acid-battery-charging-voltage/automative_battery.jpg" class=""><p>本文涉及的电池指可重复充、放电的铅酸蓄电池(Lead Acid Battery)。</p><a id="more"></a><h1 id="词源"><a href="#词源" class="headerlink" title="词源"></a>词源</h1><p>The word “battery” comes from the Old French word baterie, meaning “action of beating” relating to a group of cannons in battle. In the endeavor to find an energy storage device, scientists in the 1700s adopted the term battery to represent multiple electrochemical cells.<br>Battery 这个词来自法语<code>Batteries</code>,最初的意思是<code>action of beating</code>，表示战斗中的加农炮。1700年代，科学家借用来表示可以存储能量的电化学装置。</p><h1 id="汽车供电"><a href="#汽车供电" class="headerlink" title="汽车供电"></a>汽车供电</h1><h2 id="发电机"><a href="#发电机" class="headerlink" title="发电机"></a>发电机</h2><p>当用电设备所需电流I<sub>V</sub>小于发电机电流I<sub>G</sub>时，发电机输出电流就会有一部分作为充电电流I<sub>B</sub>给蓄电池充电。整车电气系统的电压随之上升，趋向于发电机调节器设定的电压值。</p><p><code>发电机的额定电流</code>是发电机转速为6000 r/min时发电机能长期提供的电流。</p><p>对电压敏感的对小功率用电设备应靠近蓄电池端布置；对电压不敏感的较大功率用设备应靠近近发电机端布置。</p><h2 id="整车电流要求"><a href="#整车电流要求" class="headerlink" title="整车电流要求"></a>整车电流要求</h2><p>起动车辆时，蓄电池的负载电流很高，可达300~500A。此时的压降会对某些用电设备造成负面影响，因此应尽可能减小车辆起动时整车电气系统的压降。而车辆行驶时，蓄电池的负载电流较小整车电气系统的电压能够维持在一个较高水平。</p><p>10<del>50mA 发动机/发电机停机状态下，整车电气系统的用电设备，如时钟、防盗报警装置或无线控制中央闭锁装置等<br>20</del>70A  发动机怠速工况或车辆低速行驶<br>300A    发动机启动过程要求持续0.3~3s<br>1000A   发动机启动过程峰值电流</p><h1 id="起动蓄电池"><a href="#起动蓄电池" class="headerlink" title="起动蓄电池"></a>起动蓄电池</h1><h2 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h2><p>起动蓄电池是整车电气系统中的电能存储装置。其主要功能是：</p><ol><li>随时为起动机提供电能。</li><li>某些工况下，如怠速工况或发动机停机工况，发电机提供的电能不能满足整车电气系统的用电需求时，应该能补充不足的部分。</li><li>抑制整车电气系统中的电压峰值效应，以保护对电压峰值效应敏感的电子部件和用电设备，如白炽灯、半导体器件等。</li></ol><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>环境温度低时，发动机启动对蓄电池电流大小和持续时间的需求会明显提高，数值约为正常情况下的2倍。<br>12V蓄电池由6个单体电池串联而成；正极板的活性物质是多孔质的二氧化铅(PbO<sub>2</sub>，深棕色)，负极板上是多孔海绵状的纯铅(Pb,灰绿色金属)；外壳是聚丙烯。</p><p>BMS能够借助蓄电池参数(SOC/SOH/SOF等)优化充电电压，并在蓄电池性能退化时采取减少整车电气系统的负载(关闭用电设备) 和/或 增加加发电功率（如提供发动机怠速转速）的措施。</p><h2 id="安全"><a href="#安全" class="headerlink" title="安全"></a>安全</h2><p>蓄电池系统必须设有气体排出装置，保证有害物质不会进入车内空间，而是被导入诸如车身的一根横梁中。此外，每个单电池或每个模块均装有过压阀，且排气口应被导出驾驶室。</p><h2 id="冷却"><a href="#冷却" class="headerlink" title="冷却"></a>冷却</h2><p>蓄电池的冷却有多种形式。其中一种形式是通过空调设备进行冷却；另一种是采用车厢内的空气对蓄电池进行冷却；还可以采用冷却液对蓄电池进行冷却。</p><h2 id="低温"><a href="#低温" class="headerlink" title="低温"></a>低温</h2><p>当温度过低时，蓄电池系统的功率能力同样受到限制，此时需要对电池进行额外的加热。</p><p>一个充满电、电解液浓度为1.28kg/L的蓄电池，其电解液的冷凝点为-68<del>-60°C；放完电，电解液浓度为1.04kg/L的蓄电池，其电解液的冷凝点为-11</del>-3°C；环境温度很低时，电解液可能会凝固。<br>蓄电池的电解液为冷凝状态时，只能提供很小的电流，不能用于起动。<br>当蓄电池的电解液冷凝时，不可对其充电，因为充电时凝固电解液溶解而膨胀过快，有可能导致蓄电池壳发生破裂。因此，充电前必须解冻电解液。</p><h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><ol><li><p>额定电压<br>2*6V=12V</p></li><li><p>开路电压(OCV)和静止电压<br>只有等静止电压稳定之后，其值才可以用来估算蓄电池的荷电状态(SOC),而这个稳定过程可能需要若干天。</p></li><li><p>内阻<br>在持续放电、低温(电解液浓度将增加)的情况下，蓄电池内阻将增大。</p></li><li><p>端电压<br>低温或荷电状态差时，待负载的蓄电池的端电压将下降。</p></li><li><p>气化电压<br>气化电压指某一个电压值，当蓄电池的充电电压超过该值时，蓄电池内将有气化现象发生。<br>对完全免维护蓄电池来说，0°C以下时，最高充电电压为16V，而30°C以上时为13.5V。<br>低温将影响电池的可充电性，因此低温时必须提高充电电压。高温和高电压将加剧蓄电池的水损耗和腐蚀（特别是腐蚀），因此高温时要选用较低的充电电压。</p></li><li><p>容量<br>可放电容量与放电电流I<sub>E</sub>有关。在规定的放电终止电压下，放电电流越大，可放电容量越小。</p><ol><li>可用容量K<br>可用容量K是蓄电池在一定条件下可放出的电量，用电流大小与时间的乘积来计量，单位为安时(A*h)。<br>蓄电池的容量主要由选用的活性物质和电解液决定的。</li><li>额定容量K<sub>20</sub><br>规定启动蓄电池以20h连续放电至端电压降到10.5V时输出的电量为额定容量K<sub>20</sub>。<br>按照EN 50342，这些电量以一个固定电流值I<sub>20</sub>,在环境温蒂25°C(+-2°C)下放电20h，放电之放电终止电压10.5.<br>I<sub>20</sub>=K<sub>20</sub>/20<br>举例，一个新的44Ah电池以2.2A的电流放电，至少放电20h，才能到10.5V。</li></ol></li><li><p>低温测试电流I<sub>cc</sub><br>低温测试电流表示蓄电池在低温下的放电能力。按照EN 50342标准，环境温度为-18°C时，蓄电池以I<sub>cc</sub>放电10s后，最低端电压须不小于7.5V（1.25V/cell)。</p></li><li><p>SOH(State Of Health)健康状态<br>按照IEEE1188标准(针对VRLA)，当电池使用一段时间后，电池充满电时的容量低于电池额定容量的80%后，电池就应该被更换。根据这个标准，可以为SOH进行如下定义：在某一条件下电池可放出容量与新电池额定容量的比值<br>SOH=Q<sub>now</sub>/Q<sub>new</sub>*100%<br>Q<sub>now</sub>表示在当前的条件下，电池可以释放出的最大容量，Q<sub>new</sub>表示新电池的额定容量.</p></li><li><p>SOC(State Of Charge)荷电状态<br>SOC用来表征电池的剩余容量。<br>从电量角度：<br>SOC=Q<sub>C</sub>/Q<sub>I</sub>=1-Q/Q<sub>I</sub><br>其中，Q<sub>C</sub>为电池剩余电量<br>Q<sub>I</sub>为电池以恒定电流I放电时所具有的容量<br>Q为电池已经释放的电量。<br>从能量角度<br>SOC=W<sub>Remainder</sub>/W<sub>Initial</sub>=1-W<sub>Discharge</sub>/W<sub>Initial</sub><br>其中，W<sub>Remainder</sub>为电池剩余电能，W<sub>Discharge</sub>为已经释放的电能，W<sub>Initial</sub>为电池的初始电能。<br>SOC估算方法：</p></li></ol><table><thead><tr><th align="center">SOC估算方法</th><th align="center">优点</th><th align="center">缺点</th></tr></thead><tbody><tr><td align="center">放电实验法</td><td align="center">准确可靠</td><td align="center">时间长，电池需脱机</td></tr><tr><td align="center">开路电压法</td><td align="center">计算简单</td><td align="center">需要长时间静置</td></tr><tr><td align="center">安时计量法</td><td align="center">测量简单</td><td align="center">需要有起始点</td></tr><tr><td align="center">线性模型法</td><td align="center">模型简单</td><td align="center">不够准确</td></tr><tr><td align="center">内阻法</td><td align="center">电池放电后期，精度好</td><td align="center">需要准确的电池模型</td></tr><tr><td align="center">卡尔曼滤波法</td><td align="center">非线性模型</td><td align="center">复杂</td></tr><tr><td align="center">神经网络法</td><td align="center">精度高</td><td align="center">需要大量的训练数据</td></tr><tr><td align="center">电解液浓度法</td><td align="center">精度高</td><td align="center">复杂</td></tr></tbody></table><h2 id="充电"><a href="#充电" class="headerlink" title="充电"></a>充电</h2><img src="/2016/01/07/Automative-lead-acid-battery-charging-voltage/charge_states_of_lead_acid_battery.jpg" class=""><p>The correct setting of the charge voltage limit is critical and ranges from 2.30V to 2.45V per cell. Setting the voltage threshold is a compromise, and battery experts refer to this as “dancing on the head of a needle.” On one hand, the battery wants to be fully charged to get maximum capacity and avoid sulfation on the negative plate; on the other hand, an over-saturated condition causes grid corrosion on the positive plate and induces gassing.</p><p>The temperature changes the voltage and this makes “dancing on the head of a needle” even more difficult. To get a complete charge and prevent overcharging, warmer temperature requires a slightly lower voltage threshold and colder temperature prefers a higher setting. Chargers exposed to temperature fluctuations should include temperature sensors to adjust the charge voltage for optimum charge efficiency.</p><p>The charge temperature coefficient of a lead acid cell is -3mV/°C. Establishing 25°C (77°F) as the midpoint, the charge voltage should be reduced by 3mV per cell for every degree above 25°C and increased by 3mV per cell for every degree below 25°C. If this is not possible, it is better to choose a lower voltage for safety reasons.</p><img src="/2016/01/07/Automative-lead-acid-battery-charging-voltage/runbatt.jpg" class=""><p>To charge the battery, the alternator voltage output has to exceed a minimum charging voltage. This minimum charging voltage is 13.8 volts dc across the battery terminals, or at the output of the alternator. A single lead-acid cell starts to charge at anything over 2.25 volts. Since a 12 volt battery has six cells, any 12 volt lead-acid battery needs at least 13.8 volts to start to charge. This voltage will be enough to fully charge or maintain the battery on a trickle charge, but charging time will be very long at 13.8 volts.</p><p>To fully charge in reasonable times, alternator output  must be 14.2 V to 14.5 V as measured right across the battery posts. Above 14.5 volts charging voltage, batteries have a greatly increased tendency to release excessive acidic vapors, hydrogen gas, and to corrode things around the battery. The battery terminal charging voltage must be less than 14.7 volts to prevent excessive gassing. Charging voltages over 14.7 volts can prematurely dry the battery by boiling out electrolyte, and increase risk of a battery hydrogen gas explosion.</p><h1 id="名词缩写"><a href="#名词缩写" class="headerlink" title="名词缩写"></a>名词缩写</h1><p>Generator 发电机<br>Alternator 交流发电机<br>Starter 起动机/马达<br>BMS(Battery Management System)电池管理系统<br>VRLA(Valve Regulated Lead Acid) 阀控式密封铅酸蓄电池<br>SOC(State Of Charge)电池荷电状态<br>SOH(State Of Heath)电池寿命状态<br>SOF(State Of Function)电池功能状态<br>OCV(Open Circuit Voltage)开路电压<br>electrode 电极<br>electrolyte 电解液<br>ion 离子<br>Lead Acid 铅酸<br>nickel 镍<br>lithium-ion(Li-ion) 锂离子<br>battery pack 电池组<br>battery cell 单体电池</p><p>Reference:</p><ol><li>《BOSCH汽车电气与电子》/(德)Reif,K.主编；孙泽昌译.-2版。北京理工大学出版社，2014.8 (ISBN 978-7-9005-0)</li><li><a href="http://batteryuniversity.com/learn/article/charging_the_lead_acid_battery" target="_blank" rel="noopener">Charging Lead Acid</a></li><li><a href="http://www.w8ji.com/battery_and_charging_system.htm" target="_blank" rel="noopener">Test Your Charging and Electrical System</a></li><li><a href="http://www.amazon.com/Batteries-Portable-World-Rechargeable-Non-Engineers/dp/0968211836" target="_blank" rel="noopener">Batteries in a Portable World: A Handbook on Rechargeable Batteries for Non-engineers</a></li><li><a href="https://www.zhihu.com/question/24778938" target="_blank" rel="noopener">为什么电动汽车电池不能精确显示剩余电量？</a></li><li><a href="http://www.doc88.com/p-0876893178293.html" target="_blank" rel="noopener">IEEE-1188:2005</a></li><li><a href="http://wenku.baidu.com/view/706aa9a44afe04a1b071de6a.html" target="_blank" rel="noopener">电池SOC估算策略研究</a></li><li><a href="http://wenku.baidu.com/view/ce1f2de09b6648d7c0c74656.html" target="_blank" rel="noopener">动力电池的SOC估算</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Automotive </category>
          
          <category> Battery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Automotive </tag>
            
            <tag> Battery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdown语法对应的HTML标签实现</title>
      <link href="/2015/12/30/Markdown-html-compare/"/>
      <url>/2015/12/30/Markdown-html-compare/</url>
      
        <content type="html"><![CDATA[<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=28793502&auto=0&height=66"></iframe>邓紫棋-后会无期<p>最近学习HTML，这篇文章记录，用<a href="https://wuchenxu.com/2015/11/19/markdown-usage/" target="_blank" rel="noopener">Markdown</a>和HTML语法，来实现同一种标记。一方面来巩固HTML的语法，一方面来通过对比感受一下Markdown的简洁。<br>HTML(Hyper Text Markup Language)超文本标记语言，是万维网的基础，静态网页都是用HTML语言写就；Markdown也是一种标记语言，Markdown兼容HTML，但挑选了一些常用的语法比HTML更简单，Markdown只是一种书写语言，最终呈现在网页上的还是转换成HTML格式的。</p><a id="more"></a><h1 id="标题-Headline"><a href="#标题-Headline" class="headerlink" title="标题 Headline"></a>标题 Headline</h1><p>一共支持六级标题</p><figure class="highlight html"><figcaption><span>html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span> 一级标题 <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span> 二级标题 <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span> 三级标题 <span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br></pre></td></tr></table></figure><h1> 一级标题 </h1><h2> 二级标题 </h2><h3> 三级标题 </h3><figure class="highlight markdown"><figcaption><span>markdown</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 一级标题</span></span><br><span class="line"><span class="section">## 二级标题</span></span><br><span class="line"><span class="section">### 三级标题</span></span><br></pre></td></tr></table></figure># 一级标题## 二级标题### 三级标题<h1 id="文字格式"><a href="#文字格式" class="headerlink" title="文字格式"></a>文字格式</h1><h2 id="斜体-Italic"><a href="#斜体-Italic" class="headerlink" title="斜体 Italic"></a>斜体 Italic</h2><figure class="highlight html"><figcaption><span>html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">em</span>&gt;</span> 这是斜体1 <span class="tag">&lt;/<span class="name">em</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span>&gt;</span> 这是斜体2 <span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br></pre></td></tr></table></figure><p><em> 这是斜体1 </em><br><i> 这是斜体2 </i></p><figure class="highlight markdown"><figcaption><span>markdown</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="emphasis">*这是斜体1*</span></span><br><span class="line"><span class="emphasis">_这是斜体2_</span></span><br></pre></td></tr></table></figure><p><em>这是斜体1</em><br><em>这是斜体2</em></p><h2 id="粗体-Bold"><a href="#粗体-Bold" class="headerlink" title="粗体 Bold"></a>粗体 Bold</h2><figure class="highlight html"><figcaption><span>html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">strong</span>&gt;</span>这是粗体1<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">b</span>&gt;</span>这是粗体2<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>这是粗体1</strong><br><b>这是粗体2</b></p><figure class="highlight markdown"><figcaption><span>markdown</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="strong">**这是粗体1**</span></span><br><span class="line"><span class="strong">__这是粗体2__</span></span><br></pre></td></tr></table></figure><p><strong>这是粗体1</strong><br><strong>这是粗体2</strong></p><h2 id="引用-Quote"><a href="#引用-Quote" class="headerlink" title="引用 Quote"></a>引用 Quote</h2><figure class="highlight html"><figcaption><span>html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">q</span>&gt;</span>李商隐说:<span class="tag">&lt;<span class="name">q</span>&gt;</span>庄生晓梦迷蝴蝶。望帝春心托杜鹃。<span class="tag">&lt;/<span class="name">q</span>&gt;</span><span class="tag">&lt;/<span class="name">q</span>&gt;</span></span><br></pre></td></tr></table></figure><p><q>李商隐说:<q>庄生晓梦迷蝴蝶。望帝春心托杜鹃。</q></q></p><figure class="highlight html"><figcaption><span>html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">blockquote</span>&gt;</span>李商隐说:<span class="tag">&lt;<span class="name">blockquote</span>&gt;</span>庄生晓梦迷蝴蝶。望帝春心托杜鹃。<span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span><span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote>李商隐说:<blockquote>庄生晓梦迷蝴蝶。望帝春心托杜鹃。</blockquote></blockquote><figure class="highlight markdown"><figcaption><span>markdown</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="quote">&gt; 李商隐说:</span></span><br><span class="line">&gt;&gt; 庄生晓梦迷蝴蝶。望帝春心托杜鹃。</span><br></pre></td></tr></table></figure><blockquote><p>李商隐说:</p><blockquote><p>庄生晓梦迷蝴蝶。望帝春心托杜鹃。</p></blockquote></blockquote><h2 id="删除线-Strikethrough"><a href="#删除线-Strikethrough" class="headerlink" title="删除线 Strikethrough"></a>删除线 Strikethrough</h2><figure class="highlight html"><figcaption><span>html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">del</span>&gt;</span>This is strikethrough 1.<span class="tag">&lt;/<span class="name">del</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">s</span>&gt;</span>This is strikethrough 2.<span class="tag">&lt;/<span class="name">s</span>&gt;</span></span><br></pre></td></tr></table></figure><p><del>This is strikethrough 1.</del><br><s>This is strikethrough 2.</s></p><figure class="highlight markdown"><figcaption><span>GFM</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~~This is strikethrough,only for GFM.~~</span><br></pre></td></tr></table></figure><p><del>This is strikethrough,only for GFM.</del></p><h2 id="下划线-Underline"><a href="#下划线-Underline" class="headerlink" title="下划线 Underline"></a>下划线 Underline</h2><figure class="highlight html"><figcaption><span>html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ins</span>&gt;</span>我带下划线1.<span class="tag">&lt;/<span class="name">ins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">u</span>&gt;</span>我带下划线2.<span class="tag">&lt;/<span class="name">u</span>&gt;</span></span><br></pre></td></tr></table></figure><p><ins>我带下划线1.</ins><br><u>我带下划线2.</u></p><h2 id="上下标"><a href="#上下标" class="headerlink" title="上下标"></a>上下标</h2><figure class="highlight html"><figcaption><span>html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">下标：H<span class="tag">&lt;<span class="name">sub</span>&gt;</span>2<span class="tag">&lt;/<span class="name">sub</span>&gt;</span>O</span><br><span class="line">上标：E=mc<span class="tag">&lt;<span class="name">sup</span>&gt;</span>2<span class="tag">&lt;/<span class="name">sup</span>&gt;</span></span><br></pre></td></tr></table></figure><p>下标：H<sub>2</sub>O<br>上标：E=mc<sup>2</sup></p><h2 id="字体"><a href="#字体" class="headerlink" title="字体"></a>字体</h2><figure class="highlight html"><figcaption><span>html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">font</span> <span class="attr">size</span>=<span class="string">"3"</span> <span class="attr">color</span>=<span class="string">"red"</span> <span class="attr">face</span>=<span class="string">"KaiTi"</span>&gt;</span>hello,个性化的格式。<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br></pre></td></tr></table></figure><p><font size="3" color="red" face="KaiTi">hello,个性化的格式。</font></p><h2 id="代码-Code"><a href="#代码-Code" class="headerlink" title="代码 Code"></a>代码 Code</h2><h3 id="单行代码"><a href="#单行代码" class="headerlink" title="单行代码"></a>单行代码</h3><figure class="highlight html"><figcaption><span>html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">code</span>&gt;</span>var i=10;<span class="tag">&lt;/<span class="name">code</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>var i=10;</code></p><figure class="highlight markdown"><figcaption><span>markdown</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">`var i=10;`</span></span><br></pre></td></tr></table></figure><p><code>var i=10;</code></p><h3 id="多行代码"><a href="#多行代码" class="headerlink" title="多行代码"></a>多行代码</h3><figure class="highlight html"><figcaption><span>html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">pre</span>&gt;</span></span><br><span class="line">if (isOK)</span><br><span class="line">&#123;</span><br><span class="line">return true;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br></pre></td></tr></table></figure><pre>if (isOK){return true;}</pre><blockquote><p>```c<br> if (isOK)<br> {<br>     return true;<br> }<br>```</p></blockquote><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (isOK)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="水平横线"><a href="#水平横线" class="headerlink" title="水平横线"></a>水平横线</h1><figure class="highlight html"><figcaption><span>html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br></pre></td></tr></table></figure><hr /><figure class="highlight markdown"><figcaption><span>markdown</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">我是分割线</span><br><span class="line"><span class="emphasis">***</span></span><br></pre></td></tr></table></figure><hr><p>我是分割线</p><hr><h1 id="列表-List"><a href="#列表-List" class="headerlink" title="列表 List"></a>列表 List</h1><h2 id="无序列表-Unordered-List"><a href="#无序列表-Unordered-List" class="headerlink" title="无序列表 Unordered List"></a>无序列表 Unordered List</h2><figure class="highlight html"><figcaption><span>ul-li标签</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Coffee<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Tea<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Milk<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><ul>  <li>Coffee</li><li>Tea</li><li>Milk</li></ul><figure class="highlight markdown"><figcaption><span>markdown</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">* </span>Coffee</span><br><span class="line"><span class="bullet">* </span>Tea</span><br><span class="line"><span class="bullet">* </span>Milk</span><br></pre></td></tr></table></figure><ul><li>Coffee</li><li>Tea</li><li>Milk</li></ul><h2 id="有序列表-Ordered-List"><a href="#有序列表-Ordered-List" class="headerlink" title="有序列表 Ordered List"></a>有序列表 Ordered List</h2><figure class="highlight html"><figcaption><span>ol-li标签</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span> <span class="attr">start</span>=<span class="string">2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Coffee<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Tea<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Milk<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start=2>  <li>Coffee</li><li>Tea</li><li>Milk</li></ol><figure class="highlight markdown"><figcaption><span>markdown</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">2. </span>Coffee</span><br><span class="line"><span class="bullet">3. </span>Tea</span><br><span class="line"><span class="bullet">4. </span>Milk</span><br></pre></td></tr></table></figure><ol start="2"><li>Coffee</li><li>Tea</li><li>Milk</li></ol><h1 id="链接-Link"><a href="#链接-Link" class="headerlink" title="链接 Link"></a>链接 Link</h1><h2 id="文字"><a href="#文字" class="headerlink" title="文字"></a>文字</h2><figure class="highlight html"><figcaption><span>html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://wuchenxu.com"</span>&gt;</span>chenxu's blog<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p><a href="https://wuchenxu.com" target="_blank" rel="noopener">chenxu’s blog</a></p><figure class="highlight markdown"><figcaption><span>markdown</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">chenxu's blog</span>](<span class="link">wuchenxu.com</span>)</span><br></pre></td></tr></table></figure><p><a href="wuchenxu.com">chenxu’s blog</a></p><h2 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h2><figure class="highlight html"><figcaption><span>html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://github.com/images/modules/contact/heartocat.png"</span>  <span class="attr">alt</span>=<span class="string">"github"</span> <span class="attr">width</span>=<span class="string">"50"</span> <span class="attr">height</span>=<span class="string">"50"</span> /&gt;</span></span><br></pre></td></tr></table></figure><img src="https://github.com/images/modules/contact/heartocat.png"  alt="github" width="50" height="50" />html支持图片高度、宽度等属性的设置，markdown暂不支持此类属性的设置。<figure class="highlight markdown"><figcaption><span>markdown</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">github</span>](<span class="link">https://github.com/images/modules/contact/heartocat.png</span>)</span><br></pre></td></tr></table></figure>![github](https://github.com/images/modules/contact/heartocat.png)<h2 id="图片嵌入链接"><a href="#图片嵌入链接" class="headerlink" title="图片嵌入链接"></a>图片嵌入链接</h2><figure class="highlight html"><figcaption><span>html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://wuchenxu.com"</span>&gt;</span> <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://github.com/images/modules/contact/heartocat.png"</span> <span class="attr">width</span>=<span class="string">"50"</span> <span class="attr">height</span>=<span class="string">"50"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p><a href="https://wuchenxu.com" target="_blank" rel="noopener"> <img src="https://github.com/images/modules/contact/heartocat.png" width="50" height="50"></a></p><figure class="highlight markdown"><figcaption><span>markdown</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">![github</span>](<span class="link">https://github.com/images/modules/contact/heartocat.png</span>)](<span class="link">https://wuchenxu.com</span>)</span><br></pre></td></tr></table></figure><p><a href="https://wuchenxu.com" target="_blank" rel="noopener"><img src="https://github.com/images/modules/contact/heartocat.png" alt="github"></a></p><h1 id="表格-Table"><a href="#表格-Table" class="headerlink" title="表格 Table"></a>表格 Table</h1><figure class="highlight html"><figcaption><span>html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">'1'</span> <span class="attr">summary</span>=<span class="string">"2015年xx学校xx年级"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">caption</span>&gt;</span>成绩统计<span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span>班级<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span>学生数<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">th</span>&gt;</span>平均成绩<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>一班<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>30<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>89<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>二班<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>35<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">td</span>&gt;</span>85<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><table border='1' summary="2015年xx学校xx年级">  <caption>成绩统计</caption>  <tr><th>班级</th><th>学生数</th><th>平均成绩</th></tr>  <tr><td>一班</td><td>30</td><td>89</td></tr>  <tr><td>二班</td><td>35</td><td>85</td></tr></table>html表格支持boder宽度，对齐，单元格填充，单元格间距，背景图片，单元格跨行跨列等属性设置；原生markdown并不支持表格，在[GFM](https://guides.github.com/features/mastering-markdown/)支持一种简单的表格语法。[神器-表格生成工具](http://www.tablesgenerator.com/)<figure class="highlight markdown"><figcaption><span>GFM</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">| 班级   |      学生数      |  平均成绩 |</span><br><span class="line">|--------|:----------------:|----------:|</span><br><span class="line">| 一班   |          30      |     89    |</span><br><span class="line">| 二班   |          35      |     85    |</span><br></pre></td></tr></table></figure><table><thead><tr><th>班级</th><th align="center">学生数</th><th align="right">平均成绩</th></tr></thead><tbody><tr><td>一班</td><td align="center">30</td><td align="right">89</td></tr><tr><td>二班</td><td align="center">35</td><td align="right">85</td></tr></tbody></table><p>Reference:</p><ol><li><a href="http://www.w3school.com.cn/" target="_blank" rel="noopener">html</a></li><li><a href="http://www.imooc.com/learn/9" target="_blank" rel="noopener">imooc</a></li><li><a href="https://www.websiteplanet.com/blog/html-guide-beginners/" target="_blank" rel="noopener">Learn HTML Free in [2021] – Basic HTML Codes for Beginners</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Markdown </category>
          
          <category> HTML </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>个人博客搭建hexo+github(7):显示每篇文章的更新时间</title>
      <link href="/2015/12/13/Static-Blog-hexo-github-7-display-updated-date/"/>
      <url>/2015/12/13/Static-Blog-hexo-github-7-display-updated-date/</url>
      
        <content type="html"><![CDATA[<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=247745&auto=0&height=66"></iframe>纪晓君-爱延续<p>NexT主题从6.0开始只需要简单的配置就支持显示或者不显示更新时间了。</p><a id="more"></a><h1 id="配置NexT主题"><a href="#配置NexT主题" class="headerlink" title="配置NexT主题"></a>配置<a href="https://theme-next.org/docs/theme-settings/" target="_blank" rel="noopener">NexT主题</a></h1><figure class="highlight yml"><figcaption><span>enable display updated date</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Post meta display settings</span></span><br><span class="line"><span class="attr">post_meta:</span></span><br><span class="line"><span class="attr">  item_text:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  created_at:</span> <span class="literal">true</span>. <span class="comment"># 发表于</span></span><br><span class="line"><span class="attr">  updated_at:</span></span><br><span class="line"><span class="attr">    enabled:</span> <span class="literal">true</span> <span class="comment">#更新于</span></span><br><span class="line">    <span class="comment"># If true, show updated date label only if `updated date` different from 'created date' (post edited in another day than was created).</span></span><br><span class="line">    <span class="comment"># And if post will edited in same day as created, edited time will show in popup title under created time label.</span></span><br><span class="line">    <span class="comment"># If false show anyway, but if post edited in same day, show only edited time.</span></span><br><span class="line"><span class="attr">    another_day:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  categories:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h1 id="配置post-layout参数"><a href="#配置post-layout参数" class="headerlink" title="配置post layout参数"></a>配置post layout参数</h1><p>每篇post（md文件）的layout参数<code>modified</code>（或者<code>updated</code>）就是文章的更新时间。<br>如果<code>modified</code>与<code>date</code>相同，则只显示发表时间，不显示更新时间；如果<code>modified</code>与<code>date</code>不同，则<code>date</code>显示为发表时间，<code>modified</code>显示为更新时间；</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title:</span> <span class="string">'个人博客搭建hexo+github(7):显示每篇文章的更新时间'</span></span><br><span class="line"><span class="attr">categories:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">hexo</span></span><br><span class="line"><span class="attr">tags:</span> <span class="string">[hexo,</span> <span class="string">github,</span> <span class="string">blog]</span></span><br><span class="line"><span class="attr">comments:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">layout:</span> <span class="string">post</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2015</span><span class="bullet">-12</span><span class="bullet">-13</span> <span class="number">20</span><span class="string">:18:54</span></span><br><span class="line"><span class="attr">modified:</span> <span class="number">2018</span><span class="bullet">-12</span><span class="bullet">-29</span> <span class="number">20</span><span class="string">:18:54</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="string">以下为正文。</span></span><br></pre></td></tr></table></figure><p>Reference:</p><ol><li><a href="http://howiefh.github.io/2014/04/20/hexo-optimize-and-my-theme-landscape-f/" target="_blank" rel="noopener">Landscape-F</a></li><li><a href="https://hexo.io/docs/front-matter.html" target="_blank" rel="noopener">Front Matter</a></li><li><a href="https://theme-next.org/docs/theme-settings/" target="_blank" rel="noopener">NexT them settings</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> github </tag>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>个人博客搭建hexo+github(6):标签插件</title>
      <link href="/2015/12/08/Static-Blog-hexo-github-6-tag-plugins/"/>
      <url>/2015/12/08/Static-Blog-hexo-github-6-tag-plugins/</url>
      
        <content type="html"><![CDATA[<p>标签插件(tag plugins)是hexo用于在文章中快速插入特定内容的插件。<br>hexo的很多插件类似octopress，有些插件的使用方法官方文档没有octopress的文档详细。<br>有些tag，markdown的语法就能实现类似的效果就使用更通用的markdown，按照我的使用先后来记录，慢慢补齐。<br>我使用的hexo版本是3.8.0</p><a id="more"></a><h1 id="Include-Code"><a href="#Include-Code" class="headerlink" title="Include Code"></a>Include Code</h1><p>插入代码，这个是可以把整个文件作为代码插入，这样做的好处是作为可运行的代码后续如果修正了bug，重新<code>hexo g</code>一下文章中的代码就会自动更新；不需要每次从文件中拷贝粘贴代码到文章中。</p><h2 id="配置code存放路径"><a href="#配置code存放路径" class="headerlink" title="配置code存放路径"></a>配置code存放路径</h2><p>在hexo的配置文件<code>hexo/_config.yml</code>中看到<code>code_dir: downloads/code</code>,说明所有的code文件都放到<code>source/downloads/code</code>文件夹下。</p><h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% include_code [title] [<span class="keyword">lan</span><span class="variable">g:language</span>] path/<span class="keyword">to</span>/<span class="keyword">file</span> %&#125;</span><br></pre></td></tr></table></figure><p><code>[title]</code>:可选，标题名，默认是文件名<br><code>[lang:language]</code>:可选设置语言后，根据不同的语言设置语法高亮</p><h2 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h2><p>代码文件存放在<code>source/downloads/code/hello_world.c</code>.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% include_code lang:<span class="built_in">c</span> hello world <span class="keyword">in</span> <span class="built_in">c</span> lang hello_world.<span class="built_in">c</span> %&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><figcaption><span> hello world in c lang</span><a href="/downloads/code/hello_world.c">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"hello world!"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure><h1 id="frame"><a href="#frame" class="headerlink" title="frame"></a>frame</h1><p>To embed an iframe:</p><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% iframe url [width] [height] %&#125;</span><br></pre></td></tr></table></figure><p>当然也可以直接插入HTML格式的标签。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">frameborder</span>=<span class="string">"no"</span> <span class="attr">border</span>=<span class="string">"0"</span> <span class="attr">marginwidth</span>=<span class="string">"0"</span> <span class="attr">marginheight</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">330</span> <span class="attr">height</span>=<span class="string">86</span> <span class="attr">src</span>=<span class="string">"//music.163.com/outchain/player?type=2&amp;id=247745&amp;auto=0&amp;height=66"</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Reference:</p><ol><li><a href="https://hexo.io/docs/tag-plugins.html" target="_blank" rel="noopener">tag plugins in hexo doc</a></li><li><a href="http://octopress.org/docs/plugins/include-code/" target="_blank" rel="noopener">octopress include code</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> github </tag>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CRC8计算</title>
      <link href="/2015/12/07/CRC8-calculate/"/>
      <url>/2015/12/07/CRC8-calculate/</url>
      
        <content type="html"><![CDATA[<h1 id="CRC简介"><a href="#CRC简介" class="headerlink" title="CRC简介"></a>CRC简介</h1><p>CRC(Cyclic Redundancy Check),循环冗余校验码，是一种错误检测码，可以检错，但不能纠错。<br>CRC算法对数据进行多项式计算，并将得到的校验码(固定位数)附在数据的后面，接收设备也执行类似的算法，以保证数据传输的正确性和完整性。<br>不同的多项式对错误的检测率(以汉明距离(Hamming Distance)衡量)有差别，所以多项式都是经过测试精心挑选的。<br>多项式决定了校验码的位数，根据校验码位数不同，一般有CRC-4,CRC-8,CRC-16,CRC-32，CRC-64，CRC-128等。</p><a id="more"></a><h1 id="CRC算法"><a href="#CRC算法" class="headerlink" title="CRC算法"></a>CRC算法</h1><p>以CRC-8来举例：<br>CRC-8，有8bit的校验码，取多项式(Polynomial)为:x^8+x^4+x^3+x^2+1。一般多项式最高位x^8项的系数总是1，所以隐去，标记为1Dh(1 1101b)。<br>将数据与多项式相除，得到的余数再与多项式相除，如此反复，所以叫循环冗余，最终得到一个8位的余数就是循环冗余校验码。<br>二进制的除与异或的结果一样。<br>1Dh也是SAE-J1850推荐的多项式；2Fh是AUTOSAR CRC-8推荐的另一个多项式。<br>数据:F2 01 83<br>binary: 11110010 00000001 10000011 00000000  &lt;- 先在校验码位置补8个0<br>    xor 10001110 1                           &lt;-divisor x^8+x^4+x^3+x^2+1<br>    —————————————-<br>         1111100 10000001 10000011 00000000<br>    xor  1000111 01<br>    —————————————-<br>          111011 11000001 10000011 00000000<br>    xor   100011 101<br>    —————————————-<br>           11000 01100001 10000011 00000000<br>    xor    10001 1101<br>    —————————————-<br>            1001 10110001 10000011 00000000<br>    xor     1000 11101<br>    —————————————-<br>               1 01011001 10000011 00000000<br>    xor        1 00011101<br>    —————————————-<br>                  1000100 10000011 00000000<br>    xor           1000111 01<br>    —————————————-<br>                       11 11000011 00000000<br>    xor                10 0011101<br>    —————————————-<br>                        1 11111001 00000000<br>    xor                 1 00011101<br>    —————————————-<br>                          11100100 00000000<br>    xor                   10001110 1<br>    —————————————-<br>                           1101010 10000000<br>    xor                    1000111 01<br>    —————————————-<br>                            101101 11000000<br>    xor                     100011 101<br>    —————————————-<br>                              1110 01100000<br>    xor                       1000 11101<br>    —————————————-<br>                               110 10001000<br>    xor                        100 011101<br>    —————————————-<br>                                10 11111100<br>    xor                         10 0011101<br>    —————————————-<br>                                   11000110   -&gt;CRC:C6h</p><p>需要注意的是：在实际的算法中，会增加刚算法开始时初始化的值以及最后结果的异或值作为参数。</p><p>下面时AUTOSAR中对8位CRC算法J1850多项式1D的描述：</p><img src="/2015/12/07/CRC8-calculate/Autosar_CRC_J1850.png" class=""> <h1 id="CRC计算代码"><a href="#CRC计算代码" class="headerlink" title="CRC计算代码"></a>CRC计算代码</h1><h2 id="根据算法描述计算CRC"><a href="#根据算法描述计算CRC" class="headerlink" title="根据算法描述计算CRC"></a>根据算法描述计算CRC</h2><figure class="highlight python"><figcaption><span> crc8_calc_runtime</span><a href="/downloads/code/CRC/crc8_calc_runtime.py">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/user/bin/env python3</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line">__author__ = <span class="string">"wu_chenxu@126.com"</span></span><br><span class="line">__version__ = <span class="string">"1.1"</span></span><br><span class="line">__date__ = <span class="string">"2019-12-21"</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">Polynomial=<span class="number">0x1D</span></span><br><span class="line">InitialValue = <span class="number">0xFF</span></span><br><span class="line">XorValue = <span class="number">0xFF</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">crc_1byte</span><span class="params">(data)</span>:</span></span><br><span class="line">crc_1byte = data</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">8</span>):</span><br><span class="line"><span class="keyword">if</span> (crc_1byte &amp; <span class="number">0x80</span>):</span><br><span class="line">crc_1byte &lt;&lt;= <span class="number">1</span></span><br><span class="line">crc_1byte^=Polynomial</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">crc_1byte&lt;&lt;=<span class="number">1</span></span><br><span class="line">crc_1byte &amp;= <span class="number">0xFF</span></span><br><span class="line"><span class="keyword">return</span> crc_1byte</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">crc_byte</span><span class="params">(data)</span>:</span></span><br><span class="line">crcTemp = InitialValue </span><br><span class="line"><span class="keyword">for</span> byte <span class="keyword">in</span> data:</span><br><span class="line">crcTemp = (crc_1byte(crcTemp^byte))</span><br><span class="line"><span class="keyword">return</span> XorValue^crcTemp</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">print(<span class="string">"Polynomial="</span>,hex(Polynomial))</span><br><span class="line">print(<span class="string">"InitialValue="</span>, hex(InitialValue))</span><br><span class="line">print(<span class="string">"XorValue="</span>, hex(XorValue))</span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">string_input = input(<span class="string">"please input data:"</span>)</span><br><span class="line">input_list = string_input.split()</span><br><span class="line">print(input_list)</span><br><span class="line">input_list = [eval(a) <span class="keyword">for</span> a <span class="keyword">in</span> input_list]</span><br><span class="line">print(<span class="string">"CRC value:"</span>, hex(crc_byte(input_list)))</span><br><span class="line">os.system(<span class="string">'pause'</span>)</span><br></pre></td></tr></table></figure><h2 id="根据长度为256的CRC表计算CRC"><a href="#根据长度为256的CRC表计算CRC" class="headerlink" title="根据长度为256的CRC表计算CRC"></a>根据长度为256的CRC表计算CRC</h2><p>如果事先存储好CRC表，可以以空间换取时间</p><figure class="highlight python"><figcaption><span> crc8_calc_table</span><a href="/downloads/code/CRC/crc8_calc_table.py">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/user/bin/python3</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line">__author__ = <span class="string">"wu_chenxu@126.com"</span></span><br><span class="line">__version__ = <span class="string">"1.1"</span></span><br><span class="line">__date__ = <span class="string">"2019-12-21"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">Polynomial=<span class="number">0x1D</span></span><br><span class="line">InitialValue = <span class="number">0xFF</span></span><br><span class="line">XorValue = <span class="number">0xFF</span></span><br><span class="line">crc8_table=[]</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">crc_1byte</span><span class="params">(data)</span>:</span></span><br><span class="line">crc_1byte = data</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">8</span>):</span><br><span class="line"><span class="keyword">if</span> (crc_1byte &amp; <span class="number">0x80</span>):</span><br><span class="line">crc_1byte &lt;&lt;= <span class="number">1</span></span><br><span class="line">crc_1byte^=Polynomial</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">crc_1byte&lt;&lt;=<span class="number">1</span></span><br><span class="line">crc_1byte &amp;= <span class="number">0xFF</span></span><br><span class="line"><span class="keyword">return</span> crc_1byte</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generate_crc_table</span><span class="params">()</span>:</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">256</span>):</span><br><span class="line">crc8_table.append(crc_1byte(i))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_crc8table</span><span class="params">()</span>:</span></span><br><span class="line"><span class="comment">#print as C array</span></span><br><span class="line">print(<span class="string">"uint8 g_crc8_table[256] = {"</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">256</span>):</span><br><span class="line"><span class="keyword">if</span> (i % <span class="number">8</span> == <span class="number">0</span>):</span><br><span class="line">print(<span class="string">"/*"</span>, i, <span class="string">":*/"</span>, end=<span class="string">''</span>)</span><br><span class="line">print(hex(crc8_table[i]), end=<span class="string">''</span>)</span><br><span class="line"><span class="keyword">if</span> (i &lt;<span class="number">255</span>):</span><br><span class="line">print(<span class="string">", "</span>, end=<span class="string">''</span>)</span><br><span class="line"><span class="keyword">if</span> ((i+<span class="number">1</span>) % <span class="number">8</span> == <span class="number">0</span>):</span><br><span class="line">print()</span><br><span class="line">print(<span class="string">"}"</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">crc_byte</span><span class="params">(data)</span>:</span></span><br><span class="line"><span class="keyword">if</span> len(crc8_table) != <span class="number">256</span>:</span><br><span class="line">generate_crc_table()</span><br><span class="line"></span><br><span class="line">crcTemp = InitialValue </span><br><span class="line"><span class="keyword">for</span> byte <span class="keyword">in</span> data:</span><br><span class="line">crcTemp ^= byte</span><br><span class="line">crcTemp = crc8_table[crcTemp]</span><br><span class="line"><span class="keyword">return</span> (XorValue^crcTemp)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">print(<span class="string">"Polynomial="</span>,hex(Polynomial))</span><br><span class="line">print(<span class="string">"InitialValue="</span>, hex(InitialValue))</span><br><span class="line">print(<span class="string">"XorValue="</span>, hex(XorValue))</span><br><span class="line">generate_crc_table()</span><br><span class="line">print_crc8table()</span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">string_input = input(<span class="string">"please input data:"</span>)</span><br><span class="line">input_list = string_input.split()</span><br><span class="line">print(input_list)</span><br><span class="line">input_list = [eval(a) <span class="keyword">for</span> a <span class="keyword">in</span> input_list]</span><br><span class="line">print(<span class="string">"CRC value:"</span>, hex(crc_byte(input_list)))</span><br><span class="line">os.system(<span class="string">'pause'</span>)</span><br></pre></td></tr></table></figure><p>Reference:</p><ol><li><a href="https://en.wikipedia.org/wiki/Cyclic_redundancy_check" target="_blank" rel="noopener">CRC wiki</a></li><li><a href="https://www.autosar.org/fileadmin/user_upload/standards/classic/19-11/AUTOSAR_SWS_CRCLibrary.pdf" target="_blank" rel="noopener">AUTOSAR_SWS_CRCLibrary</a></li><li><a href="http://depa.usst.edu.cn/chenjq/www2/software/crc/CRC_Javascript/CRCcalculation.htm" target="_blank" rel="noopener">CRC online</a></li><li><a href="http://www.doc88.com/p-194328195149.html" target="_blank" rel="noopener">CRC_32分段快速查表算法在某遥测系统中的实现</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> checksum </category>
          
          <category> CRC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CRC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CAN总线字节序</title>
      <link href="/2015/12/03/CAN-byte-order/"/>
      <url>/2015/12/03/CAN-byte-order/</url>
      
        <content type="html"><![CDATA[<h1 id="CAN总线格式"><a href="#CAN总线格式" class="headerlink" title="CAN总线格式"></a>CAN总线格式</h1><img src="/2015/12/03/CAN-byte-order/CAN-Frame_mit_Pegeln_mit_Stuffbits.svg.png" class=""><a id="more"></a><blockquote><p>IDENTIFIER<br>The IDENTIFIER’s length is 11 bits. These bits are transmitted in the order from ID-10 to<br>ID-0. The least significant bit is ID-0.<br>DATA FIELD<br>The DATA FIELD consists of the data to be transferred within a DATA FRAME. It can<br>contain from 0 to 8 bytes, which each contain 8 bits which are transferred MSB first.</p></blockquote><p>从CAN总线的规范可以看出，总线的位序(bit order)msb first,大端模式，也称为递减位序（Decreasing bit order）。</p><table><thead><tr><th align="center">msb</th><th align="center">…</th><th align="center">…</th><th align="center">…</th><th align="center">…</th><th align="center">…</th><th align="center">…</th><th align="center">lsb</th></tr></thead></table><p>但是总线没有规定DATA FIELD的字节序，这是上层协议的范畴。</p><h1 id="Motorola格式与Intel格式"><a href="#Motorola格式与Intel格式" class="headerlink" title="Motorola格式与Intel格式"></a>Motorola格式与Intel格式</h1><p>在进行CAN总线通信设计时，对CAN总线信号有两种编码格式：Motorola与Intel格式。<br>两者并无优劣之分，只是设计者的习惯选择。<br>一般情况下，主机厂在定义CAN总线信号时，会明确定义字节的发送顺序，LSB(byte)先发,还是MSB先发。</p><h2 id="Motolora格式-big-endian"><a href="#Motolora格式-big-endian" class="headerlink" title="Motolora格式(big endian)"></a>Motolora格式(big endian)</h2><table><thead><tr><th align="center">MSB</th><th align="center">…</th><th align="center">…</th><th align="center">LSB</th></tr></thead></table><h2 id="Intel格式-little-endian"><a href="#Intel格式-little-endian" class="headerlink" title="Intel格式(little endian)"></a>Intel格式(little endian)</h2><table><thead><tr><th align="center">LSB</th><th align="center">…</th><th align="center">…</th><th align="center">MSB</th></tr></thead></table><h2 id="位计数的方法"><a href="#位计数的方法" class="headerlink" title="位计数的方法"></a>位计数的方法</h2><h3 id="锯齿-Sawtooth-法"><a href="#锯齿-Sawtooth-法" class="headerlink" title="锯齿(Sawtooth)法"></a>锯齿(Sawtooth)法</h3><table><thead><tr><th align="center">7</th><th align="center">6</th><th align="center">5</th><th align="center">4</th><th align="center">3</th><th align="center">2</th><th align="center">1</th><th align="center">0</th><th align="center">15</th><th align="center">14</th><th align="center">13</th><th align="center">12</th><th align="center">11</th><th align="center">10</th><th align="center">9</th><th align="center">8</th></tr></thead></table><p>发送一个8字节的数据到总线上，bit7（msb of Byte0）最先发送，接着是bit6，bit56（lsb of Byte7）最后发送。</p><h3 id="顺序-Sequential-法"><a href="#顺序-Sequential-法" class="headerlink" title="顺序(Sequential)法"></a>顺序(Sequential)法</h3><table><thead><tr><th align="center">0</th><th align="center">1</th><th align="center">2</th><th align="center">3</th><th align="center">4</th><th align="center">5</th><th align="center">6</th><th align="center">7</th><th align="center">8</th><th align="center">9</th><th align="center">10</th><th align="center">11</th><th align="center">12</th><th align="center">13</th><th align="center">14</th><th align="center">15</th></tr></thead></table><p>发送一个8字节的数据到总线上，bit0（msb of Byte0）最先发送，接着是bit2，bit63（lsb of Byte7）最后发送。</p><p>CANoe中一般用锯齿法。<br>而对于跨字节的数据，CANoe表示格式（这两种格式只针对字节序，位序总是msb first的）：</p><ul><li>Intel格式（LSB first）的lsb从低字节地址的低位地址开始，向左排布，msb在高字节地址的高位地址</li><li>Motorola格式（MSB first）的lsb从高字节地址的低位地址开始，向左排布，msb在低字节地址的高位地址。</li></ul><p>实际总线传输按照msb first，从Byte0的bit7开始，bit6, …, 到Byte1的bit15，bit14, … , 到Byte7的bit63, … , bit62, …, bit56.</p><img src="/2015/12/03/CAN-byte-order/Intel_Motorola_format_in_CANoe.png" class=""><p>start bit总是指lsb的位置，然后向左排布，需要跨字节时：Intel格式从Byte0向Byte7的方向排布，Motorola格式从Byte7向Byte0的方向排布。</p><h1 id="缩写"><a href="#缩写" class="headerlink" title="缩写:"></a>缩写:</h1><p>msb:most significant bit<br>lsb:most significant bit<br>MSB:Most Significant Byte<br>LSB:Least Significant Byte</p><p>Reference:</p><ol><li><a href="https://en.wikipedia.org/wiki/CAN_bus" target="_blank" rel="noopener">CAN Bus wiki</a></li><li>CANoe help</li></ol>]]></content>
      
      
      <categories>
          
          <category> encoding </category>
          
          <category> CAN </category>
          
      </categories>
      
      
        <tags>
            
            <tag> encoding </tag>
            
            <tag> software </tag>
            
            <tag> byte order </tag>
            
            <tag> bit order </tag>
            
            <tag> Motorola </tag>
            
            <tag> Intel </tag>
            
            <tag> MSB </tag>
            
            <tag> LSB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>字节序与大小端</title>
      <link href="/2015/11/29/byte-bit-endian/"/>
      <url>/2015/11/29/byte-bit-endian/</url>
      
        <content type="html"><![CDATA[<img src="/2015/11/29/byte-bit-endian/endian_of_picture.jpg" class=""><h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><p>我们书写的规则一般是从左往右，如写一个数字<code>一千二百三十四</code>，写成<code>1234</code>.这是日常生活中约定俗称的表示方法，其背后的逻辑是最高有效位在最左边，1表示<code>1千</code>是最高有效位，其在最左；如果我们约定最低有效位在最左，那么同样表示<code>一千二百三十四</code>，我们需要写成<code>4321</code>了。<br>在计算机领域，特别是在存储和通信领域，一般以字节为单位存储或者传输数据，那么对于多字节数据的<code>字节序</code>(Byte Order)表示就有两种方法：</p><blockquote><p>大端(big endian): 最高有效字节(MSB:Most Significant Byte)存储在最低地址(LBA: Lowest Byte Address)。<br>小端(little endian): 最高有效字节存储在最高地址(HBA:Highest Byte Address)。</p></blockquote><a id="more"></a><p>同样对于一个字节的8个位的<code>位序(Bit Order)</code>也有两种表示方法：</p><blockquote><p>大端(big endian): 最高有效位(msb:Most Significant Bit)存储在最低地址(LBA: Lowest Byte Address)。<br>小端(little endian): 最高有效位存储在最高地址(HBA:Highest Byte Address)。</p></blockquote><blockquote><p>对于给定一个计算机系统<code>位序</code>一般与<code>字节序</code>相同。</p></blockquote><p>如果我们认为日常书写数字是从低地址开始写的，那么可以说，我们的书写规则是遵从大端规则的。</p><h1 id="表示方法"><a href="#表示方法" class="headerlink" title="表示方法"></a>表示方法</h1><img src="/2015/11/29/byte-bit-endian/endian_in_computer.gif" class=""><p>我们用大端和小端两种形式来表示同一个数<code>0x0A0B0C0D</code>.<br>大端系统：</p><table><thead><tr><th align="center">byte addr</th><th align="center">0</th><th align="center">1</th><th align="center">2</th><th align="center">3</th></tr></thead><tbody><tr><td align="center">bit offset</td><td align="center">01234567</td><td align="center">01234567</td><td align="center">01234567</td><td align="center">01234567</td></tr><tr><td align="center">binary</td><td align="center">00001010</td><td align="center">00001011</td><td align="center">00001100</td><td align="center">00001101</td></tr><tr><td align="center">hex</td><td align="center">0A</td><td align="center">0B</td><td align="center">0C</td><td align="center">0D</td></tr></tbody></table><p>小端系统：</p><table><thead><tr><th align="center">byte addr</th><th align="center">3</th><th align="center">2</th><th align="center">1</th><th align="center">0</th></tr></thead><tbody><tr><td align="center">bit offset</td><td align="center">76543210</td><td align="center">76543210</td><td align="center">76543210</td><td align="center">76543210</td></tr><tr><td align="center">binary</td><td align="center">00001010</td><td align="center">00001011</td><td align="center">00001100</td><td align="center">00001101</td></tr><tr><td align="center">hex</td><td align="center">0A</td><td align="center">0B</td><td align="center">0C</td><td align="center">0D</td></tr></tbody></table><p>以上两种表示方法，我们都可以一目了然看出0x0A0B0C0D。<br>如果我们保持byte address和bit offset不变，小端系统也可以表示成：</p><table><thead><tr><th align="center">byte addr</th><th align="center">0</th><th align="center">1</th><th align="center">2</th><th align="center">3</th></tr></thead><tbody><tr><td align="center">bit offset</td><td align="center">01234567</td><td align="center">01234567</td><td align="center">01234567</td><td align="center">01234567</td></tr><tr><td align="center">binary</td><td align="center">10110000</td><td align="center">00110000</td><td align="center">11010000</td><td align="center">01010000</td></tr></tbody></table><p>这样不去计算，不能一眼看出表示的数是0x0A0B0C0D.</p><h1 id="CPU的大小端"><a href="#CPU的大小端" class="headerlink" title="CPU的大小端"></a>CPU的大小端</h1><p>CPU的大小端一般指寄存器，总线，cache及内存等的字节序和位序。<br>小端CPU包括Intel(x86等)和DEC，小端格式也称为<code>Intel格式</code>。<br>大端CPU包括Motorola，Sun Spark以及IBM(PowerPC)，大端格式也称为<code>Motorola格式</code>。<br>MIPS和ARM可以配置成任意一种。<br>CPU的大小端影响到CPU的指令集，不同的字节序CPU需要不一样的GNU工具链编译器。如，mipse-linux-gcc是支持大端mips架构的编译器，mipsl-linux-gcc是支持小端架构的编译器。<br>CPU的大小端会影响到软件访问多字节数据，虽然大多数时候对CPU大小端对软件是透明的。<br>如下代码，在不同字节序的CPU上运行会得到不同的结果。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">union</span> &#123;</span><br><span class="line">    <span class="keyword">uint32_t</span> my_int;</span><br><span class="line">    <span class="keyword">uint8_t</span>  my_bytes[<span class="number">4</span>];</span><br><span class="line">&#125; endian_tester;</span><br><span class="line">endian_tester et;</span><br><span class="line">et.my_int = <span class="number">0x0a0b0c0d</span>;</span><br><span class="line"><span class="keyword">if</span>(et.my_bytes[<span class="number">0</span>] == <span class="number">0x0a</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>( <span class="string">"I'm on a big-endian system\n"</span> );</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>( <span class="string">"I'm on a little-endian system\n"</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="总线的大小端"><a href="#总线的大小端" class="headerlink" title="总线的大小端"></a>总线的大小端</h1><p>这里的总线不包括CPU内部的地址总线和数据总线等，专指外部总线，指器件之间的通讯总线。<br>对于并行总线(如PCI)，如果是小端，则在32位的地址/数据总线AD[31:0],MSB连接到AD31，LSB连接到AD0。<br>对于串行总线，只存在协议上的大小端，不存在总线的大小端。</p><h1 id="Device的大小端"><a href="#Device的大小端" class="headerlink" title="Device的大小端"></a>Device的大小端</h1><blockquote><p>Kevin’s Theory #1: When a multi-byte data unit travels across the boundary of two reverse endian systems, the conversion is made such that memory contiguousness to the unit is preserved.</p></blockquote><blockquote><p>Kevin’s Theory #2: In a C structure that contains bit fields, if field A is defined in front of field B, then field A always occupies a lower bit address than field B.</p></blockquote><p>以NIC为例，vlan[0:24]有一个0xabcdef的值通过32位的存储边界(memory boundary),大端系统中：</p><table><thead><tr><th align="center">byte addr</th><th align="center">0</th><th align="center">1</th><th align="center">2</th><th align="center">3</th><th align="center">4</th><th align="center">5</th><th align="center">6</th><th align="center">7</th></tr></thead><tbody><tr><td align="center">bit offset</td><td align="center">01234567</td><td align="center">01234567</td><td align="center">01234567</td><td align="center">01234567</td><td align="center">01234567</td><td align="center">01234567</td><td align="center">01234567</td><td align="center">01234567</td></tr><tr><td align="center">binary</td><td align="center">10101010</td><td align="center">10 010111</td><td align="center">10101011</td><td align="center">11001101</td><td align="center">11101111</td><td align="center">00000000</td><td align="center">00000000</td><td align="center">00000000</td></tr><tr><td align="center">hex</td><td align="center">aa</td><td align="center">97</td><td align="center">ab</td><td align="center">cd</td><td align="center">ef</td><td align="center">00</td><td align="center">00</td><td align="center">00</td></tr></tbody></table><p>tag[0:9]=bit[0:9]=0x2aa,rx[0:5]=bit[10:15]=0x17,vlan[0:15]=bit[16:23]=0xabcdef.<br>如果按照字长一致原则转换到小端系统中，字长位32bit：</p><table><thead><tr><th align="center">byte addr</th><th align="center">7</th><th align="center">6</th><th align="center">5</th><th align="center">4</th><th align="center">3</th><th align="center">2</th><th align="center">1</th><th align="center">0</th></tr></thead><tbody><tr><td align="center">bit offset</td><td align="center">76543210</td><td align="center">76543210</td><td align="center">76543210</td><td align="center">76543210</td><td align="center">76543210</td><td align="center">76543210</td><td align="center">76543210</td><td align="center">76543210</td></tr><tr><td align="center">binary</td><td align="center">11101111</td><td align="center">00000000</td><td align="center">00000000</td><td align="center">00000000</td><td align="center">10101010</td><td align="center">10 010111</td><td align="center">10101011</td><td align="center">11001101</td></tr><tr><td align="center">hex</td><td align="center">ef</td><td align="center">00</td><td align="center">00</td><td align="center">00</td><td align="center">aa</td><td align="center">97</td><td align="center">ab</td><td align="center">cd</td></tr></tbody></table><p>字长转换造成存储地址不连续问题。<br>按照字节一致原则转换到小端系统中：</p><table><thead><tr><th align="center">byte addr</th><th align="center">7</th><th align="center">6</th><th align="center">5</th><th align="center">4</th><th align="center">3</th><th align="center">2</th><th align="center">1</th><th align="center">0</th></tr></thead><tbody><tr><td align="center">bit offset</td><td align="center">76543210</td><td align="center">76543210</td><td align="center">76543210</td><td align="center">76543210</td><td align="center">76543210</td><td align="center">76543210</td><td align="center">76543210</td><td align="center">76543210</td></tr><tr><td align="center">binary</td><td align="center">00000000</td><td align="center">00000000</td><td align="center">00000000</td><td align="center">11101111</td><td align="center">11001101</td><td align="center">10101011</td><td align="center">10010111</td><td align="center">10 101010</td></tr><tr><td align="center">hex</td><td align="center">00</td><td align="center">00</td><td align="center">00</td><td align="center">ef</td><td align="center">cd</td><td align="center">ab</td><td align="center">97</td><td align="center">aa</td></tr></tbody></table><p>为得到与大端系统中一致的数据位，还需要软件再做一个字节交换(byte swap)：</p><table><thead><tr><th align="center">byte addr</th><th align="center">7</th><th align="center">6</th><th align="center">5</th><th align="center">4</th><th align="center">3</th><th align="center">2</th><th align="center">1</th><th align="center">0</th></tr></thead><tbody><tr><td align="center">bit offset</td><td align="center">76543210</td><td align="center">76543210</td><td align="center">76543210</td><td align="center">76543210</td><td align="center">76543210</td><td align="center">76543210</td><td align="center">76543210</td><td align="center">76543210</td></tr><tr><td align="center">binary</td><td align="center">00000000</td><td align="center">00000000</td><td align="center">00000000</td><td align="center">10 101010</td><td align="center">10010111</td><td align="center">10101011</td><td align="center">11001101</td><td align="center">11101111</td></tr><tr><td align="center">hex</td><td align="center">00</td><td align="center">00</td><td align="center">00</td><td align="center">aa</td><td align="center">97</td><td align="center">ab</td><td align="center">cd</td><td align="center">ef</td></tr></tbody></table><p>根据Kevin’s Theory #2，我们可以定义C结构体来访问小端模式的NIC的标识符：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">nic_tag_reg</span> &#123;</span></span><br><span class="line">    <span class="keyword">uint64_t</span> vlan:<span class="number">24</span> __attribute__((packed));</span><br><span class="line">    <span class="keyword">uint64_t</span> rx  :<span class="number">6</span>  __attribute__((packed));</span><br><span class="line">    <span class="keyword">uint64_t</span> tag :<span class="number">10</span> __attribute__((packed));</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>大端模式下：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">nic_tag_reg</span> &#123;</span></span><br><span class="line"><span class="keyword">uint64_t</span> tag :<span class="number">10</span> __attribute__((packed));</span><br><span class="line"><span class="keyword">uint64_t</span> rx  :<span class="number">6</span>  __attribute__((packed));</span><br><span class="line">    <span class="keyword">uint64_t</span> vlan:<span class="number">24</span> __attribute__((packed));</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="协议的大小端"><a href="#协议的大小端" class="headerlink" title="协议的大小端"></a>协议的大小端</h1><p>对于硬线上发送接收的位顺序，通常有规范来定义，不一定与上层的协议字节序一致，硬件会做相应的转换工作。<br>我们通常所说的网络字节序值网络传输协议的字节序，如IP协议数据按照大端字节序发送接收。<br>网络(network)字节序与本机(host)字节序不一致时，需要进行转换。如 htons/ntohs/ntohl/htonl等函数。</p><h1 id="词源"><a href="#词源" class="headerlink" title="词源"></a>词源</h1><blockquote><p>据Jargon File记载，endian这个词来源于Jonathan Swift在1726年写的讽刺小说 “Gulliver’s Travels”（《格利佛游记》）。该小说在描述Gulliver畅游小人国时碰到了如下的一个场景。在小人国里的小人因为非常小（身高6英寸）所以总是碰到一些意想不到的问题。有一次因为对水煮蛋该从大的一端（Big-End）剥开还是小的一端（Little-End）剥开的争论而引发了一场战争，并形成了两支截然对立的队伍：支持从大的一端剥开的人Swift就称作Big-Endians，而支持从小的一端剥开的人就称作Little-Endians……（后缀ian表明的就是支持某种观点的人）。<br>1980年，Danny Cohen在其著名的论文”On Holy Wars and a Plea for Peace”中为了平息一场关于在消息中字节该以什么样的顺序进行传送的争论而引用了该词。该文中，Cohen非常形象贴切地把支持从一个消息序列的最高位开始传送的那伙人叫做Big-Endians，支持从最低位开始传送的相对应地叫做Little-Endians。此后Endian这个词便随着这篇论文而被广为采用。</p></blockquote><p>Reference:</p><ol><li><a href="http://www.linuxjournal.com/node/6788/print" target="_blank" rel="noopener">Byte and Bit Order Dissection</a></li><li><a href="http://baike.baidu.com/view/633653.htm" target="_blank" rel="noopener">Endian_baiduBaike</a></li><li><a href="http://www.ruanyifeng.com/blog/2016/11/byte-order.html" target="_blank" rel="noopener">byte oreder……</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> encoding </category>
          
      </categories>
      
      
        <tags>
            
            <tag> encoding </tag>
            
            <tag> software </tag>
            
            <tag> byte order </tag>
            
            <tag> bit order </tag>
            
            <tag> Motorola </tag>
            
            <tag> Intel </tag>
            
            <tag> MSB </tag>
            
            <tag> LSB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>个人博客搭建hexo+github(5):Hexo写作实用技巧</title>
      <link href="/2015/11/23/Static-Blog-hexo-github-5-hexo-usage-trick/"/>
      <url>/2015/11/23/Static-Blog-hexo-github-5-hexo-usage-trick/</url>
      
        <content type="html"><![CDATA[<h1 id="文章名字"><a href="#文章名字" class="headerlink" title="文章名字"></a>文章名字</h1><p>Hexo的文章放在<code>hexo/source/_post</code>文件夹，命令为<code>post_name.md</code>，post_name用英文的话，那么在生成html文件名就是英文名，<br>如果是中文，生成的html名字是unicode形式，浏览器地址栏完全不可读。</p><a id="more"></a><hr><h1 id="插入图片"><a href="#插入图片" class="headerlink" title="插入图片"></a>插入图片</h1><p>Markdown语法</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">Alt text</span>](<span class="link">/path/to/image.png</span>)</span><br></pre></td></tr></table></figure><p>这里的图片路径怎么理解：<br>如果是本地地址，上传到github如何显示？<br>如果是网络地址（专业名字叫<a href="http://baike.baidu.com/view/620100.htm" target="_blank" rel="noopener">图床</a>)，不上网时本地也无法显示？<br>在hexo2中标签插件用法参见<a href="http://timnew.me/blog/2014/08/19/use-hexo-asset-folder-to-manage-resource-used-by-post/" target="_blank" rel="noopener">asset_folder</a>；<br>在hexo3中，配置文件中设置</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>当生效后，在你创建文章的时候，Hexo会创建一个同名目录，你可以将该文章关联的资源全部放到该目录下。这样就可以更加方便的使用它们了。</p><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name">asset_path</span> slug %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name">asset_img</span> slug [title] %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name">asset_link</span> slug [title] %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure><p>Usage:<br>Suppose you have the following folder structure:</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">source\</span><br><span class="line">  _posts\</span><br><span class="line">    <span class="number">2014</span><span class="number">-08</span><span class="number">-15</span>-a-simple-self-<span class="built_in">int</span>roduction.md</span><br><span class="line">    <span class="number">2014</span><span class="number">-08</span><span class="number">-15</span>-a-simple-self-<span class="built_in">int</span>roduction\</span><br><span class="line">      my_portrait.jpg</span><br><span class="line">      my_resume.pdf</span><br></pre></td></tr></table></figure><p>In the markdown file 2014-08-15-a-simple-self-introduction.md, you can reference files as</p><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name">asset_img</span> my_portrait.jpg %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name">asset_link</span> my_resume.pdf My Resume %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure><p>It generates</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">img</span> src=<span class="string">"/2014/08/15/a-simple-self-introduction/my_portrait.jpg"</span>&gt;</span><br><span class="line">&lt;<span class="selector-tag">a</span> href=<span class="string">"/2014/08/15/a-simple-self-introduction/my_resume.pdf"</span>&gt;My Resume&lt;/a&gt;</span><br></pre></td></tr></table></figure><hr><h1 id="显示摘要"><a href="#显示摘要" class="headerlink" title="显示摘要"></a>显示摘要</h1><p>在md文件的前置声明中，不要设置description，否则description的内容就是文章摘要。<br>在文章中插入</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--more--&gt;</span></span><br></pre></td></tr></table></figure><p>more之前的内容会作为摘要显示，more之后的内容，需要点击<code>阅读全文&gt;&gt;</code>查看。</p><h1 id="插入音乐"><a href="#插入音乐" class="headerlink" title="插入音乐"></a>插入音乐</h1><p>以下的例子都是从主流音乐网站直接生成链接，不需要自己制作外链，所以有些音乐因为版权问题是不支持生成外链的。</p><h2 id="网易云音乐"><a href="#网易云音乐" class="headerlink" title="网易云音乐"></a>网易云音乐</h2><p>搜索歌曲，找到<code>生成外链播放器</code>,复制生成的代码粘贴到md文件即可。</p><img src="/2015/11/23/Static-Blog-hexo-github-5-hexo-usage-trick/music_163.png" class=""><p><code>auto</code>设置成0，否则会自动播放。</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe <span class="attribute">frameborder</span>=<span class="string">"no"</span> <span class="attribute">border</span>=<span class="string">"0"</span> <span class="attribute">marginwidth</span>=<span class="string">"0"</span> <span class="attribute">marginheight</span>=<span class="string">"0"</span> <span class="attribute">width</span>=330 <span class="attribute">height</span>=86 <span class="attribute">src</span>=<span class="string">"//music.163.com/outchain/player?type=2&amp;id=34341360&amp;auto=0&amp;height=66"</span>&gt;&lt;/iframe&gt;</span><br></pre></td></tr></table></figure><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=34341360&auto=0&height=66"></iframe><h2 id="虾米音乐"><a href="#虾米音乐" class="headerlink" title="虾米音乐"></a>虾米音乐</h2><p>找到歌曲，找到<code>转帖到其他网站</code>，复制生成的代码粘贴到md文件即可。</p><img src="/2015/11/23/Static-Blog-hexo-github-5-hexo-usage-trick/xiami_music.png" class=""><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;embed <span class="attribute">src</span>=<span class="string">"http://www.xiami.com/widget/0_148131/singlePlayer.swf"</span> <span class="attribute">type</span>=<span class="string">"application/x-shockwave-flash"</span> <span class="attribute">width</span>=<span class="string">"257"</span> <span class="attribute">height</span>=<span class="string">"33"</span> <span class="attribute">wmode</span>=<span class="string">"transparent"</span>&gt;&lt;/embed&gt;</span><br></pre></td></tr></table></figure><p><embed src="http://www.xiami.com/widget/0_148131/singlePlayer.swf" type="application/x-shockwave-flash" width="257" height="33" wmode="transparent"></embed></p><h1 id="插入视频"><a href="#插入视频" class="headerlink" title="插入视频"></a>插入视频</h1><p>在视频网站，找到分享，复制通用代码即可。<br><code>allowfullscreen</code>设置是否允许全屏。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">height</span>=<span class="string">498</span> <span class="attr">width</span>=<span class="string">510</span> <span class="attr">src</span>=<span class="string">"http://player.youku.com/embed/XMTM4MTY5MDIzMg=="</span> <span class="attr">frameborder</span>=<span class="string">0</span> <span class="attr">allowfullscreen</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><iframe height=498 width=510 src="http://player.youku.com/embed/XMTM4MTY5MDIzMg==" frameborder=0 allowfullscreen></iframe>试了一下爱奇艺，不支持取消自动播放。<p>Reference:</p><ol><li><a href="https://github.com/timnew/hexo-tag-asset-res" target="_blank" rel="noopener">asset用法</a></li><li><a href="http://zipperary.com/2013/06/27/media-on-hexo/" target="_blank" rel="noopener">插入music video</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> github </tag>
            
            <tag> blog </tag>
            
            <tag> music </tag>
            
            <tag> video </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>标记语言Markdown使用说明</title>
      <link href="/2015/11/19/markdown-usage/"/>
      <url>/2015/11/19/markdown-usage/</url>
      
        <content type="html"><![CDATA[<img src="/2015/11/19/markdown-usage/markdown_logo.jpg" class=""><h1 id="Markdown是什么"><a href="#Markdown是什么" class="headerlink" title="Markdown是什么"></a>Markdown是什么</h1><blockquote><p>Markdown是一种网络书写语言，兼容HTML但比HTML简单，<br>没有很多标签或者格式指令，可以直接以纯文本形式书写或者发布。<br>Markdown精挑细选了一些语法，其宗旨是易读易写。</p></blockquote><a id="more"></a><p>可以体验一下在线的Markdown编辑器，如<a href="http://mahua.jser.me/" target="_blank" rel="noopener">mahua在线Markdown</a>。</p><h1 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h1><p>基础语法指官方版本Markdown支持的语法，GFM(Github Flavored Markdown)是github对Markdown语法的一些扩展。</p><h2 id="1-标题"><a href="#1-标题" class="headerlink" title="1. 标题"></a>1. 标题</h2><p>开头的最后一个<code>#</code>与标题之间必须有空格。</p><img src="/2015/11/19/markdown-usage/header.png" class=""><h2 id="文字格式"><a href="#文字格式" class="headerlink" title="文字格式"></a>文字格式</h2><p>符号与文字之间不能有空格。<br>引用’&gt;’后的空格不能少, 引用行之后要空一行，否则之后的行都算是引用了。</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">*This <span class="built_in">text</span> will be italic*</span><br><span class="line">_This will also be italic_</span><br><span class="line"></span><br><span class="line">**This <span class="built_in">text</span> will be bold**</span><br><span class="line">__This will also be bold__</span><br><span class="line"></span><br><span class="line">_You **can** combine them_</span><br><span class="line"></span><br><span class="line">&gt; This <span class="keyword">is</span> <span class="literal">quote</span></span><br><span class="line"> &gt;&gt; This <span class="keyword">is</span> <span class="literal">quote</span>'s <span class="literal">quote</span></span><br><span class="line"></span><br><span class="line">~~This <span class="keyword">is</span> strikethrough,only <span class="keyword">for</span> GFM.~~</span><br></pre></td></tr></table></figure><p>效果：<br><em>This text will be italic</em><br><em>This will also be italic</em></p><p><strong>This text will be bold</strong><br><strong>This will also be bold</strong></p><p><em>You <strong>can</strong> combine them</em></p><blockquote><p>This is quote</p><blockquote><p>This is quote’s quote</p></blockquote></blockquote><p><del>This is strikethrough,only for GFM.</del></p><h2 id="列表-List"><a href="#列表-List" class="headerlink" title="列表 List"></a>列表 List</h2><h3 id="1-无序列表-Unordered-List"><a href="#1-无序列表-Unordered-List" class="headerlink" title="1. 无序列表 Unordered List"></a>1. 无序列表 Unordered List</h3><p><code>*</code> <code>+</code> <code>-</code>之后的空格不能少。<br>对嵌套列表，符号之后和之前的空格都不能少。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">* One</span></span><br><span class="line">+ <span class="keyword">Two</span></span><br><span class="line">  - <span class="keyword">Two</span> Point <span class="keyword">One</span></span><br><span class="line"><span class="comment">  * Two Point Two</span></span><br><span class="line">- Three</span><br></pre></td></tr></table></figure><p>效果:</p><ul><li>One</li></ul><ul><li>Two<ul><li>Two Point One</li></ul><ul><li>Two Point Two</li></ul></li></ul><ul><li>Three<h3 id="有序列表-Ordered-List"><a href="#有序列表-Ordered-List" class="headerlink" title="有序列表 Ordered List"></a>有序列表 Ordered List</h3><code>.</code>后的空格不能少。<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1. <span class="keyword">One</span></span><br><span class="line">2. <span class="keyword">Two</span></span><br><span class="line">  1. <span class="keyword">Two</span> Point <span class="keyword">One</span></span><br><span class="line">  2. <span class="keyword">Two</span> Point <span class="keyword">Two</span></span><br><span class="line">9. Three</span><br></pre></td></tr></table></figure></li></ul><ol><li>One</li><li>Two<ul><li>Two Point One</li><li>Two Point Two</li></ul></li><li>Three</li></ol><h2 id="链接-Link"><a href="#链接-Link" class="headerlink" title="链接 Link"></a>链接 Link</h2><h3 id="文字链接"><a href="#文字链接" class="headerlink" title="文字链接"></a>文字链接</h3><p><code>&quot; &quot;</code>里的内容可省略。</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://wuchenxu.com -automatic!</span><br><span class="line">[<span class="string">blog</span>](<span class="link">https://wuchenxu.com "chenxu's blog"</span>)</span><br></pre></td></tr></table></figure><p><a href="https://wuchenxu.com" target="_blank" rel="noopener">https://wuchenxu.com</a> -automatic!<br><a href="https://wuchenxu.com" target="_blank" rel="noopener" title="chenxu&#39;s blog">blog</a></p><h3 id="图片链接"><a href="#图片链接" class="headerlink" title="图片链接"></a>图片链接</h3><p>设置大小对齐，需要使用HTML, <code>&quot; &quot;</code>可以省略。</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">Image of Yaktocat</span>](<span class="link">https://octodex.github.com/images/yaktocat.png "Yaktocat"</span>)</span><br></pre></td></tr></table></figure><p><img src="https://octodex.github.com/images/yaktocat.png" alt="Image of Yaktocat" title="Yaktocat"></p><h3 id="图片嵌入超链接"><a href="#图片嵌入超链接" class="headerlink" title="图片嵌入超链接"></a>图片嵌入超链接</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">![</span>](<span class="link">http://github.global.ssl.fastly.net/images/modules/logos_page/GitHub-Mark.png</span>)](<span class="link">http://www.github.com "link to github"</span>)</span><br></pre></td></tr></table></figure><p><a href="http://www.github.com" target="_blank" rel="noopener" title="link to github"><img src="http://github.global.ssl.fastly.net/images/modules/logos_page/GitHub-Mark.png" alt=""></a></p><h3 id="索引链接"><a href="#索引链接" class="headerlink" title="索引链接"></a>索引链接</h3><p><code>^1</code> <code>^2</code>可以是任意字符。</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">blog</span>][<span class="symbol">^1</span>]</span><br><span class="line">![<span class="string">GitHub Octocat</span>][<span class="symbol">^2</span>]</span><br><span class="line"></span><br><span class="line">[<span class="symbol">^1</span>]: <span class="link">https://wuchenxu.com</span></span><br><span class="line">[<span class="symbol">^2</span>]: <span class="link">http://github.global.ssl.fastly.net/images/modules/logos_page/Octocat.png</span></span><br></pre></td></tr></table></figure><p><a href="https://wuchenxu.com" target="_blank" rel="noopener">blog</a><br><img src="http://github.global.ssl.fastly.net/images/modules/logos_page/Octocat.png" alt="GitHub Octocat"></p><h3 id="脚标"><a href="#脚标" class="headerlink" title="脚标"></a>脚标</h3><p><code>^ref</code>可以是任意字符。</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Ref[^ref]</span><br><span class="line">[<span class="symbol">^ref</span>]: <span class="link">your-link</span></span><br></pre></td></tr></table></figure><p>Ref[^ref]<br>[^ref]: your-link</p><h2 id="代码-Code"><a href="#代码-Code" class="headerlink" title="代码 Code"></a>代码 Code</h2><blockquote><p>`code`</p></blockquote><p><code>code</code></p><blockquote><p>```<br> if (isOK)<br> {<br>     return true;<br> }<br>```</p></blockquote><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (isOK)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="页内链接Anchor"><a href="#页内链接Anchor" class="headerlink" title="页内链接Anchor"></a>页内链接Anchor</h3><h4 id="markdown目录"><a href="#markdown目录" class="headerlink" title="markdown目录"></a>markdown目录</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.标题 </span><br><span class="line"><span class="section"># format output</span></span><br><span class="line">2.引用标题 </span><br><span class="line">[<span class="string">上一节</span>](<span class="link">#format-output</span>)</span><br></pre></td></tr></table></figure><h4 id="html标签"><a href="#html标签" class="headerlink" title="html标签"></a>html标签</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">1. </span>先定义一个锚(id)</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"jump"</span>&gt;</span></span>Hello World<span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="bullet">2. </span>然后使用markdown的语法</span><br><span class="line">[<span class="string">XXXX</span>](<span class="link">#jump</span>)</span><br></pre></td></tr></table></figure><h2 id="分割线"><a href="#分割线" class="headerlink" title="分割线"></a>分割线</h2><p>三个或者更过的<code>-</code>或者<code>*</code>,必须单独成行，可以有空格</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>- -</span><br><span class="line">hello</span><br><span class="line"><span class="bullet">* </span><span class="bullet">* *</span></span><br></pre></td></tr></table></figure><hr><p>hello</p><hr><h1 id="GFM语法"><a href="#GFM语法" class="headerlink" title="GFM语法"></a>GFM语法</h1><p>GFM(Github Flavored Markdown)是github对Markdown语法的一些扩展,官方版本的Markdown不支持以下语法。</p><h2 id="表格-Table"><a href="#表格-Table" class="headerlink" title="表格 Table"></a>表格 Table</h2><p>官方版本的Markdown语法是不支持表格的，由于兼容HTML，可以使用<code>&lt;table&gt;</code>标签来表示table。但是，有一些Markdown的语法扩展支持简单的表格(Simple Table)。<br>如<a href="http://markdown-here.com/" target="_blank" rel="noopener">Markdown Here</a>,Github支持简单表格,推荐使用<a href="http://www.tablesgenerator.com/markdown_tables" target="_blank" rel="noopener">table generator</a>来生成表格。<br>GFM的语法很简单，不支持行或者列的合并，不支持一个单元格的多行文字。<br>第一行是标题，第二行是固定的<code>-</code>，冒号<code>:</code>是来表示对齐方式。<br><code>表格前或后必须有空行</code>.</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="params">| Tables   |</span>      Are      <span class="params">|  Cool |</span></span><br><span class="line"><span class="params">|----------|</span><span class="symbol">:-------------</span><span class="symbol">:|------</span><span class="symbol">:|</span></span><br><span class="line"><span class="params">| col 1 is |</span>  left-aligned <span class="params">| $1600 |</span></span><br><span class="line"><span class="params">| col 2 is |</span>    centered   <span class="params">|   $12 |</span></span><br><span class="line"><span class="params">| col 3 is |</span> right-aligned <span class="params">|    $1 |</span></span><br></pre></td></tr></table></figure><p>效果：</p><table><thead><tr><th>Tables</th><th align="center">Are</th><th align="right">Cool</th></tr></thead><tbody><tr><td>col 1 is</td><td align="center">left-aligned</td><td align="right">$1600</td></tr><tr><td>col 2 is</td><td align="center">centered</td><td align="right">$12</td></tr><tr><td>col 3 is</td><td align="center">right-aligned</td><td align="right">$1</td></tr></tbody></table><h2 id="语法高亮-Syntax-Highlighting"><a href="#语法高亮-Syntax-Highlighting" class="headerlink" title="语法高亮 Syntax Highlighting"></a>语法高亮 Syntax Highlighting</h2><blockquote><p>```javascript<br>function fancyAlert(arg) {<br>  if(arg) {<br>    $.facebox({div:’#foo’})<br>  }<br>}<br>```</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fancyAlert</span>(<span class="params">arg</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(arg) &#123;</span><br><span class="line">    $.facebox(&#123;<span class="attr">div</span>:<span class="string">'#foo'</span>&#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="任务列表-Task-List"><a href="#任务列表-Task-List" class="headerlink" title="任务列表 Task List"></a>任务列表 Task List</h2><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- <span class="comment">[x]</span> This <span class="keyword">is</span> a complete item</span><br><span class="line"> - <span class="comment">[x]</span> task 1</span><br><span class="line"> - <span class="comment">[x]</span> task 2</span><br><span class="line">- <span class="comment">[ ]</span> This <span class="keyword">is</span> an incomplete item</span><br></pre></td></tr></table></figure><ul><li><input checked="" disabled="" type="checkbox"> This is a complete item<ul><li><input checked="" disabled="" type="checkbox"> task 1</li><li><input checked="" disabled="" type="checkbox"> task 2</li></ul></li><li><input disabled="" type="checkbox"> This is an incomplete item</li></ul><h2 id="表情-Emoji"><a href="#表情-Emoji" class="headerlink" title="表情 Emoji"></a>表情 Emoji</h2><p>体验一下<a href="http://www.emoji-cheat-sheet.com/" target="_blank" rel="noopener">2015牛津年度英语单词</a> 笑cry</p><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">:joy:</span></span><br></pre></td></tr></table></figure><p>:joy:</p><h1 id="进阶"><a href="#进阶" class="headerlink" title="进阶"></a>进阶</h1><p><a href="http://www.jianshu.com/p/PpDNMG" target="_blank" rel="noopener">科技写作用Markdown+R</a> 可以生成各种公式图片图表。</p><p>Reference:</p><ol><li><a href="http://www.appinn.com/markdown/" target="_blank" rel="noopener">翻译markdown 语法说明</a></li><li><a href="http://www.tablesgenerator.com/markdown_tables" target="_blank" rel="noopener">table generator</a></li><li><a href="http://daringfireball.net/projects/markdown/syntax" target="_blank" rel="noopener">official markdown</a></li><li><a href="http://mahua.jser.me/" target="_blank" rel="noopener">mahua在线Markdown</a></li><li><a href="https://guides.github.com/features/mastering-markdown/" target="_blank" rel="noopener">Github Flavored Markdown</a></li><li><a href="http://www.emoji-cheat-sheet.com/" target="_blank" rel="noopener">Emoji Cheat Sheet</a></li><li><a href="https://roachhd.gitbooks.io/master-markdown/content/syntax/anchors.html" target="_blank" rel="noopener">anchors</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Markdown </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BCD码</title>
      <link href="/2015/11/18/BCD-CODE/"/>
      <url>/2015/11/18/BCD-CODE/</url>
      
        <content type="html"><![CDATA[<img src="/2015/11/18/BCD-CODE/500px-Binary_clock.svg.png" class=""><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>标记方法:<br>    十进制数: <code>&#39;1234&#39;d</code>中 个位数字4，十位数字3，百位数字2，千位数字1，都是十进制数的一位，称为十进制位。<br>BCD(Binary Coded Decimal)码，是指用二进制数对十进制数进行的编码，每个十进制位由一个固定bit的二进制数表示。</p><blockquote><p>非压缩BCD(unpacked BCD): 指一个字节(8 bits)表示一个十进制位。<br>压缩BCD(pBCD(packed BCD)): 指半字节(nibble, 4 bits)表示一个十进制位。</p></blockquote><a id="more"></a><p>当然也有一些特殊模式来表示符号位或者错误、溢出等其他信息。</p><h2 id="基础-Basics"><a href="#基础-Basics" class="headerlink" title="基础 Basics"></a>基础 Basics</h2><p>最常见的BCD码称为8421码，用4个bit来表示一个十进制位，这种BCD也称为”natural BCD(NBCD)”.<br>还有其他编码方式，如”4221” 或者 “7421”.<br>这些表示方法的命名方法使用了每个位的权重(weighting)。</p><table><thead><tr><th align="center"><em>Decimal Digit</em></th><th align="center"><em>BCD 8421</em></th><th align="center"><em>BCD 4221</em></th><th align="center"><em>BCD 8 4 -2 -1</em></th><th align="center"><em>ASCII 8421</em></th></tr></thead><tbody><tr><td align="center">0</td><td align="center">0 0 0 0</td><td align="center">0 0 0 0</td><td align="center">0 0 0 0</td><td align="center">00110000</td></tr><tr><td align="center">1</td><td align="center">0 0 0 1</td><td align="center">0 0 0 1</td><td align="center">0 1 1 1</td><td align="center">00110001</td></tr><tr><td align="center">2</td><td align="center">0 0 1 0</td><td align="center">0 0 1 0</td><td align="center">0 1 1 0</td><td align="center">00110010</td></tr><tr><td align="center">3</td><td align="center">0 0 1 1</td><td align="center">0 0 1 1</td><td align="center">0 1 0 1</td><td align="center">00110011</td></tr><tr><td align="center">4</td><td align="center">0 1 0 0</td><td align="center">1 0 0 0</td><td align="center">0 1 0 0</td><td align="center">00110100</td></tr><tr><td align="center">5</td><td align="center">0 1 0 1</td><td align="center">1 0 0 1</td><td align="center">1 0 1 1</td><td align="center">00110101</td></tr><tr><td align="center">6</td><td align="center">0 1 1 0</td><td align="center">1 1 0 0</td><td align="center">1 0 1 0</td><td align="center">00110110</td></tr><tr><td align="center">7</td><td align="center">0 1 1 1</td><td align="center">1 1 0 1</td><td align="center">1 0 0 1</td><td align="center">00110111</td></tr><tr><td align="center">8</td><td align="center">1 0 0 0</td><td align="center">1 1 1 0</td><td align="center">1 0 0 0</td><td align="center">00111000</td></tr><tr><td align="center">9</td><td align="center">1 0 0 1</td><td align="center">1 1 1 1</td><td align="center">1 1 1 1</td><td align="center">00111001</td></tr></tbody></table><p>非压缩BCD使用8个bit来表示1个十进制位：</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Decimal:    <span class="number">6</span>         <span class="number">2</span>         <span class="number">8</span></span><br><span class="line">Binary : <span class="number">00000110</span>  <span class="number">00000010</span>  <span class="number">00001000</span></span><br></pre></td></tr></table></figure><p>在非压缩BCD中高4位全是0，可以记为<code>00008412码</code>;<br>压缩BCD利用了8421码只使用4为就可以表示0-9，所以只用4位表示一个十进制位，压缩了数据, 提高了压缩效率。</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Decimal:             <span class="number">6</span>        <span class="number">2</span>        <span class="number">8</span></span><br><span class="line">Binary :  <span class="number">0000</span>     <span class="number">0110</span>      <span class="number">0010</span>     <span class="number">1000</span></span><br></pre></td></tr></table></figure><p>由于计算机中以字节为最小访问单位，压缩BCD中半字节需要补全为一个字节。如上例中628，其实是0628.</p><h2 id="有符号数-Signed-Integer"><a href="#有符号数-Signed-Integer" class="headerlink" title="有符号数 Signed Integer"></a>有符号数 Signed Integer</h2><h3 id="非压缩BCD表示方法"><a href="#非压缩BCD表示方法" class="headerlink" title="非压缩BCD表示方法"></a>非压缩BCD表示方法</h3><p><code>S0008421BCD</code>的最高bit位是符号位，为0认为是正数，为1则为负数。</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Decimal:  <span class="number">-13</span></span><br><span class="line">Binary : <span class="number">10000001</span> <span class="number">00000011</span></span><br></pre></td></tr></table></figure><h3 id="压缩BCD表示方法"><a href="#压缩BCD表示方法" class="headerlink" title="压缩BCD表示方法"></a>压缩BCD表示方法</h3><p>对于有符号数，需要用一个半字节来表示符号。</p><table><thead><tr><th align="center"><em>Sign Digit</em></th><th align="center"><em>BCD 8421</em></th><th align="center"><em>Sign</em></th><th align="center"><em>Note</em></th></tr></thead><tbody><tr><td align="center">A</td><td align="center">1 0 1 0</td><td align="center">+</td><td align="center"></td></tr><tr><td align="center">B</td><td align="center">1 0 1 1</td><td align="center">-</td><td align="center"></td></tr><tr><td align="center">C</td><td align="center">1 1 0 0</td><td align="center">+</td><td align="center">EBCDIC</td></tr><tr><td align="center">D</td><td align="center">1 1 0 1</td><td align="center">-</td><td align="center">EBCDIC</td></tr><tr><td align="center">E</td><td align="center">1 1 1 0</td><td align="center">+</td><td align="center"></td></tr><tr><td align="center">F</td><td align="center">1 1 1 1</td><td align="center">-</td><td align="center"></td></tr><tr><td align="center">EBCDIC字符集使用C为+，D为-,使用大端模式，最低半字节表示符号。</td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">number: <span class="number">-1234</span></span><br><span class="line">Decimal:   <span class="number">1</span>   <span class="number">2</span>    <span class="number">3</span>    <span class="number">4</span>     -</span><br><span class="line">Binary : <span class="number">0001</span> <span class="number">0010</span> <span class="number">0011</span> <span class="number">0100</span>  <span class="number">1101</span></span><br></pre></td></tr></table></figure><h2 id="浮点数-Float"><a href="#浮点数-Float" class="headerlink" title="浮点数 Float"></a>浮点数 Float</h2><p>浮点数可以使用约定俗成的方法来表示，如约定小数点后只有2位。<br>123C表示+1.23；100D表示+1.00</p><h2 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h2><p>在一些时钟芯片的寄存器采用BCD码形式输出。0x12,0x34,0x56可以表示12:34:56.<br>如M41T0 real time clock的日期和时间格式都是以压缩BCD码表示。</p><img src="/2015/11/18/BCD-CODE/M41T_rt_bcd_reg.png" class=""><p>Reference:</p><ol><li><a href="https://en.wikipedia.org/wiki/Binary-coded_decimal" target="_blank" rel="noopener">BCD wiki</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> encoding </category>
          
      </categories>
      
      
        <tags>
            
            <tag> encoding </tag>
            
            <tag> software </tag>
            
            <tag> computing </tag>
            
            <tag> electronic </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>天猫魔盒安装视频APP</title>
      <link href="/2015/11/11/Tmall-Box-Install-other-video-app/"/>
      <url>/2015/11/11/Tmall-Box-Install-other-video-app/</url>
      
        <content type="html"><![CDATA[<ol><li>视频APP的TV版不能使用<br> 总局封掉了盒子们的视频APP，所以盒子们默认不能安装youku、爱奇艺等视频app。这难不倒向往外面的世界的人们。</li></ol><ol start="2"><li>安装电视猫<br> 从度娘上得知一款叫做 <code>电视猫</code>的APP，官网上说支持各种盒子们，亲测天猫魔盒可用。<br> <a href="http://www.moretv.com.cn" target="_blank" rel="noopener"><img src="http://www.moretv.com.cn/sources/img/logo.png" alt=""></a>  <a id="more"></a> 具体安装过程见 <a href="http://www.moretv.com.cn" target="_blank" rel="noopener" title="电视猫官网">电视猫官网</a><br> 大体过程：下载apk -&gt; 拷贝到U盘 -&gt; 盒子U盘安装apk<br> 测试的天猫魔盒:<pre><code>设备型号:TMB100A系统版本:2.1.0-R-20141214.1729</code></pre></li><li>安装其他APP<br> 电视猫的应用里有其他的APP，可以直接安装。<br> 亲测可以安装破解版youku、腾讯视频以及爱奇艺，且可用。<br> 还可以下载<code>全家盒市场</code>等应用市场，从应用市场里可以安装更多的TV版APP。</li></ol>]]></content>
      
      
      <categories>
          
          <category> APP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tool </tag>
            
            <tag> APP </tag>
            
            <tag> Video </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>个人博客搭建hexo+github(4):进阶配置</title>
      <link href="/2015/11/09/Static-Blog-hexo-github-4-advanced/"/>
      <url>/2015/11/09/Static-Blog-hexo-github-4-advanced/</url>
      
        <content type="html"><![CDATA[<img src="/2015/11/09/Static-Blog-hexo-github-4-advanced/improve.jpg" class=""><h1 id="文章生成模板"><a href="#文章生成模板" class="headerlink" title="文章生成模板"></a>文章生成模板</h1><p>命令</p><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span> <span class="type"></span>[layout] <span class="string">"postName"</span>  <span class="meta">#新建文章</span></span><br></pre></td></tr></table></figure><p>按照layout格式，根据<code>postName</code>生成文章到<code>hexo/source/_posts/postNmae.md</code>.<br>layout为可选参数，默认为post，其他可选项在<code>hexo/scaffolds</code>目录下查看，md文件就是layout的名字。<br>可以自行添加新的layout或者更改现有的layout。<br> <a id="more"></a><br>修改post.md:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title:</span> <span class="string">&#123;&#123;</span> <span class="string">title</span> <span class="string">&#125;&#125;</span></span><br><span class="line"><span class="attr">date:</span> <span class="string">&#123;&#123;</span> <span class="string">date</span> <span class="string">&#125;&#125;</span></span><br><span class="line"><span class="attr">updated:</span> <span class="string">&#123;&#123;</span> <span class="string">date</span> <span class="string">&#125;&#125;</span></span><br><span class="line"><span class="attr">categories:</span> </span><br><span class="line"><span class="bullet">-</span> <span class="string">C1</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">C2</span></span><br><span class="line"><span class="attr">tags:</span> <span class="string">[T1,</span> <span class="string">T2]</span></span><br><span class="line"><span class="attr">comments:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">layout:</span> <span class="string">&#123;&#123;</span> <span class="string">layout</span> <span class="string">&#125;&#125;</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="string">&lt;!--more--&gt;</span></span><br></pre></td></tr></table></figure><p>注意<code>:</code>后面有空格。</p><h1 id="添加RSS"><a href="#添加RSS" class="headerlink" title="添加RSS"></a>添加RSS</h1><ol><li>github src<br><a href="https://github.com/hexojs/hexo-generator-feed" target="_blank" rel="noopener">https://github.com/hexojs/hexo-generator-feed</a><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-generator-feed –-save</span><br></pre></td></tr></table></figure></li><li>修改 hexo配置文件_config.yml, add<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">feed:</span><br><span class="line">  <span class="keyword">type</span>: atom</span><br><span class="line">  path: atom.xml</span><br><span class="line">  limit: <span class="number">20</span></span><br></pre></td></tr></table></figure></li></ol><h1 id="添加sitemap"><a href="#添加sitemap" class="headerlink" title="添加sitemap"></a>添加sitemap</h1><blockquote><p>Sitemap 的提交主要的目的，是要避免搜索引擎的爬虫没有完整的收录整个网页&gt; 的内容，所以提交 Sitemap 是能够补足搜索引擎的不足，进而加速网页的收录<br>速度，达到搜寻引擎友好的目的。</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-generator-sitemap --save</span><br><span class="line">$ npm install hexo-generator-baidu-sitemap --save <span class="comment">#this is for baidu</span></span><br></pre></td></tr></table></figure><p>add below to _config.yml in the root dir of Hexo</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">sitemap:</span></span><br><span class="line"><span class="symbol">  path:</span> sitemap.xml</span><br><span class="line"><span class="symbol">baidusitemap:</span></span><br><span class="line"><span class="symbol">  path:</span> baidusitemap.xml</span><br></pre></td></tr></table></figure><h1 id="添加robots-txt"><a href="#添加robots-txt" class="headerlink" title="添加robots.txt"></a>添加robots.txt</h1><p>把<a href="https://en.wikipedia.org/wiki/Robots_exclusion_standard" target="_blank" rel="noopener">robots.txt</a>放在<code>source</code>文件夹下。</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># hexo robots.txt</span></span><br><span class="line">User-agent: *</span><br><span class="line"><span class="symbol">Allow:</span> /</span><br><span class="line"><span class="symbol">Allow:</span> <span class="meta-keyword">/archives/</span></span><br><span class="line"></span><br><span class="line"><span class="symbol">Disallow:</span> <span class="meta-keyword">/vendors/</span></span><br><span class="line"><span class="symbol">Disallow:</span> <span class="meta-keyword">/js/</span></span><br><span class="line"><span class="symbol">Disallow:</span> <span class="meta-keyword">/css/</span></span><br><span class="line"><span class="symbol">Disallow:</span> <span class="meta-keyword">/fonts/</span></span><br><span class="line"><span class="symbol">Disallow:</span> <span class="meta-keyword">/vendors/</span></span><br><span class="line"><span class="symbol">Disallow:</span> <span class="meta-keyword">/fancybox/</span></span><br><span class="line"></span><br><span class="line"><span class="symbol">Sitemap:</span> http:<span class="comment">//WuChenxu.github.io/sitemap.xml</span></span><br><span class="line"><span class="symbol">Sitemap:</span> http:<span class="comment">//WuChenxu.github.io/baidusitemap.xml</span></span><br></pre></td></tr></table></figure><h1 id="统计"><a href="#统计" class="headerlink" title="统计"></a>统计</h1><p>使用<a href="tongji.baidu.com">百度统计</a>,注册账号后，截取<code>hm.js?</code>后的字符串为Baidu Analytics ID.<br>在next主题配置文件中，修改baidu_analytics的值。</p><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># Baidu Analytics ID</span></span><br><span class="line"><span class="meta"># 为百度统计提供脚本中 hm.js? 后字符串，非百度统计帐号</span></span><br><span class="line">baidu_analytics:xxxx</span><br></pre></td></tr></table></figure><h1 id="留言"><a href="#留言" class="headerlink" title="留言"></a>留言</h1><h2 id="Valin"><a href="#Valin" class="headerlink" title="Valin"></a><a href="https://valine.js.org/" target="_blank" rel="noopener">Valin</a></h2><blockquote><p>Valine 诞生于2017年8月7日，是一款基于Leancloud的快速、简洁且高效的无后端评论系统。</p></blockquote><p>按照<a href="https://valine.js.org/quickstart.html" target="_blank" rel="noopener">快速开始</a>步骤，注册<code>LeanCloud</code>之后在主题配置文件使能valin即可。</p><figure class="highlight yml"><figcaption><span>next-theme/_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Valine.</span></span><br><span class="line"><span class="comment"># You can get your appid and appkey from https://leancloud.cn</span></span><br><span class="line"><span class="comment"># more info please open https://valine.js.org</span></span><br><span class="line"><span class="attr">valine:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span> <span class="comment"># When enable is set to be true, leancloud_visitors is recommended to be closed for the re-initialization problem within different leancloud adk version.</span></span><br><span class="line"><span class="attr">  appid:</span> <span class="string">xxxxxx</span> <span class="comment"># your leancloud application appid</span></span><br><span class="line"><span class="attr">  appkey:</span> <span class="string">xxxxx</span> <span class="comment"># your leancloud application appkey</span></span><br><span class="line"><span class="attr">  notify:</span> <span class="literal">true</span> <span class="comment"># mail notifier , https://github.com/xCss/Valine/wiki</span></span><br><span class="line"><span class="attr">  verify:</span> <span class="literal">true</span> <span class="comment"># Verification code</span></span><br><span class="line"><span class="attr">  placeholder:</span> <span class="string">Just</span> <span class="string">go</span> <span class="string">go</span> <span class="comment"># comment box placeholder</span></span><br><span class="line"><span class="attr">  avatar:</span> <span class="string">mm</span> <span class="comment"># gravatar style</span></span><br><span class="line"><span class="attr">  guest_info:</span> <span class="string">nick,mail,link</span> <span class="comment"># custom comment header</span></span><br><span class="line"><span class="attr">  pageSize:</span> <span class="number">10</span> <span class="comment"># pagination size</span></span><br><span class="line"><span class="attr">  visitor:</span> <span class="literal">true</span> <span class="comment"># leancloud-counter-security is not supported for now. When visitor is set to be true, appid and appkey are recommended to be the same as leancloud_visitors' for counter compatibility. Article reading statistic https://valine.js.org/visitor.html</span></span><br></pre></td></tr></table></figure><h1 id="计数"><a href="#计数" class="headerlink" title="计数"></a>计数</h1><h2 id="使用不蒜子"><a href="#使用不蒜子" class="headerlink" title="使用不蒜子."></a>使用<a href="http://ibruce.info/2015/04/04/busuanzi/" target="_blank" rel="noopener">不蒜子</a>.</h2><p>在最新的<a href="https://github.com/theme-next/hexo-theme-next" target="_blank" rel="noopener">next主题</a>(6.0)直接配置next主题即可，如下</p><figure class="highlight yml"><figcaption><span>next-theme/_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Show Views/Visitors of the website/page with busuanzi.</span></span><br><span class="line"><span class="comment"># Get more information on http://ibruce.info/2015/04/04/busuanzi</span></span><br><span class="line"><span class="attr">busuanzi_count:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  total_visitors:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  total_visitors_icon:</span> <span class="string">user</span></span><br><span class="line"><span class="attr">  total_views:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  total_views_icon:</span> <span class="string">eye</span></span><br><span class="line"><span class="attr">  post_views:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  post_views_icon:</span> <span class="string">eye</span></span><br></pre></td></tr></table></figure><h2 id="使用Valin"><a href="#使用Valin" class="headerlink" title="使用Valin"></a>使用<a href="https://valine.js.org/" target="_blank" rel="noopener">Valin</a></h2><p>valin在留言基础上附加的计数功能。</p><figure class="highlight yml"><figcaption><span>next-theme/_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">valine:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span> <span class="comment"># When enable is set to be true, leancloud_visitors is recommended to be closed for the re-initialization </span></span><br><span class="line"><span class="attr">  visitor:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h1 id="404页面"><a href="#404页面" class="headerlink" title="404页面"></a>404页面</h1><p><a href="https://www.qq.com/404/" target="_blank" rel="noopener">腾讯公益404</a>生成代码嵌入404.html，放在</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo\source</span><br><span class="line">│  <span class="number">404</span>.html</span><br><span class="line">│</span><br><span class="line">└─_posts</span><br></pre></td></tr></table></figure><figure class="highlight html"><figcaption><span> 404.html</span><a href="/downloads/code/404.html">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE HTML&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span>   </span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>404 - WuChenxu'blog<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">"404错误，页面不存在！"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"content-type"</span> <span class="attr">content</span>=<span class="string">"text/html;charset=utf-8;"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge,chrome=1"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"robots"</span> <span class="attr">content</span>=<span class="string">"all"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"robots"</span> <span class="attr">content</span>=<span class="string">"index,follow"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">&lt;!DOCTYPE HTML&gt;</span></span><br><span class="line"><span class="comment">&lt;html&gt;</span></span><br><span class="line"><span class="comment">&lt;head&gt;</span></span><br><span class="line"><span class="comment">&lt;meta charset="UTF-8" /&gt;</span></span><br><span class="line"><span class="comment">&lt;title&gt;公益404&lt;/title&gt;</span></span><br><span class="line"><span class="comment">&lt;/head&gt;</span></span><br><span class="line"><span class="comment">&lt;body&gt;</span></span><br><span class="line"><span class="comment">&lt;h1&gt;404 Page Not Found&lt;/h1&gt;</span></span><br><span class="line"><span class="comment">--&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//qzonestyle.gtimg.cn/qzone/hybrid/app/404/search_children.js"</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>  <span class="attr">homePageUrl</span>=<span class="string">"https://wuchenxu.com"</span> <span class="attr">homePageName</span>=<span class="string">"回到我的主页"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">公益404介接入地址</span></span><br><span class="line"><span class="comment">益云公益404 http://yibo.iyiyun.com/Index/web404</span></span><br><span class="line"><span class="comment">腾讯公益404 http://www.qq.com/404</span></span><br><span class="line"><span class="comment">失蹤兒童少年資料管理中心404 http://404page.missingkids.org.tw</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>html文件必须以utf-8格式保存，否则中文会出现乱码。<br>一定要是https，否则会被chrome拦截。</p><p> Reference:</p><ol><li><a href="http://www.jianshu.com/p/35e197cb1273" target="_blank" rel="noopener">Hexo搭建Github-Pages博客</a></li><li><a href="http://www.arao.me/2015/hexo-next-theme-optimize-seo/" target="_blank" rel="noopener">NexT主题与Hexo更搭哦</a></li><li><a href="https://valine.js.org/" target="_blank" rel="noopener">Valin</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> github </tag>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>个人博客搭建hexo+github(3):主题配置</title>
      <link href="/2015/11/09/Static-Blog-hexo-github-3-config-theme/"/>
      <url>/2015/11/09/Static-Blog-hexo-github-3-config-theme/</url>
      
        <content type="html"><![CDATA[<img src="/2015/11/09/Static-Blog-hexo-github-3-config-theme/theme_next_preview.jpg" class=""><h1 id="overview"><a href="#overview" class="headerlink" title="overview"></a>overview</h1><blockquote><p>Hexo 有两份主要的配置文件（_config.yml），一份位于hexo根目录下，另一<br>份位于主题目录下。为了描述方便，在以下说明中，将前者称为<br>全局配置文件，后者称为 主题配置文件。</p></blockquote><h1 id="hexo全局配置文件-config-yml"><a href="#hexo全局配置文件-config-yml" class="headerlink" title="hexo全局配置文件_config.yml"></a>hexo全局配置文件_config.yml</h1><p>与主题有关的 全局配置文件配置</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">theme:</span> hexo-theme-next <span class="meta">#启用主题</span></span><br><span class="line"><span class="symbol">language:</span> <span class="built_in">zh</span>-CN <span class="meta">#查看themes/hexo-theme-next/languages下支持的语言</span></span><br></pre></td></tr></table></figure><a id="more"></a> <h1 id="主题配置文件配置"><a href="#主题配置文件配置" class="headerlink" title="主题配置文件配置"></a>主题配置文件配置</h1><figure class="highlight yml"><figcaption><span> theme-next-config</span><a href="/downloads/code/config/theme-next/_config.yml">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Theme Core Configuration Settings</span></span><br><span class="line"><span class="comment"># See: https://theme-next.org/docs/theme-settings/</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If false, merge configs from `_data/next.yml` into default configuration (rewrite).</span></span><br><span class="line"><span class="comment"># If true, will fully override default configuration by options from `_data/next.yml` (override). Only for NexT settings.</span></span><br><span class="line"><span class="comment"># And if true, all config from default NexT `_config.yml` must be copied into `next.yml`. Use if you know what you are doing.</span></span><br><span class="line"><span class="comment"># Useful if you want to comment some options from NexT `_config.yml` by `next.yml` without editing default config.</span></span><br><span class="line"><span class="attr">override:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Allow to cache content generation. Introduced in NexT v6.0.0.</span></span><br><span class="line"><span class="attr">cache:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Redefine custom file paths. Introduced in NexT v6.0.2. If commented, will be used default custom file paths.</span></span><br><span class="line"><span class="comment"># For example, you want to put your custom styles file outside theme directory in root `source/_data`, set `styles: source/_data/styles.styl`</span></span><br><span class="line"><span class="comment">#custom_file_path:</span></span><br><span class="line">  <span class="comment"># Default paths: layout/_custom/*</span></span><br><span class="line">  <span class="comment">#head: source/_data/head.swig</span></span><br><span class="line">  <span class="comment">#header: source/_data/header.swig</span></span><br><span class="line">  <span class="comment">#sidebar: source/_data/sidebar.swig</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Default path: source/css/_variables/custom.styl</span></span><br><span class="line">  <span class="comment">#variables: source/_data/variables.styl</span></span><br><span class="line">  <span class="comment"># Default path: source/css/_mixins/custom.styl</span></span><br><span class="line">  <span class="comment">#mixins: source/_data/mixins.styl</span></span><br><span class="line">  <span class="comment"># Default path: source/css/_custom/custom.styl</span></span><br><span class="line">  <span class="comment">#styles: source/_data/styles.styl</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Site Information Settings</span></span><br><span class="line"><span class="comment"># See: https://theme-next.org/docs/getting-started/</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="attr">favicon:</span></span><br><span class="line"><span class="attr">  small:</span> <span class="string">/images/favicon-16x16-next.png</span></span><br><span class="line"><span class="attr">  medium:</span> <span class="string">/images/favicon-32x32-next.png</span></span><br><span class="line"><span class="attr">  apple_touch_icon:</span> <span class="string">/images/apple-touch-icon-next.png</span></span><br><span class="line"><span class="attr">  safari_pinned_tab:</span> <span class="string">/images/logo.svg</span></span><br><span class="line">  <span class="comment">#android_manifest: /images/manifest.json</span></span><br><span class="line">  <span class="comment">#ms_browserconfig: /images/browserconfig.xml</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set rss to false to disable feed link.</span></span><br><span class="line"><span class="comment"># Leave rss as blank to use site's feed link, and install hexo-generator-feed: `npm install hexo-generator-feed --save`.</span></span><br><span class="line"><span class="comment"># Set rss to specific value if you have burned your feed already.</span></span><br><span class="line"><span class="attr">rss:</span></span><br><span class="line"></span><br><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="comment"># Specify the date when the site was setup. If not defined, current year will be used.</span></span><br><span class="line"><span class="attr">  since:</span> <span class="number">2015</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Icon between year and copyright info.</span></span><br><span class="line"><span class="attr">  icon:</span></span><br><span class="line">    <span class="comment"># Icon name in fontawesome, see: https://fontawesome.com/v4.7.0/icons/</span></span><br><span class="line">    <span class="comment"># `heart` is recommended with animation in red (#ff0000).</span></span><br><span class="line"><span class="attr">    name:</span> <span class="string">heart</span></span><br><span class="line">    <span class="comment"># If you want to animate the icon, set it to true.</span></span><br><span class="line"><span class="attr">    animated:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Change the color of icon, using Hex Code.</span></span><br><span class="line"><span class="attr">    color:</span> <span class="string">"#ff0000"</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># If not defined, `author` from Hexo main config will be used.</span></span><br><span class="line"><span class="attr">  copyright:</span></span><br><span class="line"></span><br><span class="line"><span class="attr">  powered:</span></span><br><span class="line">    <span class="comment"># Hexo link (Powered by Hexo).</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Version info of Hexo after Hexo link (vX.X.X).</span></span><br><span class="line"><span class="attr">    version:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="attr">  theme:</span></span><br><span class="line">    <span class="comment"># Theme &amp; scheme info link (Theme - NexT.scheme).</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Version info of NexT after scheme info (vX.X.X).</span></span><br><span class="line"><span class="attr">    version:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Beian icp information for Chinese users. In China, every legal website should have a beian icp in website footer.</span></span><br><span class="line">  <span class="comment"># http://www.beian.miit.gov.cn</span></span><br><span class="line"><span class="attr">  beian:</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    icp:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Any custom text can be defined here.</span></span><br><span class="line"><span class="attr">  custom_text:</span> <span class="string">Hosted</span> <span class="string">by</span> <span class="string">&lt;a</span> <span class="string">href="https://pages.coding.me"</span> <span class="string">class="theme-link"</span> <span class="string">rel="noopener"</span> <span class="string">target="_blank"&gt;Coding</span> <span class="string">Pages&lt;/a&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Creative Commons 4.0 International License.</span></span><br><span class="line"><span class="comment"># See: https://creativecommons.org/share-your-work/licensing-types-examples</span></span><br><span class="line"><span class="comment"># Available values of license: by | by-nc | by-nc-nd | by-nc-sa | by-nd | by-sa | zero</span></span><br><span class="line"><span class="comment"># You can set a language value if you prefer a translated version of CC license.</span></span><br><span class="line"><span class="comment"># CC licenses are available in 39 languages, where you can find the specific and correct abbreviation you need.</span></span><br><span class="line"><span class="comment"># Valid values of language: deed.zh, deed.fr, deed.de, etc.</span></span><br><span class="line"><span class="attr">creative_commons:</span></span><br><span class="line"><span class="attr">  license:</span> <span class="string">by-nc-sa</span></span><br><span class="line"><span class="attr">  sidebar:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  post:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  language:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># `Follow me on GitHub` banner in the top-right corner.</span></span><br><span class="line"><span class="attr">github_banner:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  permalink:</span> <span class="attr">https://github.com/WuChenxu</span></span><br><span class="line"><span class="attr">  title:</span> <span class="string">Follow</span> <span class="string">me</span> <span class="string">on</span> <span class="string">GitHub</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># SEO Settings</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Disable Baidu transformation on mobile devices.</span></span><br><span class="line"><span class="attr">disable_baidu_transformation:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set a canonical link tag in your hexo, you could use it for your SEO of blog.</span></span><br><span class="line"><span class="comment"># See: https://support.google.com/webmasters/answer/139066</span></span><br><span class="line"><span class="comment"># Tips: Before you open this tag, remember set up your URL in hexo _config.yml (e.g. url: http://yourdomain.com)</span></span><br><span class="line"><span class="attr">canonical:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Change headers hierarchy on site-subtitle (will be main site description) and on all post / page titles for better SEO-optimization.</span></span><br><span class="line"><span class="attr">seo:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If true, will add site-subtitle to index page, added in main hexo config.</span></span><br><span class="line"><span class="comment"># subtitle: Subtitle</span></span><br><span class="line"><span class="attr">index_with_subtitle:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Automatically add external URL with BASE64 encrypt &amp; decrypt.</span></span><br><span class="line"><span class="attr">exturl:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Google Webmaster tools verification.</span></span><br><span class="line"><span class="comment"># See: https://www.google.com/webmasters</span></span><br><span class="line"><span class="comment">#google_site_verification:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Bing Webmaster tools verification.</span></span><br><span class="line"><span class="comment"># See: https://www.bing.com/webmaster</span></span><br><span class="line"><span class="comment">#bing_site_verification:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Yandex Webmaster tools verification.</span></span><br><span class="line"><span class="comment"># See: https://webmaster.yandex.ru</span></span><br><span class="line"><span class="comment">#yandex_site_verification:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Baidu Webmaster tools verification.</span></span><br><span class="line"><span class="comment"># See: https://ziyuan.baidu.com/site</span></span><br><span class="line"><span class="comment">#baidu_site_verification:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable baidu push so that the blog will push the url to baidu automatically which is very helpful for SEO.</span></span><br><span class="line"><span class="attr">baidu_push:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Menu Settings</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># When running the site in a subdirectory (e.g. domain.tld/blog), remove the leading slash from link value (/archives -&gt; archives).</span></span><br><span class="line"><span class="comment"># Usage: `Key: /link/ || icon`</span></span><br><span class="line"><span class="comment"># Key is the name of menu item. If the translation for this item is available, the translated text will be loaded, otherwise the Key name will be used. Key is case-senstive.</span></span><br><span class="line"><span class="comment"># Value before `||` delimeter is the target link.</span></span><br><span class="line"><span class="comment"># Value after `||` delimeter is the name of FontAwesome icon. If icon (with or without delimeter) is not specified, question icon will be loaded.</span></span><br><span class="line"><span class="comment"># External url should start with http:// or https://</span></span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line"><span class="attr">  home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">home</span></span><br><span class="line"><span class="attr">  about:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">user</span></span><br><span class="line"><span class="attr">  tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">tags</span></span><br><span class="line"><span class="attr">  categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">th</span></span><br><span class="line"><span class="attr">  archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">archive</span></span><br><span class="line">  <span class="comment">#schedule: /schedule/ || calendar</span></span><br><span class="line">  <span class="comment">#sitemap: /sitemap.xml || sitemap</span></span><br><span class="line">  <span class="comment">#commonweal: /404/ || heartbeat</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable / Disable menu icons / item badges.</span></span><br><span class="line"><span class="attr">menu_settings:</span></span><br><span class="line"><span class="attr">  icons:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  badges:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Scheme Settings</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Schemes</span></span><br><span class="line"><span class="comment">#scheme: Muse</span></span><br><span class="line"><span class="comment">#scheme: Mist</span></span><br><span class="line"><span class="comment">#scheme: Pisces</span></span><br><span class="line"><span class="attr">scheme:</span> <span class="string">Gemini</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Sidebar Settings</span></span><br><span class="line"><span class="comment"># See: https://theme-next.org/docs/theme-settings/sidebar</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Posts / Categories / Tags in sidebar.</span></span><br><span class="line"><span class="attr">site_state:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Social Links</span></span><br><span class="line"><span class="comment"># Usage: `Key: permalink || icon`</span></span><br><span class="line"><span class="comment"># Key is the link label showing to end users.</span></span><br><span class="line"><span class="comment"># Value before `||` delimeter is the target permalink.</span></span><br><span class="line"><span class="comment"># Value after `||` delimeter is the name of FontAwesome icon. If icon (with or without delimeter) is not specified, globe icon will be loaded.</span></span><br><span class="line"><span class="attr">social:</span></span><br><span class="line"><span class="attr">  GitHub:</span> <span class="attr">https://github.com/WuChenxu</span> <span class="string">||</span> <span class="string">github</span></span><br><span class="line"><span class="attr">  E-Mail:</span> <span class="attr">mailto:wu_chenxu@126.com</span> <span class="string">||</span> <span class="string">envelope</span></span><br><span class="line">  <span class="comment">#Weibo: https://weibo.com/yourname || weibo</span></span><br><span class="line">  <span class="comment">#Google: https://plus.google.com/yourname || google</span></span><br><span class="line">  <span class="comment">#Twitter: https://twitter.com/yourname || twitter</span></span><br><span class="line">  <span class="comment">#FB Page: https://www.facebook.com/yourname || facebook</span></span><br><span class="line">  <span class="comment">#VK Group: https://vk.com/yourname || vk</span></span><br><span class="line">  <span class="comment">#StackOverflow: https://stackoverflow.com/yourname || stack-overflow</span></span><br><span class="line">  <span class="comment">#YouTube: https://youtube.com/yourname || youtube</span></span><br><span class="line">  <span class="comment">#Instagram: https://instagram.com/yourname || instagram</span></span><br><span class="line">  <span class="comment">#Skype: skype:yourname?call|chat || skype</span></span><br><span class="line"></span><br><span class="line"><span class="attr">social_icons:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  icons_only:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  transition:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Blog rolls</span></span><br><span class="line"><span class="attr">links_icon:</span> <span class="string">link</span></span><br><span class="line"><span class="attr">links_title:</span> <span class="string">Links</span></span><br><span class="line"><span class="attr">links_layout:</span> <span class="string">block</span></span><br><span class="line"><span class="comment">#links_layout: inline</span></span><br><span class="line"><span class="attr">links:</span></span><br><span class="line">  <span class="comment">#Title: http://example.com</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Sidebar Avatar</span></span><br><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="comment"># In theme directory (source/images): /images/avatar.gif</span></span><br><span class="line">  <span class="comment"># In site directory (source/uploads): /uploads/avatar.gif</span></span><br><span class="line">  <span class="comment"># You can also use other linking images.</span></span><br><span class="line"><span class="attr">  url:</span> <span class="string">/uploads/avatar.jpg</span></span><br><span class="line">  <span class="comment"># If true, the avatar would be dispalyed in circle.</span></span><br><span class="line"><span class="attr">  rounded:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># The value of opacity should be choose from 0 to 1 to set the opacity of the avatar.</span></span><br><span class="line"><span class="attr">  opacity:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment"># If true, the avatar would be rotated with the cursor.</span></span><br><span class="line"><span class="attr">  rotated:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Table Of Contents in the Sidebar</span></span><br><span class="line"><span class="attr">toc:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Automatically add list number to toc.</span></span><br><span class="line"><span class="attr">  number:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># If true, all words will placed on next lines if header width longer then sidebar width.</span></span><br><span class="line"><span class="attr">  wrap:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># If true, all level of TOC in a post will be displayed, rather than the activated part of it.</span></span><br><span class="line"><span class="attr">  expand_all:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Maximum heading depth of generated toc. You can set it in one post through `toc_max_depth` in Front-matter.</span></span><br><span class="line"><span class="attr">  max_depth:</span> <span class="number">6</span></span><br><span class="line"></span><br><span class="line"><span class="attr">sidebar:</span></span><br><span class="line">  <span class="comment"># Sidebar Position, available values: left | right (only for Pisces | Gemini).</span></span><br><span class="line"><span class="attr">  position:</span> <span class="string">left</span></span><br><span class="line">  <span class="comment">#position: right</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Manual define the sidebar width. If commented, will be default for:</span></span><br><span class="line">  <span class="comment"># Muse | Mist: 320</span></span><br><span class="line">  <span class="comment"># Pisces | Gemini: 240</span></span><br><span class="line">  <span class="comment">#width: 300</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Sidebar Display, available values (only for Muse | Mist):</span></span><br><span class="line">  <span class="comment">#  - post    expand on posts automatically. Default.</span></span><br><span class="line">  <span class="comment">#  - always  expand for all pages automatically.</span></span><br><span class="line">  <span class="comment">#  - hide    expand only when click on the sidebar toggle icon.</span></span><br><span class="line">  <span class="comment">#  - remove  totally remove sidebar including sidebar toggle.</span></span><br><span class="line"><span class="attr">  display:</span> <span class="string">post</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Sidebar offset from top menubar in pixels (only for Pisces | Gemini).</span></span><br><span class="line"><span class="attr">  offset:</span> <span class="number">12</span></span><br><span class="line">  <span class="comment"># Enable sidebar on narrow view (only for Muse | Mist).</span></span><br><span class="line"><span class="attr">  onmobile:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Click any blank part of the page to close sidebar (only for Muse | Mist).</span></span><br><span class="line"><span class="attr">  dimmer:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="attr">back2top:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Back to top in sidebar.</span></span><br><span class="line"><span class="attr">  sidebar:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Scroll percent label in b2t button.</span></span><br><span class="line"><span class="attr">  scrollpercent:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># A button to open designated chat widget in sidebar.</span></span><br><span class="line"><span class="comment"># Firstly, you need enable the chat service you want to activate its sidebar button.</span></span><br><span class="line"><span class="attr">chat:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment">#service: chatra</span></span><br><span class="line">  <span class="comment">#service: tidio</span></span><br><span class="line"><span class="attr">  icon:</span> <span class="string">comment</span> <span class="comment"># icon in Font Awesome 4, set false to disable icon</span></span><br><span class="line"><span class="attr">  text:</span> <span class="string">Chat</span> <span class="comment"># button text, change it as you wish</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Post Settings</span></span><br><span class="line"><span class="comment"># See: https://theme-next.org/docs/theme-settings/posts</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the text alignment in the posts.</span></span><br><span class="line"><span class="attr">text_align:</span></span><br><span class="line">  <span class="comment"># Available values: start | end | left | right | center | justify | justify-all | match-parent</span></span><br><span class="line"><span class="attr">  desktop:</span> <span class="string">justify</span></span><br><span class="line"><span class="attr">  mobile:</span> <span class="string">justify</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Automatically scroll page to section which is under &lt;!-- more --&gt; mark.</span></span><br><span class="line"><span class="attr">scroll_to_more:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Automatically saving scroll position on each post / page in cookies.</span></span><br><span class="line"><span class="attr">save_scroll:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Automatically excerpt description in homepage as preamble text.</span></span><br><span class="line"><span class="attr">excerpt_description:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Automatically Excerpt (Not recommend).</span></span><br><span class="line"><span class="comment"># Use &lt;!-- more --&gt; in the post to control excerpt accurately.</span></span><br><span class="line"><span class="attr">auto_excerpt:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  length:</span> <span class="number">150</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Read more button</span></span><br><span class="line"><span class="comment"># If true, the read more button would be displayed in excerpt section.</span></span><br><span class="line"><span class="attr">read_more_btn:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Post meta display settings</span></span><br><span class="line"><span class="attr">post_meta:</span></span><br><span class="line"><span class="attr">  item_text:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  created_at:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  updated_at:</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    another_day:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  categories:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Post wordcount display settings</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/hexo-symbols-count-time</span></span><br><span class="line"><span class="attr">symbols_count_time:</span></span><br><span class="line"><span class="attr">  separated_meta:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  item_text_post:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  item_text_total:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  awl:</span> <span class="number">4</span></span><br><span class="line"><span class="attr">  wpm:</span> <span class="number">275</span></span><br><span class="line"></span><br><span class="line"><span class="attr">codeblock:</span></span><br><span class="line">  <span class="comment"># Manual define the border radius in codeblock, leave it blank for the default value: 1</span></span><br><span class="line"><span class="attr">  border_radius:</span></span><br><span class="line">  <span class="comment"># Add copy button on codeblock</span></span><br><span class="line"><span class="attr">  copy_button:</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Show text copy result</span></span><br><span class="line"><span class="attr">    show_result:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Style: only 'flat' is currently available, leave it blank if you prefer default theme</span></span><br><span class="line"><span class="attr">    style:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Wechat Subscriber</span></span><br><span class="line"><span class="attr">wechat_subscriber:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment">#qcode: /path/to/your/wechatqcode e.g. /uploads/wechat-qcode.jpg</span></span><br><span class="line">  <span class="comment">#description: e.g. subscribe to my blog by scanning my public wechat account</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Reward (Donate)</span></span><br><span class="line"><span class="attr">reward_settings:</span></span><br><span class="line">  <span class="comment"># If true, reward would be displayed in every article by default.</span></span><br><span class="line">  <span class="comment"># You can show or hide reward in a specific article throuth `reward: true | false` in Front-matter.</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  animation:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment">#comment: Donate comment here</span></span><br><span class="line"></span><br><span class="line"><span class="attr">reward:</span></span><br><span class="line">  <span class="comment">#wechatpay: /images/wechatpay.png</span></span><br><span class="line">  <span class="comment">#alipay: /images/alipay.png</span></span><br><span class="line">  <span class="comment">#bitcoin: /images/bitcoin.png</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Related popular posts</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/tea3/hexo-related-popular-posts</span></span><br><span class="line"><span class="attr">related_posts:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  title:</span> <span class="comment"># custom header, leave empty to use the default one</span></span><br><span class="line"><span class="attr">  display_in_home:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  params:</span></span><br><span class="line"><span class="attr">    maxCount:</span> <span class="number">5</span></span><br><span class="line">    <span class="comment">#PPMixingRate: 0.0</span></span><br><span class="line">    <span class="comment">#isDate: false</span></span><br><span class="line">    <span class="comment">#isImage: false</span></span><br><span class="line">    <span class="comment">#isExcerpt: false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Post edit</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/hexojs/hexo-deployer-git</span></span><br><span class="line"><span class="attr">post_edit:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  url:</span> <span class="attr">https://github.com/user-name/repo-name/tree/branch-name/subdirectory-name</span> <span class="comment"># Link for view source.</span></span><br><span class="line">  <span class="comment">#url: https://github.com/user-name/repo-name/edit/branch-name/subdirectory-name # Link for fork &amp; edit.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Misc Theme Settings</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Reduce padding / margin indents on devices with narrow width.</span></span><br><span class="line"><span class="attr">mobile_layout_economy:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Android Chrome header panel color ($brand-bg / $headband-bg =&gt; $black-deep).</span></span><br><span class="line"><span class="attr">android_chrome_color:</span> <span class="string">"#222"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Hide sticky headers and color the menu bar on Safari (iOS / macOS).</span></span><br><span class="line"><span class="attr">safari_rainbow:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Optimize the display of scrollbars on webkit based browsers.</span></span><br><span class="line"><span class="attr">custom_scrollbar:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Custom Logo</span></span><br><span class="line"><span class="comment"># Do not support Scheme Mist currently.</span></span><br><span class="line"><span class="attr">custom_logo:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  image:</span> <span class="string">/uploads/custom-logo.jpg</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Code Highlight theme</span></span><br><span class="line"><span class="comment"># Available values: normal | night | night eighties | night blue | night bright</span></span><br><span class="line"><span class="comment"># https://github.com/chriskempson/tomorrow-theme</span></span><br><span class="line"><span class="attr">highlight_theme:</span> <span class="string">night</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable "cheers" for archive page.</span></span><br><span class="line"><span class="attr">cheers:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># TagCloud settings for tags page.</span></span><br><span class="line"><span class="attr">tagcloud:</span></span><br><span class="line">  <span class="comment"># If true, font size, font color and amount of tags can be customized</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># All values below are same as default, change them by yourself</span></span><br><span class="line"><span class="attr">  min:</span> <span class="number">12</span> <span class="comment"># min font size in px</span></span><br><span class="line"><span class="attr">  max:</span> <span class="number">50</span> <span class="comment"># max font size in px</span></span><br><span class="line"><span class="attr">  start:</span> <span class="string">"#00C957"</span> <span class="comment"># start color (hex, rgba, hsla or color keywords)</span></span><br><span class="line"><span class="attr">  end:</span> <span class="string">"#5C50E6"</span> <span class="comment"># end color (hex, rgba, hsla or color keywords)</span></span><br><span class="line"><span class="attr">  amount:</span> <span class="number">100</span> <span class="comment"># amount of tags, change it if you have more than 200 tags</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Font Settings. Introduced in NexT v5.0.1.</span></span><br><span class="line"><span class="comment"># Find fonts on Google Fonts (https://www.google.com/fonts)</span></span><br><span class="line"><span class="comment"># All fonts set here will have the following styles:</span></span><br><span class="line"><span class="comment">#   light, light italic, normal, normal italic, bold, bold italic</span></span><br><span class="line"><span class="comment"># Be aware that setting too much fonts will cause site running slowly</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># To avoid space between header and sidebar in scheme Pisces / Gemini, Web Safe fonts are recommended for `global` (and `logo`):</span></span><br><span class="line"><span class="comment"># Arial | Tahoma | Helvetica | Times New Roman | Courier New | Verdana | Georgia | Palatino | Garamond | Comic Sans MS | Trebuchet MS</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="attr">font:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Uri of fonts host, e.g. //fonts.googleapis.com (Default).</span></span><br><span class="line"><span class="attr">  host:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Font options:</span></span><br><span class="line">  <span class="comment"># `external: true` will load this font family from `host` above.</span></span><br><span class="line">  <span class="comment"># `family: Times New Roman`. Without any quotes.</span></span><br><span class="line">  <span class="comment"># `size: xx`. Use `px` as unit.</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Global font settings used for all elements in &lt;body&gt;.</span></span><br><span class="line"><span class="attr">  global:</span></span><br><span class="line"><span class="attr">    external:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    family:</span> <span class="string">Lato</span></span><br><span class="line"><span class="attr">    size:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Font settings for Headlines (H1, H2, H3, H4, H5, H6).</span></span><br><span class="line">  <span class="comment"># Fallback to `global` font settings.</span></span><br><span class="line"><span class="attr">  headings:</span></span><br><span class="line"><span class="attr">    external:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    family:</span> <span class="string">Source</span> <span class="string">Han</span> <span class="string">Sans</span></span><br><span class="line"><span class="attr">    size:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Font settings for posts.</span></span><br><span class="line">  <span class="comment"># Fallback to `global` font settings.</span></span><br><span class="line"><span class="attr">  posts:</span></span><br><span class="line"><span class="attr">    external:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    family:</span> <span class="string">Source</span> <span class="string">Han</span> <span class="string">Serif</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Font settings for Logo.</span></span><br><span class="line">  <span class="comment"># Fallback to `global` font settings.</span></span><br><span class="line"><span class="attr">  logo:</span></span><br><span class="line"><span class="attr">    external:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    family:</span> <span class="string">Lobster</span> <span class="string">Two</span></span><br><span class="line"><span class="attr">    size:</span> <span class="number">24</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Font settings for &lt;code&gt; and code blocks.</span></span><br><span class="line"><span class="attr">  codes:</span></span><br><span class="line"><span class="attr">    external:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    family:</span> <span class="string">PT</span> <span class="string">Menlo</span></span><br><span class="line"><span class="attr">    size:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Third Party Services Settings</span></span><br><span class="line"><span class="comment"># See: https://theme-next.org/docs/third-party-services/</span></span><br><span class="line"><span class="comment"># You may need to install dependencies or set CDN URLs in `vendors`</span></span><br><span class="line"><span class="comment"># There are two different CDN providers by default:</span></span><br><span class="line"><span class="comment">#   - jsDelivr (cdn.jsdelivr.net), works everywhere even in China</span></span><br><span class="line"><span class="comment">#   - CDNJS (cdnjs.cloudflare.com), provided by cloudflare</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Math Equations Render Support</span></span><br><span class="line"><span class="attr">math:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Default (true) will load mathjax / katex script on demand.</span></span><br><span class="line">  <span class="comment"># That is it only render those page which has `mathjax: true` in Front-matter.</span></span><br><span class="line">  <span class="comment"># If you set it to false, it will load mathjax / katex srcipt EVERY PAGE.</span></span><br><span class="line"><span class="attr">  per_page:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="attr">  engine:</span> <span class="string">mathjax</span></span><br><span class="line">  <span class="comment">#engine: katex</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># hexo-renderer-pandoc (or hexo-renderer-kramed) needed to full MathJax support.</span></span><br><span class="line"><span class="attr">  mathjax:</span></span><br><span class="line"><span class="attr">    cdn:</span> <span class="string">//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML</span></span><br><span class="line">    <span class="comment">#cdn: //cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># See: https://mhchem.github.io/MathJax-mhchem/</span></span><br><span class="line">    <span class="comment">#mhchem: //cdn.jsdelivr.net/npm/mathjax-mhchem@3</span></span><br><span class="line">    <span class="comment">#mhchem: //cdnjs.cloudflare.com/ajax/libs/mathjax-mhchem/3.3.0</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># hexo-renderer-markdown-it-plus (or hexo-renderer-markdown-it with markdown-it-katex plugin) needed to full Katex support.</span></span><br><span class="line"><span class="attr">  katex:</span></span><br><span class="line"><span class="attr">    cdn:</span> <span class="string">//cdn.jsdelivr.net/npm/katex@0/dist/katex.min.css</span></span><br><span class="line">    <span class="comment">#cdn: //cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css</span></span><br><span class="line"></span><br><span class="line"><span class="attr">    copy_tex:</span></span><br><span class="line">      <span class="comment"># See: https://github.com/KaTeX/KaTeX/tree/master/contrib/copy-tex</span></span><br><span class="line"><span class="attr">      enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">      copy_tex_js:</span> <span class="string">//cdn.jsdelivr.net/npm/katex@0/dist/contrib/copy-tex.min.js</span></span><br><span class="line"><span class="attr">      copy_tex_css:</span> <span class="string">//cdn.jsdelivr.net/npm/katex@0/dist/contrib/copy-tex.min.css</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Han Support</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-han</span></span><br><span class="line"><span class="attr">han:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Pangu Support</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-pangu</span></span><br><span class="line"><span class="comment"># For more information: https://github.com/vinta/pangu.js</span></span><br><span class="line"><span class="attr">pangu:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Quicklink Support</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-quicklink</span></span><br><span class="line"><span class="comment"># Visit https://github.com/GoogleChromeLabs/quicklink for details</span></span><br><span class="line"><span class="attr">quicklink:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Quicklink (quicklink.umd.js script) is loaded on demand</span></span><br><span class="line">  <span class="comment"># Add `quicklink: true` in Front-matter of the page or post you need</span></span><br><span class="line">  <span class="comment"># Home page and archive page can be controlled through home and archive options below</span></span><br><span class="line"><span class="attr">  home:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  archive:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Default (true) will initialize quicklink after the load event fires</span></span><br><span class="line"><span class="attr">  delay:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Custom a time in milliseconds by which the browser must execute prefetching</span></span><br><span class="line"><span class="attr">  timeout:</span> <span class="number">3000</span></span><br><span class="line">  <span class="comment"># Default (true) will enable fetch() or falls back to XHR</span></span><br><span class="line"><span class="attr">  priority:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># For more flexibility you can add some patterns (RegExp, Function, or Array) to ignores</span></span><br><span class="line">  <span class="comment"># See: https://github.com/GoogleChromeLabs/quicklink#custom-ignore-patterns</span></span><br><span class="line">  <span class="comment"># Leave ignores as empty if you don't understand what it means</span></span><br><span class="line">  <span class="comment"># Example:</span></span><br><span class="line">  <span class="comment"># ignores:</span></span><br><span class="line">  <span class="comment">#   - /\/api\/?/</span></span><br><span class="line">  <span class="comment">#   - uri =&gt; uri.includes('.xml')</span></span><br><span class="line">  <span class="comment">#   - (uri, el) =&gt; el.hasAttribute('noopener')</span></span><br><span class="line"><span class="attr">  ignores:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Bookmark Support</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-bookmark</span></span><br><span class="line"><span class="attr">bookmark:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># If auto, save the reading position when closing the page or clicking the bookmark-icon.</span></span><br><span class="line">  <span class="comment"># If manual, only save it by clicking the bookmark-icon.</span></span><br><span class="line"><span class="attr">  save:</span> <span class="string">auto</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Reading progress bar</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-reading-progress</span></span><br><span class="line"><span class="attr">reading_progress:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  color:</span> <span class="string">"#37c6c0"</span></span><br><span class="line"><span class="attr">  height:</span> <span class="number">2</span><span class="string">px</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Google Calendar</span></span><br><span class="line"><span class="comment"># Share your recent schedule to others via calendar page.</span></span><br><span class="line"><span class="comment"># API Documentation: https://developers.google.com/google-apps/calendar/v3/reference/events/list</span></span><br><span class="line"><span class="comment"># To get api_key: https://console.developers.google.com</span></span><br><span class="line"><span class="comment"># Create &amp; manage a public Google calendar: https://support.google.com/calendar/answer/37083</span></span><br><span class="line"><span class="attr">calendar:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  calendar_id:</span> <span class="string">&lt;required&gt;</span> <span class="comment"># Your Google account E-Mail</span></span><br><span class="line"><span class="attr">  api_key:</span> <span class="string">&lt;required&gt;</span></span><br><span class="line"><span class="attr">  orderBy:</span> <span class="string">startTime</span></span><br><span class="line"><span class="attr">  offsetMax:</span> <span class="number">24</span> <span class="comment"># Time Range</span></span><br><span class="line"><span class="attr">  offsetMin:</span> <span class="number">4</span> <span class="comment"># Time Range</span></span><br><span class="line"><span class="attr">  showDeleted:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  singleEvents:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  maxResults:</span> <span class="number">250</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Comments and Widgets</span></span><br><span class="line"><span class="comment"># See: https://theme-next.org/docs/third-party-services/comments-and-widgets</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Disqus</span></span><br><span class="line"><span class="attr">disqus:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  shortname:</span> <span class="string">wuchenxu</span></span><br><span class="line"><span class="attr">  count:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  lazyload:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># DisqusJS</span></span><br><span class="line"><span class="comment"># Alternative Disqus - Render comment component using Disqus API</span></span><br><span class="line"><span class="comment"># Demo: https://suka.js.org/DisqusJS/</span></span><br><span class="line"><span class="attr">disqusjs:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># API Endpoint of Disqus API (https://disqus.com/api/)</span></span><br><span class="line">  <span class="comment"># leave api empty if you are able to connect to Disqus API</span></span><br><span class="line">  <span class="comment"># otherwise you need a reverse proxy for Disqus API</span></span><br><span class="line">  <span class="comment"># For example:</span></span><br><span class="line">  <span class="comment"># api: https://disqus.skk.moe/disqus/</span></span><br><span class="line"><span class="attr">  api:</span></span><br><span class="line"><span class="attr">  apikey:</span> <span class="comment"># register new application from https://disqus.com/api/applications/</span></span><br><span class="line"><span class="attr">  shortname:</span> <span class="comment"># See: https://disqus.com/admin/settings/general/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Changyan</span></span><br><span class="line"><span class="attr">changyan:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  appid:</span></span><br><span class="line"><span class="attr">  appkey:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Valine</span></span><br><span class="line"><span class="comment"># You can get your appid and appkey from https://leancloud.cn</span></span><br><span class="line"><span class="comment"># More info available at https://valine.js.org</span></span><br><span class="line"><span class="attr">valine:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span> <span class="comment"># When enable is set to be true, leancloud_visitors is recommended to be closed for the re-initialization problem within different leancloud adk version.</span></span><br><span class="line"><span class="attr">  appid:</span> <span class="string">cUCWv4VRYjKGSICWV819XA6C-gzGzoHsz</span> <span class="comment"># your leancloud application appid</span></span><br><span class="line"><span class="attr">  appkey:</span> <span class="string">wwuXS4PSgyQdr8sHb2OVteKd</span> <span class="comment"># your leancloud application appkey</span></span><br><span class="line"><span class="attr">  notify:</span> <span class="literal">true</span> <span class="comment"># mail notifier, See: https://github.com/xCss/Valine/wiki</span></span><br><span class="line"><span class="attr">  verify:</span> <span class="literal">true</span> <span class="comment"># Verification code</span></span><br><span class="line"><span class="attr">  placeholder:</span> <span class="string">Just</span> <span class="string">go</span> <span class="string">go</span> <span class="comment"># comment box placeholder</span></span><br><span class="line"><span class="attr">  avatar:</span> <span class="string">mm</span> <span class="comment"># gravatar style</span></span><br><span class="line"><span class="attr">  guest_info:</span> <span class="string">nick,mail,link</span> <span class="comment"># custom comment header</span></span><br><span class="line"><span class="attr">  pageSize:</span> <span class="number">10</span> <span class="comment"># pagination size</span></span><br><span class="line"><span class="attr">  language:</span> <span class="comment"># language, available values: en, zh-cn</span></span><br><span class="line"><span class="attr">  visitor:</span> <span class="literal">true</span> <span class="comment"># leancloud-counter-security is not supported for now. When visitor is set to be true, appid and appkey are recommended to be the same as leancloud_visitors' for counter compatibility. Article reading statistic https://valine.js.org/visitor.html</span></span><br><span class="line"><span class="attr">  comment_count:</span> <span class="literal">true</span> <span class="comment"># if false, comment count will only be displayed in post page, not in home page</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># LiveRe comments system</span></span><br><span class="line"><span class="comment"># You can get your uid from https://livere.com/insight/myCode (General web site)</span></span><br><span class="line"><span class="comment">#livere_uid: your uid</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Gitment</span></span><br><span class="line"><span class="comment"># Introduction: https://github.com/imsun/gitment</span></span><br><span class="line"><span class="attr">gitment:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  mint:</span> <span class="literal">true</span> <span class="comment"># RECOMMEND, A mint on Gitment, to support count, language and proxy_gateway</span></span><br><span class="line"><span class="attr">  count:</span> <span class="literal">true</span> <span class="comment"># Show comments count in post meta area</span></span><br><span class="line"><span class="attr">  lazy:</span> <span class="literal">false</span> <span class="comment"># Comments lazy loading with a button</span></span><br><span class="line"><span class="attr">  cleanly:</span> <span class="literal">false</span> <span class="comment"># Hide 'Powered by ...' on footer, and more</span></span><br><span class="line"><span class="attr">  language:</span> <span class="comment"># Force language, or auto switch by theme</span></span><br><span class="line"><span class="attr">  github_user:</span> <span class="comment"># MUST HAVE, Your Github Username</span></span><br><span class="line"><span class="attr">  github_repo:</span> <span class="comment"># MUST HAVE, The name of the repo you use to store Gitment comments</span></span><br><span class="line"><span class="attr">  client_id:</span> <span class="comment"># MUST HAVE, Github client id for the Gitment</span></span><br><span class="line"><span class="attr">  client_secret:</span> <span class="comment"># EITHER this or proxy_gateway, Github access secret token for the Gitment</span></span><br><span class="line"><span class="attr">  proxy_gateway:</span> <span class="comment"># Address of api proxy, See: https://github.com/aimingoo/intersect</span></span><br><span class="line"><span class="attr">  redirect_protocol:</span> <span class="comment"># Protocol of redirect_uri with force_redirect_protocol when mint enabled</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Gitalk</span></span><br><span class="line"><span class="comment"># Demo: https://gitalk.github.io</span></span><br><span class="line"><span class="attr">gitalk:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  github_id:</span>  <span class="comment"># Github repo owner</span></span><br><span class="line"><span class="attr">  repo:</span>  <span class="comment"># Repository name to store issues</span></span><br><span class="line"><span class="attr">  client_id:</span>  <span class="comment"># Github Application Client ID</span></span><br><span class="line"><span class="attr">  client_secret:</span>  <span class="comment"># Github Application Client Secret</span></span><br><span class="line"><span class="attr">  admin_user:</span>  <span class="comment"># GitHub repo owner and collaborators, only these guys can initialize github issues</span></span><br><span class="line"><span class="attr">  distraction_free_mode:</span> <span class="literal">true</span> <span class="comment"># Facebook-like distraction free mode</span></span><br><span class="line">  <span class="comment"># Gitalk's display language depends on user's browser or system environment</span></span><br><span class="line">  <span class="comment"># If you want everyone visiting your site to see a uniform language, you can set a force language value</span></span><br><span class="line">  <span class="comment"># Available values: en, es-ES, fr, ru, zh-CN, zh-TW</span></span><br><span class="line"><span class="attr">  language:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Content Sharing Services</span></span><br><span class="line"><span class="comment"># See: https://theme-next.org/docs/third-party-services/content-sharing-services</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Baidu Share</span></span><br><span class="line"><span class="comment"># Available values: button | slide</span></span><br><span class="line"><span class="comment"># Warning: Baidu Share does not support https.</span></span><br><span class="line"><span class="comment">#baidushare:</span></span><br><span class="line"><span class="comment">##  type: button</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># AddThis Share, See: https://www.addthis.com</span></span><br><span class="line"><span class="comment"># Go to https://www.addthis.com/dashboard to customize your tools.</span></span><br><span class="line"><span class="comment">#add_this_id:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Likely Share</span></span><br><span class="line"><span class="comment"># See: https://ilyabirman.net/projects/likely/</span></span><br><span class="line"><span class="comment"># Likely supports four looks, nine social networks, any button text</span></span><br><span class="line"><span class="comment"># You are free to modify the text value and order of any network</span></span><br><span class="line"><span class="attr">likely:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  look:</span> <span class="string">normal</span> <span class="comment"># available values: normal, light, small, big</span></span><br><span class="line"><span class="attr">  networks:</span></span><br><span class="line"><span class="attr">    twitter:</span> <span class="string">Tweet</span></span><br><span class="line"><span class="attr">    facebook:</span> <span class="string">Share</span></span><br><span class="line"><span class="attr">    linkedin:</span> <span class="string">Link</span></span><br><span class="line"><span class="attr">    gplus:</span> <span class="string">Plus</span></span><br><span class="line"><span class="attr">    vkontakte:</span> <span class="string">Share</span></span><br><span class="line"><span class="attr">    odnoklassniki:</span> <span class="string">Class</span></span><br><span class="line"><span class="attr">    telegram:</span> <span class="string">Send</span></span><br><span class="line"><span class="attr">    whatsapp:</span> <span class="string">Send</span></span><br><span class="line"><span class="attr">    pinterest:</span> <span class="string">Pin</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># NeedMoreShare2</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-needmoreshare2</span></span><br><span class="line"><span class="comment"># iconStyle: default | box</span></span><br><span class="line"><span class="comment"># boxForm: horizontal | vertical</span></span><br><span class="line"><span class="comment"># position: top / middle / bottom + Left / Center / Right</span></span><br><span class="line"><span class="comment"># networks:</span></span><br><span class="line"><span class="comment"># Weibo,Wechat,Douban,QQZone,Twitter,Facebook,Linkedin,Mailto,Reddit,Delicious,StumbleUpon,Pinterest,</span></span><br><span class="line"><span class="comment"># GooglePlus,Tumblr,GoogleBookmarks,Newsvine,Evernote,Friendfeed,Vkontakte,Odnoklassniki,Mailru</span></span><br><span class="line"><span class="attr">needmoreshare2:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  postbottom:</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    options:</span></span><br><span class="line"><span class="attr">      iconStyle:</span> <span class="string">box</span></span><br><span class="line"><span class="attr">      boxForm:</span> <span class="string">horizontal</span></span><br><span class="line"><span class="attr">      position:</span> <span class="string">bottomCenter</span></span><br><span class="line"><span class="attr">      networks:</span> <span class="string">Weibo,Wechat,Douban,QQZone,Twitter,Facebook</span></span><br><span class="line"><span class="attr">  float:</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    options:</span></span><br><span class="line"><span class="attr">      iconStyle:</span> <span class="string">box</span></span><br><span class="line"><span class="attr">      boxForm:</span> <span class="string">horizontal</span></span><br><span class="line"><span class="attr">      position:</span> <span class="string">middleRight</span></span><br><span class="line"><span class="attr">      networks:</span> <span class="string">Weibo,Wechat,Douban,QQZone,Twitter,Facebook</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Statistics and Analytics</span></span><br><span class="line"><span class="comment"># See: https://theme-next.org/docs/third-party-services/statistics-and-analytics</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Baidu Analytics ID</span></span><br><span class="line"><span class="comment">#baidu_analytics:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Growingio Analytics ID</span></span><br><span class="line"><span class="comment"># Copyright 2015-2018 GrowingIO, Inc. More info available at https://www.growingio.com</span></span><br><span class="line"><span class="comment">#growingio_analytics: #your projectId</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Google Analytics</span></span><br><span class="line"><span class="comment">#google_analytics:</span></span><br><span class="line"><span class="comment">#  tracking_id:</span></span><br><span class="line"><span class="comment">#  localhost_ignored: true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># CNZZ count</span></span><br><span class="line"><span class="comment">#cnzz_siteid: 1259555989</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Application Insights</span></span><br><span class="line"><span class="comment"># See: https://azure.microsoft.com/en-us/services/application-insights</span></span><br><span class="line"><span class="comment">#application_insights:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Post widgets &amp; FB/VK comments settings.</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Facebook SDK Support</span></span><br><span class="line"><span class="attr">facebook_sdk:</span></span><br><span class="line"><span class="attr">  enable:</span>       <span class="literal">false</span></span><br><span class="line"><span class="attr">  app_id:</span>       <span class="comment">#&lt;app_id&gt;</span></span><br><span class="line"><span class="attr">  fb_admin:</span>     <span class="comment">#&lt;user_id&gt;</span></span><br><span class="line"><span class="attr">  like_button:</span>  <span class="comment">#true</span></span><br><span class="line"><span class="attr">  webmaster:</span>    <span class="comment">#true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Facebook comments plugin</span></span><br><span class="line"><span class="comment"># This plugin depends on Facebook SDK.</span></span><br><span class="line"><span class="comment"># If facebook_sdk.enable is false, Facebook comments plugin is unavailable.</span></span><br><span class="line"><span class="attr">facebook_comments_plugin:</span></span><br><span class="line"><span class="attr">  enable:</span>       <span class="literal">false</span></span><br><span class="line"><span class="attr">  num_of_posts:</span> <span class="number">10</span>    <span class="comment"># min posts num is 1</span></span><br><span class="line"><span class="attr">  width:</span>        <span class="number">100</span><span class="string">%</span>  <span class="comment"># default width is 550px</span></span><br><span class="line"><span class="attr">  scheme:</span>       <span class="string">light</span> <span class="comment"># default scheme is light (light or dark)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># VKontakte API Support</span></span><br><span class="line"><span class="comment"># To get your AppID visit https://vk.com/editapp?act=create</span></span><br><span class="line"><span class="attr">vkontakte_api:</span></span><br><span class="line"><span class="attr">  enable:</span>       <span class="literal">false</span></span><br><span class="line"><span class="attr">  app_id:</span>       <span class="comment">#&lt;app_id&gt;</span></span><br><span class="line"><span class="attr">  like:</span>         <span class="literal">true</span></span><br><span class="line"><span class="attr">  comments:</span>     <span class="literal">true</span></span><br><span class="line"><span class="attr">  num_of_posts:</span> <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Star rating support to each article.</span></span><br><span class="line"><span class="comment"># To get your ID visit https://widgetpack.com</span></span><br><span class="line"><span class="attr">rating:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  id:</span>     <span class="comment">#&lt;app_id&gt;</span></span><br><span class="line"><span class="attr">  color:</span>  <span class="string">fc6423</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Show number of visitors to each article.</span></span><br><span class="line"><span class="comment"># You can visit https://leancloud.cn to get AppID and AppKey.</span></span><br><span class="line"><span class="attr">leancloud_visitors:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  app_id:</span> <span class="comment">#&lt;app_id&gt;</span></span><br><span class="line"><span class="attr">  app_key:</span> <span class="comment">#&lt;app_key&gt;</span></span><br><span class="line">  <span class="comment"># Dependencies: https://github.com/theme-next/hexo-leancloud-counter-security</span></span><br><span class="line">  <span class="comment"># If you don't care about security in leancloud counter and just want to use it directly</span></span><br><span class="line">  <span class="comment"># (without hexo-leancloud-counter-security plugin), set `security` to `false`.</span></span><br><span class="line"><span class="attr">  security:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  betterPerformance:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Another tool to show number of visitors to each article.</span></span><br><span class="line"><span class="comment"># Visit https://console.firebase.google.com/u/0/ to get apiKey and projectId.</span></span><br><span class="line"><span class="comment"># Visit https://firebase.google.com/docs/firestore/ to get more information about firestore.</span></span><br><span class="line"><span class="attr">firestore:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  collection:</span> <span class="string">articles</span> <span class="comment">#required, a string collection name to access firestore database</span></span><br><span class="line"><span class="attr">  apiKey:</span> <span class="comment">#required</span></span><br><span class="line"><span class="attr">  projectId:</span> <span class="comment">#required</span></span><br><span class="line"><span class="attr">  bluebird:</span> <span class="literal">false</span> <span class="comment">#enable this if you want to include bluebird 3.5.1(core version) Promise polyfill</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Show Views / Visitors of the website / page with busuanzi.</span></span><br><span class="line"><span class="comment"># Get more information on http://ibruce.info/2015/04/04/busuanzi</span></span><br><span class="line"><span class="attr">busuanzi_count:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  total_visitors:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  total_visitors_icon:</span> <span class="string">user</span></span><br><span class="line"><span class="attr">  total_views:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  total_views_icon:</span> <span class="string">eye</span></span><br><span class="line"><span class="attr">  post_views:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  post_views_icon:</span> <span class="string">eye</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Tencent analytics ID</span></span><br><span class="line"><span class="comment">#tencent_analytics:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Tencent MTA ID</span></span><br><span class="line"><span class="comment">#tencent_mta:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Search Services</span></span><br><span class="line"><span class="comment"># See: https://theme-next.org/docs/third-party-services/search-services</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Algolia Search</span></span><br><span class="line"><span class="comment"># See: https://theme-next.org/docs/third-party-services/search-services#Algolia-Search</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-algolia-instant-search</span></span><br><span class="line"><span class="attr">algolia_search:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  hits:</span></span><br><span class="line"><span class="attr">    per_page:</span> <span class="number">10</span></span><br><span class="line"><span class="attr">  labels:</span></span><br><span class="line"><span class="attr">    input_placeholder:</span> <span class="string">Search</span> <span class="string">for</span> <span class="string">Posts</span></span><br><span class="line"><span class="attr">    hits_empty:</span> <span class="string">"We didn't find any results for the search: ${query}"</span></span><br><span class="line"><span class="attr">    hits_stats:</span> <span class="string">"${hits} results found in ${time} ms"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Local search</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/hexo-generator-searchdb</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># If auto, trigger search by changing input.</span></span><br><span class="line">  <span class="comment"># If manual, trigger search by pressing enter key or search button.</span></span><br><span class="line"><span class="attr">  trigger:</span> <span class="string">auto</span></span><br><span class="line">  <span class="comment"># Show top n results per article, show all results by setting to -1</span></span><br><span class="line"><span class="attr">  top_n_per_article:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment"># Unescape html strings to the readable one.</span></span><br><span class="line"><span class="attr">  unescape:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Swiftype Search API Key</span></span><br><span class="line"><span class="comment">#swiftype_key:</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Chat Services</span></span><br><span class="line"><span class="comment"># See: https://theme-next.org/docs/third-party-services/chat-services</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Chatra Support</span></span><br><span class="line"><span class="comment"># See: https://chatra.io</span></span><br><span class="line"><span class="comment"># Dashboard: https://app.chatra.io/settings/general</span></span><br><span class="line"><span class="attr">chatra:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  async:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  id:</span> <span class="comment"># visit Dashboard to get your ChatraID</span></span><br><span class="line">  <span class="comment">#embed: # unfinished experimental feature for developers, See: https://chatra.io/help/api/#injectto</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Tidio Support</span></span><br><span class="line"><span class="comment"># See: https://www.tidiochat.com</span></span><br><span class="line"><span class="comment"># Dashboard: https://www.tidiochat.com/panel/dashboard</span></span><br><span class="line"><span class="attr">tidio:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  key:</span> <span class="comment"># Public Key, get it from Dashboard, See: https://www.tidiochat.com/panel/settings/developer</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Tags Settings</span></span><br><span class="line"><span class="comment"># See: https://theme-next.org/docs/tag-plugins/</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Note tag (bs-callout)</span></span><br><span class="line"><span class="attr">note:</span></span><br><span class="line">  <span class="comment"># Note tag style values:</span></span><br><span class="line">  <span class="comment">#  - simple    bs-callout old alert style. Default.</span></span><br><span class="line">  <span class="comment">#  - modern    bs-callout new (v2-v3) alert style.</span></span><br><span class="line">  <span class="comment">#  - flat      flat callout style with background, like on Mozilla or StackOverflow.</span></span><br><span class="line">  <span class="comment">#  - disabled  disable all CSS styles import of note tag.</span></span><br><span class="line"><span class="attr">  style:</span> <span class="string">simple</span></span><br><span class="line"><span class="attr">  icons:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  border_radius:</span> <span class="number">3</span></span><br><span class="line">  <span class="comment"># Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span></span><br><span class="line">  <span class="comment"># Offset also applied to label tag variables. This option can work with disabled note tag.</span></span><br><span class="line"><span class="attr">  light_bg_offset:</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Tabs tag</span></span><br><span class="line"><span class="attr">tabs:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  transition:</span></span><br><span class="line"><span class="attr">    tabs:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    labels:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  border_radius:</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># PDF tag, requires two plugins: pdfObject and pdf.js</span></span><br><span class="line"><span class="comment"># pdfObject will try to load pdf files natively, if failed, pdf.js will be used.</span></span><br><span class="line"><span class="comment"># The following `cdn` setting is only for pdfObject, because cdn for pdf.js might be blocked by CORS policy.</span></span><br><span class="line"><span class="comment"># So, you must install the dependency of pdf.js if you want to use pdf tag and make it available to all browsers.</span></span><br><span class="line"><span class="comment"># See: https://github.com/theme-next/theme-next-pdf</span></span><br><span class="line"><span class="attr">pdf:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Default height</span></span><br><span class="line"><span class="attr">  height:</span> <span class="number">500</span><span class="string">px</span></span><br><span class="line"><span class="attr">  pdfobject:</span></span><br><span class="line"><span class="attr">    cdn:</span> <span class="string">//cdn.jsdelivr.net/npm/pdfobject@2/pdfobject.min.js</span></span><br><span class="line">    <span class="comment">#cdn: //cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Mermaid tag</span></span><br><span class="line"><span class="attr">mermaid:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Available themes: default | dark | forest | neutral</span></span><br><span class="line"><span class="attr">  theme:</span> <span class="string">forest</span></span><br><span class="line"><span class="attr">  cdn:</span> <span class="string">//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js</span></span><br><span class="line">  <span class="comment">#cdn: //cdnjs.cloudflare.com/ajax/libs/mermaid/8.0.0/mermaid.min.js</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Animation Settings</span></span><br><span class="line"><span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Use velocity to animate everything.</span></span><br><span class="line"><span class="attr">motion:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  async:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  transition:</span></span><br><span class="line">    <span class="comment"># Transition variants:</span></span><br><span class="line">    <span class="comment"># fadeIn | fadeOut | flipXIn | flipXOut | flipYIn | flipYOut | flipBounceXIn | flipBounceXOut | flipBounceYIn | flipBounceYOut</span></span><br><span class="line">    <span class="comment"># swoopIn | swoopOut | whirlIn | whirlOut | shrinkIn | shrinkOut | expandIn | expandOut</span></span><br><span class="line">    <span class="comment"># bounceIn | bounceOut | bounceUpIn | bounceUpOut | bounceDownIn | bounceDownOut | bounceLeftIn | bounceLeftOut | bounceRightIn | bounceRightOut</span></span><br><span class="line">    <span class="comment"># slideUpIn | slideUpOut | slideDownIn | slideDownOut | slideLeftIn | slideLeftOut | slideRightIn | slideRightOut</span></span><br><span class="line">    <span class="comment"># slideUpBigIn | slideUpBigOut | slideDownBigIn | slideDownBigOut | slideLeftBigIn | slideLeftBigOut | slideRightBigIn | slideRightBigOut</span></span><br><span class="line">    <span class="comment"># perspectiveUpIn | perspectiveUpOut | perspectiveDownIn | perspectiveDownOut | perspectiveLeftIn | perspectiveLeftOut | perspectiveRightIn | perspectiveRightOut</span></span><br><span class="line"><span class="attr">    post_block:</span> <span class="string">fadeIn</span></span><br><span class="line"><span class="attr">    post_header:</span> <span class="string">slideDownIn</span></span><br><span class="line"><span class="attr">    post_body:</span> <span class="string">slideDownIn</span></span><br><span class="line"><span class="attr">    coll_header:</span> <span class="string">slideLeftIn</span></span><br><span class="line">    <span class="comment"># Only for Pisces | Gemini.</span></span><br><span class="line"><span class="attr">    sidebar:</span> <span class="string">slideUpIn</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Fancybox. There is support for old version 2 and new version 3.</span></span><br><span class="line"><span class="comment"># Choose only one variant, do not need to install both.</span></span><br><span class="line"><span class="comment"># To install 2.x: https://github.com/theme-next/theme-next-fancybox</span></span><br><span class="line"><span class="comment"># To install 3.x: https://github.com/theme-next/theme-next-fancybox3</span></span><br><span class="line"><span class="attr">fancybox:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Polyfill to remove click delays on browsers with touch UIs.</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-fastclick</span></span><br><span class="line"><span class="attr">fastclick:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Vanilla JavaScript plugin for lazyloading images.</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-jquery-lazyload</span></span><br><span class="line"><span class="attr">lazyload:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Progress bar in the top during page loading.</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-pace</span></span><br><span class="line"><span class="attr">pace:</span> <span class="literal">true</span></span><br><span class="line"><span class="comment"># Themes list:</span></span><br><span class="line"><span class="comment"># pace-theme-big-counter | pace-theme-bounce | pace-theme-barber-shop | pace-theme-center-atom</span></span><br><span class="line"><span class="comment"># pace-theme-center-circle | pace-theme-center-radar | pace-theme-center-simple | pace-theme-corner-indicator</span></span><br><span class="line"><span class="comment"># pace-theme-fill-left | pace-theme-flash | pace-theme-loading-bar | pace-theme-mac-osx | pace-theme-minimal</span></span><br><span class="line"><span class="attr">pace_theme:</span> <span class="string">pace-theme-minimal</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Canvas-nest</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-canvas-nest</span></span><br><span class="line"><span class="attr">canvas_nest:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  onmobile:</span> <span class="literal">true</span> <span class="comment"># display on mobile or not</span></span><br><span class="line"><span class="attr">  color:</span> <span class="string">"0,0,255"</span> <span class="comment"># RGB values, use ',' to separate</span></span><br><span class="line"><span class="attr">  opacity:</span> <span class="number">0.5</span> <span class="comment"># the opacity of line: 0~1</span></span><br><span class="line"><span class="attr">  zIndex:</span> <span class="bullet">-1</span> <span class="comment"># z-index property of the background</span></span><br><span class="line"><span class="attr">  count:</span> <span class="number">99</span> <span class="comment"># the number of lines</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># JavaScript 3D library.</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-three</span></span><br><span class="line"><span class="comment"># three_waves</span></span><br><span class="line"><span class="attr">three_waves:</span> <span class="literal">false</span></span><br><span class="line"><span class="comment"># canvas_lines</span></span><br><span class="line"><span class="attr">canvas_lines:</span> <span class="literal">false</span></span><br><span class="line"><span class="comment"># canvas_sphere</span></span><br><span class="line"><span class="attr">canvas_sphere:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Canvas-ribbon</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-canvas-ribbon</span></span><br><span class="line"><span class="comment"># size: The width of the ribbon.</span></span><br><span class="line"><span class="comment"># alpha: The transparency of the ribbon.</span></span><br><span class="line"><span class="comment"># zIndex: The display level of the ribbon.</span></span><br><span class="line"><span class="attr">canvas_ribbon:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  size:</span> <span class="number">300</span></span><br><span class="line"><span class="attr">  alpha:</span> <span class="number">0.6</span></span><br><span class="line"><span class="attr">  zIndex:</span> <span class="bullet">-1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#! ---------------------------------------------------------------</span></span><br><span class="line"><span class="comment">#! DO NOT EDIT THE FOLLOWING SETTINGS</span></span><br><span class="line"><span class="comment">#! UNLESS YOU KNOW WHAT YOU ARE DOING</span></span><br><span class="line"><span class="comment">#! See: https://theme-next.org/docs/advanced-settings</span></span><br><span class="line"><span class="comment">#! ---------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Script Vendors. Set a CDN address for the vendor you want to customize.</span></span><br><span class="line"><span class="comment"># For example</span></span><br><span class="line"><span class="comment">#   jquery: https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js</span></span><br><span class="line"><span class="comment"># Be aware that you would better use the same version as internal ones to avoid potential problems.</span></span><br><span class="line"><span class="comment"># Please use the https protocol of CDN files when you enable https on your site.</span></span><br><span class="line"><span class="attr">vendors:</span></span><br><span class="line">  <span class="comment"># Internal path prefix. Please do not edit it.</span></span><br><span class="line"><span class="attr">  _internal:</span> <span class="string">lib</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Internal version: 2.1.3</span></span><br><span class="line">  <span class="comment"># Example:</span></span><br><span class="line">  <span class="comment"># jquery: //cdn.jsdelivr.net/npm/jquery@2/dist/jquery.min.js</span></span><br><span class="line">  <span class="comment"># jquery: //cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js</span></span><br><span class="line"><span class="attr">  jquery:</span> <span class="string">//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Internal version: 2.1.5 &amp; 3.5.7</span></span><br><span class="line">  <span class="comment"># See: https://fancyapps.com/fancybox</span></span><br><span class="line">  <span class="comment"># Example:</span></span><br><span class="line">  <span class="comment"># fancybox: //cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js</span></span><br><span class="line">  <span class="comment"># fancybox: //cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.6/jquery.fancybox.min.js</span></span><br><span class="line">  <span class="comment"># fancybox_css: //cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css</span></span><br><span class="line">  <span class="comment"># fancybox_css: //cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.6/jquery.fancybox.min.css</span></span><br><span class="line"><span class="attr">  fancybox:</span> <span class="string">//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js</span></span><br><span class="line"><span class="attr">  fancybox_css:</span> <span class="string">//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Internal version: 1.0.6</span></span><br><span class="line">  <span class="comment"># See: https://github.com/ftlabs/fastclick</span></span><br><span class="line">  <span class="comment"># Example:</span></span><br><span class="line">  <span class="comment"># fastclick: //cdn.jsdelivr.net/npm/fastclick@1/lib/fastclick.min.js</span></span><br><span class="line">  <span class="comment"># fastclick: //cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js</span></span><br><span class="line"><span class="attr">  fastclick:</span> <span class="string">//cdn.jsdelivr.net/npm/fastclick/lib/fastclick.min.js</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Internal version: 1.9.7</span></span><br><span class="line">  <span class="comment"># See: https://github.com/tuupola/jquery_lazyload</span></span><br><span class="line">  <span class="comment"># Example:</span></span><br><span class="line">  <span class="comment"># lazyload: //cdn.jsdelivr.net/npm/jquery-lazyload@1/jquery.lazyload.min.js</span></span><br><span class="line">  <span class="comment"># lazyload: //cdnjs.cloudflare.com/ajax/libs/jquery_lazyload/1.9.7/jquery.lazyload.min.js</span></span><br><span class="line"><span class="attr">  lazyload:</span> <span class="string">//cdn.jsdelivr.net/npm/jquery-lazyload/jquery.lazyload.min.js</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Internal version: 1.2.1</span></span><br><span class="line">  <span class="comment"># See: http://velocityjs.org</span></span><br><span class="line">  <span class="comment"># Example:</span></span><br><span class="line">  <span class="comment"># velocity: //cdn.jsdelivr.net/npm/velocity-animate@1/velocity.min.js</span></span><br><span class="line">  <span class="comment"># velocity: //cdnjs.cloudflare.com/ajax/libs/velocity/1.2.1/velocity.min.js</span></span><br><span class="line">  <span class="comment"># velocity_ui: //cdn.jsdelivr.net/npm/velocity-animate@1/velocity.ui.min.js</span></span><br><span class="line">  <span class="comment"># velocity_ui: //cdnjs.cloudflare.com/ajax/libs/velocity/1.2.1/velocity.ui.min.js</span></span><br><span class="line"><span class="attr">  velocity:</span> <span class="string">//cdn.jsdelivr.net/npm/velocity-animate/velocity.min.js</span></span><br><span class="line"><span class="attr">  velocity_ui:</span> <span class="string">//cdn.jsdelivr.net/npm/velocity-animate/velocity.ui.min.js</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Internal version: 4.6.2</span></span><br><span class="line">  <span class="comment"># See: https://fontawesome.com</span></span><br><span class="line">  <span class="comment"># Example:</span></span><br><span class="line">  <span class="comment"># fontawesome: //cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css</span></span><br><span class="line">  <span class="comment"># fontawesome: //cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.2/css/font-awesome.min.css</span></span><br><span class="line"><span class="attr">  fontawesome:</span> <span class="string">//cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Internal version: 2.10.4</span></span><br><span class="line">  <span class="comment"># See: https://www.algolia.com</span></span><br><span class="line">  <span class="comment"># Example:</span></span><br><span class="line">  <span class="comment"># algolia_instant_js: //cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.js</span></span><br><span class="line">  <span class="comment"># algolia_instant_css: //cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.min.css</span></span><br><span class="line"><span class="attr">  algolia_instant_js:</span> </span><br><span class="line"><span class="attr">  algolia_instant_css:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Internal version: 1.0.2</span></span><br><span class="line">  <span class="comment"># See: https://github.com/HubSpot/pace</span></span><br><span class="line">  <span class="comment"># Example:</span></span><br><span class="line">  <span class="comment"># pace: //cdn.jsdelivr.net/npm/pace-js@1/pace.min.js</span></span><br><span class="line">  <span class="comment"># pace: //cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/pace.min.js</span></span><br><span class="line">  <span class="comment"># pace_css: //cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css</span></span><br><span class="line">  <span class="comment"># pace_css: //cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/themes/blue/pace-theme-minimal.min.css</span></span><br><span class="line"><span class="attr">  pace:</span></span><br><span class="line"><span class="attr">  pace_css:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Internal version: 1.0.0</span></span><br><span class="line">  <span class="comment"># See: https://github.com/theme-next/theme-next-canvas-nest</span></span><br><span class="line">  <span class="comment"># Example:</span></span><br><span class="line">  <span class="comment"># canvas_nest: //cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-nest@1/canvas-nest.min.js</span></span><br><span class="line">  <span class="comment"># canvas_nest_nomobile: //cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-nest@1/canvas-nest-nomobile.min.js</span></span><br><span class="line"><span class="attr">  canvas_nest:</span></span><br><span class="line"><span class="attr">  canvas_nest_nomobile:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Internal version: 1.0.0</span></span><br><span class="line">  <span class="comment"># See: https://github.com/theme-next/theme-next-three</span></span><br><span class="line">  <span class="comment"># Example:</span></span><br><span class="line">  <span class="comment"># three: //cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/three.min.js</span></span><br><span class="line">  <span class="comment"># three_waves: //cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/three-waves.min.js</span></span><br><span class="line">  <span class="comment"># canvas_lines: //cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/canvas_lines.min.js</span></span><br><span class="line">  <span class="comment"># canvas_sphere: //cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/canvas_sphere.min.js</span></span><br><span class="line"><span class="attr">  three:</span></span><br><span class="line"><span class="attr">  three_waves:</span></span><br><span class="line"><span class="attr">  canvas_lines:</span></span><br><span class="line"><span class="attr">  canvas_sphere:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Internal version: 1.0.0</span></span><br><span class="line">  <span class="comment"># See: https://github.com/zproo/canvas-ribbon</span></span><br><span class="line">  <span class="comment"># Example:</span></span><br><span class="line">  <span class="comment"># canvas_ribbon: //cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-ribbon@1/canvas-ribbon.js</span></span><br><span class="line"><span class="attr">  canvas_ribbon:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Internal version: 3.3.0</span></span><br><span class="line">  <span class="comment"># See: https://github.com/ethantw/Han</span></span><br><span class="line">  <span class="comment"># Example:</span></span><br><span class="line">  <span class="comment"># han: //cdn.jsdelivr.net/npm/han-css@3/dist/han.min.css</span></span><br><span class="line">  <span class="comment"># han: //cdnjs.cloudflare.com/ajax/libs/Han/3.3.0/han.min.css</span></span><br><span class="line"><span class="attr">  han:</span> <span class="string">//cdn.jsdelivr.net/npm/han-css/dist/han.min.css</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Internal version: 4.0.7</span></span><br><span class="line">  <span class="comment"># See: https://github.com/vinta/pangu.js</span></span><br><span class="line">  <span class="comment"># Example:</span></span><br><span class="line">  <span class="comment"># pangu: //cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js</span></span><br><span class="line">  <span class="comment"># pangu: //cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js</span></span><br><span class="line"><span class="attr">  pangu:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Internal version: 1.0.0</span></span><br><span class="line">  <span class="comment"># See: https://github.com/GoogleChromeLabs/quicklink</span></span><br><span class="line">  <span class="comment"># Example:</span></span><br><span class="line">  <span class="comment"># quicklink: //cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js</span></span><br><span class="line"><span class="attr">  quicklink:</span> <span class="string">//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Internal version: 1.0.0</span></span><br><span class="line">  <span class="comment"># See: https://github.com/revir/need-more-share2</span></span><br><span class="line">  <span class="comment"># Example:</span></span><br><span class="line">  <span class="comment"># needmoreshare2_js: //cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.js</span></span><br><span class="line">  <span class="comment"># needmoreshare2_css: //cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.css</span></span><br><span class="line"><span class="attr">  needmoreshare2_js:</span></span><br><span class="line"><span class="attr">  needmoreshare2_css:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Internal version: 1.0.0</span></span><br><span class="line">  <span class="comment"># See: https://github.com/theme-next/theme-next-bookmark</span></span><br><span class="line">  <span class="comment"># Example:</span></span><br><span class="line">  <span class="comment"># bookmark: //cdn.jsdelivr.net/gh/theme-next/theme-next-bookmark@1/bookmark.min.js</span></span><br><span class="line"><span class="attr">  bookmark:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Internal version: 1.1</span></span><br><span class="line">  <span class="comment"># See: https://github.com/theme-next/theme-next-reading-progress</span></span><br><span class="line">  <span class="comment"># Example:</span></span><br><span class="line">  <span class="comment"># reading_progress: //cdn.jsdelivr.net/gh/theme-next/theme-next-reading-progress@1/reading_progress.min.js</span></span><br><span class="line"><span class="attr">  reading_progress:</span> <span class="string">//cdn.jsdelivr.net/gh/theme-next/theme-next-reading-progress/reading_progress.min.js</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># leancloud-storage</span></span><br><span class="line">  <span class="comment"># See: https://www.npmjs.com/package/leancloud-storage</span></span><br><span class="line">  <span class="comment"># Example:</span></span><br><span class="line">  <span class="comment"># leancloud: //cdn.jsdelivr.net/npm/leancloud-storage@3/dist/av-min.js</span></span><br><span class="line"><span class="attr">  leancloud:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># valine</span></span><br><span class="line">  <span class="comment"># See: https://github.com/xCss/Valine</span></span><br><span class="line">  <span class="comment"># Example:</span></span><br><span class="line">  <span class="comment"># valine: //cdn.jsdelivr.net/npm/valine@1/dist/Valine.min.js</span></span><br><span class="line">  <span class="comment"># valine: //cdnjs.cloudflare.com/ajax/libs/valine/1.3.4/Valine.min.js</span></span><br><span class="line"><span class="attr">  valine:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># gitalk &amp; js-md5</span></span><br><span class="line">  <span class="comment"># See: https://github.com/gitalk/gitalk, https://github.com/emn178/js-md5</span></span><br><span class="line">  <span class="comment"># Example:</span></span><br><span class="line">  <span class="comment"># gitalk_js: //cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js</span></span><br><span class="line">  <span class="comment"># gitalk_css: //cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css</span></span><br><span class="line">  <span class="comment"># md5: //cdn.jsdelivr.net/npm/js-md5@0/src/md5.min.js</span></span><br><span class="line"><span class="attr">  gitalk_js:</span></span><br><span class="line"><span class="attr">  gitalk_css:</span></span><br><span class="line"><span class="attr">  md5:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># likely</span></span><br><span class="line">  <span class="comment"># See: https://github.com/ilyabirman/Likely</span></span><br><span class="line">  <span class="comment"># Example:</span></span><br><span class="line">  <span class="comment"># likely_js: //cdn.jsdelivr.net/npm/ilyabirman-likely@2/release/likely.js</span></span><br><span class="line">  <span class="comment"># likely_css: //cdn.jsdelivr.net/npm/ilyabirman-likely@2/release/likely.css</span></span><br><span class="line"><span class="attr">  likely_js:</span></span><br><span class="line"><span class="attr">  likely_css:</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># DisqusJS</span></span><br><span class="line">  <span class="comment"># See: https://github.com/SukkaW/DisqusJS</span></span><br><span class="line">  <span class="comment"># Example:</span></span><br><span class="line">  <span class="comment"># disqusjs_js: //cdn.jsdelivr.net/npm/disqusjs@1/dist/disqus.js</span></span><br><span class="line">  <span class="comment"># disqusjs_css: //cdn.jsdelivr.net/npm/disqusjs@1/dist/disqusjs.css</span></span><br><span class="line"><span class="attr">  disqusjs_js:</span></span><br><span class="line"><span class="attr">  disqusjs_css:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Assets</span></span><br><span class="line"><span class="attr">css:</span> <span class="string">css</span></span><br><span class="line"><span class="attr">js:</span> <span class="string">js</span></span><br><span class="line"><span class="attr">images:</span> <span class="string">images</span></span><br></pre></td></tr></table></figure><p>Reference:</p><ol><li><a href="https://theme-next.org/docs/getting-started/" target="_blank" rel="noopener">next 官方说明</a></li><li><a href="http://www.arao.me/2015/hexo-next-theme-optimize-base/" target="_blank" rel="noopener">NexT主题与Hexo更搭哦</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> github </tag>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>个人博客搭建hexo+github(2):配置hexo</title>
      <link href="/2015/11/05/Static-Blog-hexo-github-2-config-hexo/"/>
      <url>/2015/11/05/Static-Blog-hexo-github-2-config-hexo/</url>
      
        <content type="html"><![CDATA[<img src="/2015/11/05/Static-Blog-hexo-github-2-config-hexo/hexo_logo.png" class=""><h1 id="目录介绍"><a href="#目录介绍" class="headerlink" title="目录介绍"></a>目录介绍</h1><figure class="highlight ruby"><figcaption><span>hexo directory tree</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">hexo</span><br><span class="line">├── .deploy_git  <span class="comment">#hexo deploy命令部署到Github Pages上的内容</span></span><br><span class="line">├── node_modules <span class="comment">#hexo支持的node命令</span></span><br><span class="line">├── public       <span class="comment">#hexo generate命令生成的静态网页内容</span></span><br><span class="line">├── scaffolds    <span class="comment">#layout模板目录，其中的md文件可以添加或者修改</span></span><br><span class="line">├── source       <span class="comment">#文章源码存放目录，包括markdown和html</span></span><br><span class="line"><span class="params">|   ├── _drafts  #草稿文章</span></span><br><span class="line"><span class="params">|</span>   └── _posts   <span class="comment">#发布文章</span></span><br><span class="line">├── themes       <span class="comment">#主题文件目录</span></span><br><span class="line"><span class="params">|   └── <span class="keyword">next</span></span></span><br><span class="line"><span class="params">|</span>       └── _config.yml <span class="comment">#next主题配置文件</span></span><br><span class="line">├── _config.yml   <span class="comment">#全局配置文件</span></span><br><span class="line">└── package.json  <span class="comment">#应用程序数据，版本等信息</span></span><br></pre></td></tr></table></figure><h1 id="配置hexo-3-8-0"><a href="#配置hexo-3-8-0" class="headerlink" title="配置hexo(3.8.0)"></a>配置hexo(3.8.0)</h1><p>编辑hexo目录下的_config.yml文件</p><blockquote><p>Note:修改配置前，做好备份；修改后执行以下命令，验证配置。</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean <span class="comment">#一定要先清除，否则可能在生成的网页中出现乱码等奇怪的现象</span></span><br><span class="line">$ hexo g</span><br><span class="line">$ hexo s</span><br></pre></td></tr></table></figure><a id="more"></a> <figure class="highlight yml"><figcaption><span> hexo-config</span><a href="/downloads/code/config/hexo/_config.yml">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Hexo Configuration</span></span><br><span class="line"><span class="comment">## Docs: http://hexo.io/docs/configuration.html</span></span><br><span class="line"><span class="comment">## Source: https://github.com/hexojs/hexo/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">玉汝于成，功不唐捐</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">记录点滴</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">一切都会成为过去</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">WU</span> <span class="string">Chenxu</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">Asia/Shanghai</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'</span></span><br><span class="line"><span class="attr">url:</span> <span class="attr">https://www.wuchenxu.com</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">:year/:month/:day/:title/</span></span><br><span class="line"><span class="attr">permalink_defaults:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Directory</span></span><br><span class="line"><span class="attr">source_dir:</span> <span class="string">source</span></span><br><span class="line"><span class="attr">public_dir:</span> <span class="string">public</span></span><br><span class="line"><span class="attr">tag_dir:</span> <span class="string">tags</span></span><br><span class="line"><span class="attr">archive_dir:</span> <span class="string">archives</span></span><br><span class="line"><span class="attr">category_dir:</span> <span class="string">categories</span></span><br><span class="line"><span class="attr">code_dir:</span> <span class="string">downloads/code</span></span><br><span class="line"><span class="attr">i18n_dir:</span> <span class="string">:lang</span></span><br><span class="line"><span class="attr">skip_render:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Writing</span></span><br><span class="line"><span class="attr">new_post_name:</span> <span class="string">:title.md</span> <span class="comment"># File name of new posts</span></span><br><span class="line"><span class="attr">default_layout:</span> <span class="string">post</span></span><br><span class="line"><span class="attr">titlecase:</span> <span class="literal">false</span> <span class="comment"># Transform title into titlecase</span></span><br><span class="line"><span class="attr">external_link:</span> <span class="literal">true</span> <span class="comment"># Open external links in new tab</span></span><br><span class="line"><span class="attr">filename_case:</span> <span class="number">0</span></span><br><span class="line"><span class="attr">render_drafts:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">relative_link:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">future:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">highlight:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  line_number:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  auto_detect:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  tab_replace:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Category &amp; Tag</span></span><br><span class="line"><span class="attr">default_category:</span> <span class="string">uncategorized</span></span><br><span class="line"><span class="attr">category_map:</span></span><br><span class="line"><span class="attr">tag_map:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Date / Time format</span></span><br><span class="line"><span class="comment">## Hexo uses Moment.js to parse and display date</span></span><br><span class="line"><span class="comment">## You can customize the date format as defined in</span></span><br><span class="line"><span class="comment">## http://momentjs.com/docs/#/displaying/format/</span></span><br><span class="line"><span class="attr">date_format:</span> <span class="string">YYYY-MM-DD</span></span><br><span class="line"><span class="attr">time_format:</span> <span class="attr">HH:mm:ss</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Pagination</span></span><br><span class="line"><span class="comment">## Set per_page to 0 to disable pagination</span></span><br><span class="line"><span class="attr">per_page:</span> <span class="number">10</span></span><br><span class="line"><span class="attr">pagination_dir:</span> <span class="string">page</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="comment">## Plugins: http://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: http://hexo.io/themes/</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">next</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Feed npm install hexo-generator-feed –-save</span></span><br><span class="line"><span class="attr">feed:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">atom</span> <span class="comment">#atom or rss2</span></span><br><span class="line"><span class="attr">  path:</span> <span class="string">atom.xml</span></span><br><span class="line"><span class="attr">  limit:</span> <span class="number">20</span></span><br><span class="line">  </span><br><span class="line"> <span class="comment">#sitemap</span></span><br><span class="line"><span class="attr">sitemap:</span></span><br><span class="line"><span class="attr">  path:</span> <span class="string">sitemap.xml</span></span><br><span class="line"><span class="attr">baidusitemap:</span></span><br><span class="line"><span class="attr">  path:</span> <span class="string">baidusitemap.xml</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Local search  </span></span><br><span class="line"><span class="comment"># npm install hexo-generator-searchdb --save</span></span><br><span class="line"><span class="attr">search:</span></span><br><span class="line"><span class="attr">  path:</span> <span class="string">search.xml</span></span><br><span class="line"><span class="attr">  field:</span> <span class="string">post</span></span><br><span class="line"><span class="attr">  format:</span> <span class="string">raw</span></span><br><span class="line"><span class="attr">  limit:</span> <span class="number">10000</span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># npm i hexo-symbols-count-time --save</span></span><br><span class="line"><span class="attr">symbols_count_time:</span></span><br><span class="line"><span class="attr">  symbols:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  time:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  total_symbols:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  total_time:</span> <span class="literal">true</span></span><br><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: http://hexo.io/docs/deployment.html</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr">- type:</span> <span class="string">git</span></span><br><span class="line"><span class="attr">  repository:</span> <span class="attr">https://git.coding.net/altawu/altawu.git</span></span><br><span class="line"><span class="attr">  branch:</span> <span class="string">master</span></span><br><span class="line"><span class="attr">- type:</span> <span class="string">git</span></span><br><span class="line"><span class="attr">  repository:</span> <span class="attr">https://github.com/WuChenxu/WuChenxu.github.io.git</span></span><br><span class="line"><span class="attr">  branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><h1 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h1><ol><li><a href="https://hexo.io/docs/configuration.html" target="_blank" rel="noopener">Hexo doc</a></li><li><a href="http://timnew.me/blog/2014/08/19/use-hexo-asset-folder-to-manage-resource-used-by-post/" target="_blank" rel="noopener">asset_folder管理图片等资源</a></li><li><a href="http://www.ituring.com.cn/article/199035" target="_blank" rel="noopener">hexo基本用法</a></li><li><a href="https://github.com/timnew/hexo-tag-asset-res" target="_blank" rel="noopener">asset用法</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> github </tag>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>个人博客搭建hexo+github(1):初体验</title>
      <link href="/2015/11/04/Static-Blog-hexo-github-1-Start/"/>
      <url>/2015/11/04/Static-Blog-hexo-github-1-Start/</url>
      
        <content type="html"><![CDATA[<img src="/2015/11/04/Static-Blog-hexo-github-1-Start/hexo_github.png" class=""><h2 id="hexo简介"><a href="#hexo简介" class="headerlink" title="hexo简介"></a>hexo简介</h2><p>A fast, simple &amp; powerful blog framework, powered by Node.js.<br><strong>Features</strong><br>    - Blazing fast generating<br>       - Support for GitHub Flavored Markdown and most Octopress plugins<br>    - One-command deploy to GitHub Pages, Heroku, etc.<br>    - Powerful plugin system<br> <a id="more"></a></p><h2 id="本地环境"><a href="#本地环境" class="headerlink" title="本地环境"></a>本地环境</h2><p>Win10 x64(in 2017)<br>macOS(in 2018)</p><h2 id="安装必须的软件"><a href="#安装必须的软件" class="headerlink" title="安装必须的软件"></a>安装必须的软件</h2><h3 id="安装git-v2-20-1"><a href="#安装git-v2-20-1" class="headerlink" title="安装git(v2.20.1)"></a>安装<a href="http://git-scm.com/" target="_blank" rel="noopener">git</a>(v2.20.1)</h3><h3 id="安装node-js-v10-14-2"><a href="#安装node-js-v10-14-2" class="headerlink" title="安装node.js(v10.14.2)"></a>安装<a href="https://nodejs.org/" target="_blank" rel="noopener">node.js</a>(v10.14.2)</h3><h3 id="安装hexo-3-9-0"><a href="#安装hexo-3-9-0" class="headerlink" title="安装hexo(3.9.0)"></a>安装hexo(3.9.0)</h3><p>必须先安装node.js在在git-bash里执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>更新hexo</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">npm</span> install hexo-cli -g</span><br><span class="line"><span class="built_in">npm</span> update</span><br></pre></td></tr></table></figure><h2 id="配置github"><a href="#配置github" class="headerlink" title="配置github"></a>配置github</h2><ul><li><p>到Repository下，找到以下内容</p><img src="/2015/11/04/Static-Blog-hexo-github-1-Start/gihub_https_link.png" class=""></li><li><p>先点击HTTPS，然后复制里面的地址。然后编辑_config.yml文件（在C:\Hexo下）</p><img src="/2015/11/04/Static-Blog-hexo-github-1-Start/hexo_configure_file.png" class=""></li><li><p>修改文件里面的deploy。其中的repository就改成你刚刚复制的地址。保存这个文件。</p><img src="/2015/11/04/Static-Blog-hexo-github-1-Start/hexo_deploy.png" class=""></li></ul><p><code>注意每个冒号后面有一个空格</code></p><h2 id="配置hexo"><a href="#配置hexo" class="headerlink" title="配置hexo"></a>配置hexo</h2><h3 id="新建-hexo文件夹"><a href="#新建-hexo文件夹" class="headerlink" title="新建 hexo文件夹"></a>新建 hexo文件夹</h3><p>建立一个名字叫「Hexo」的文件夹，然后在此文件夹中右键打开Git Bash。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init</span><br></pre></td></tr></table></figure><p>Hexo随后会自动在目标文件夹建立网站所需要的所有文件。<br>现在我们已经搭建起本地的hexo博客了，执行以下命令(在C:\hexo)，然后到浏览器输入localhost:4000看看。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g</span><br><span class="line">$ hexo s</span><br></pre></td></tr></table></figure><h3 id="写文章"><a href="#写文章" class="headerlink" title="写文章"></a>写文章</h3><p>执行以下命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo n <span class="comment">#写文章</span></span><br></pre></td></tr></table></figure><p>或者，直接在source/_posts文件夹下新建md文件</p><h3 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h3><p>推送到服务器上，执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean <span class="comment">#生成</span></span><br><span class="line">$ hexo g <span class="comment">#生成</span></span><br><span class="line">$ hexo d <span class="comment">#部署，可与hexo g合并为hexo d -g</span></span><br></pre></td></tr></table></figure><h2 id="配置主题"><a href="#配置主题" class="headerlink" title="配置主题"></a>配置主题</h2><ul><li>下载主题<figure class="highlight bash"><figcaption><span>download theme</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/iissnan/hexo-theme-next themes/hexo-theme-next</span><br></pre></td></tr></table></figure></li><li>在hexo目录下的_config.yml中修改主题<figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">theme</span>: hexo-<span class="built_in">theme</span>-next</span><br></pre></td></tr></table></figure></li><li>更新主题<figure class="highlight bash"><figcaption><span>update theme</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> theme/hexo-theme-next</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2></li></ul><ol><li><a href="http://hexo.io/" target="_blank" rel="noopener">Hexo</a></li><li><a href="http://www.ruanyifeng.com/blog/2012/08/blogging_with_jekyll.html" target="_blank" rel="noopener">github Pages和Jekyll入门</a></li><li><a href="http://segmentfault.com/a/1190000002476681" target="_blank" rel="noopener">我用过的静态站点生成器们</a></li><li><a href="http://cnfeat.com/blog/2014/05/10/how-to-build-a-blog/" target="_blank" rel="noopener">简明 Github Pages与 jekyll 教程</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> github </tag>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
