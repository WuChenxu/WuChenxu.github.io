<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>功不唐捐，玉汝于成</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.wuchenxu.com/"/>
  <updated>2017-01-25T14:13:03.000Z</updated>
  <id>http://www.wuchenxu.com/</id>
  
  <author>
    <name>WuChenxu</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Rust语言(3):引用依赖库</title>
    <link href="http://www.wuchenxu.com/2017/01/25/Rust-lang-3-crate/"/>
    <id>http://www.wuchenxu.com/2017/01/25/Rust-lang-3-crate/</id>
    <published>2017-01-25T14:13:03.000Z</published>
    <updated>2017-01-25T14:13:03.000Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://crates.io/" target="_blank" rel="external">crate.io</a>是Rust社区的中心package仓库，该仓库有各种不同功能的Rust软件库。</p>
<a id="more"></a>
<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p><a href="https://crates.io/" target="_blank" rel="external">crate.io</a>是Rust社区的中心package仓库，<code>cargo</code>用来管理package，下载、版本管理、编译、运行依赖的packages。<br><code>crate</code>本身是<code>木箱</code>的意思，而<code>cargo</code>有<code>货运</code>的意思，<code>cargo</code>承载着各种<code>货物</code>，其中有一些是封装好的<code>木箱</code>。这个比喻倒也贴切。</p>
<h1 id="add-package"><a href="#add-package" class="headerlink" title="add package"></a>add package</h1><h2 id="packages-from-crate-io"><a href="#packages-from-crate-io" class="headerlink" title="packages from crate.io"></a>packages from crate.io</h2><p>使用Rust（当前版本<code>1.14.0</code>）过程中，如果需要使用一些非核心库（Rust的核心库功能有限，使用到其他的库是大概率事件），则需要在<code>Cargo.toml</code>文件添加依赖的package。这些package可以是来自<a href="https://crates.io/" target="_blank" rel="external">crate.io</a>，或者<code>git仓库</code>，或者本地路径。</p>
<p>以下是一个从 crate.io 引用 crate 的例子，两个步骤：</p>
<ol>
<li><p>在 Cargo.toml 文件中增加dependencies的package名字以及版本。</p>
<figure class="highlight toml"><figcaption><span>Cargo.toml</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="section">[dependencies]</span></div><div class="line"><span class="attr">webbrowser</span> = <span class="string">"0.2.2"</span></div></pre></td></tr></table></figure>
</li>
<li><p>在rust源文件中引入 crate。</p>
<figure class="highlight rs"><figcaption><span>Rust import external crate</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">extern</span> <span class="keyword">crate</span> webbrowser;</div></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="packages-from-git-repository"><a href="#packages-from-git-repository" class="headerlink" title="packages from git repository"></a>packages from git repository</h2><figure class="highlight toml"><figcaption><span>dependencies from git repository</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="section">[dependencies]</span></div><div class="line"><span class="attr">rand</span> = &#123; git = <span class="string">"https://github.com/rust-lang-nursery/rand"</span>, branch = <span class="string">"next"</span> &#125;</div></pre></td></tr></table></figure>
<p>如果不加<code>branch=&quot;next&quot;</code>，则默认获取最新的commit，当然可以用<code>rev</code>、<code>tag</code>、<code>branch</code>来指定不同的版本。</p>
<h2 id="packages-from-local-path"><a href="#packages-from-local-path" class="headerlink" title="packages from local path"></a>packages from local path</h2><figure class="highlight toml"><figcaption><span>dependencies from local directory</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="section">[dependencies]</span></div><div class="line"><span class="attr">my_crate_name</span> = &#123; path = <span class="string">"../my-crate-directory"</span>, version = <span class="string">"0.1.0"</span> &#125;</div></pre></td></tr></table></figure>
<p>如果不加<code>version=&quot;0.1.0&quot;</code>，则不会进行版本检查。</p>
<h1 id="package-version"><a href="#package-version" class="headerlink" title="package version"></a>package version</h1><h2 id="Semver"><a href="#Semver" class="headerlink" title="Semver"></a>Semver</h2><p>版本号<code>0.2.2</code>有讲究，这是符合<a href="http://semver.org/" target="_blank" rel="external">语义化版本控制(Semantic Versioning)</a>格式，这种格式制定了严格的版本号更新要求，严格遵守可以防止<code>dependency hell(依赖地狱)</code>问题。</p>
<blockquote>
<p>Given a version number MAJOR.MINOR.PATCH, increment the:<br>MAJOR version when you make incompatible API changes,<br>MINOR version when you add functionality in a backwards-compatible manner, and<br>PATCH version when you make backwards-compatible bug fixes.<br>Additional labels for pre-release and build metadata are available as extensions to the MAJOR.MINOR.PATCH format.</p>
</blockquote>
<h2 id="Caret-requirements"><a href="#Caret-requirements" class="headerlink" title="Caret requirements"></a>Caret requirements</h2><p>版本号还可以有另外一种crate格式，这种格式<code>^x.y.z</code>允许升级到与要求版本号兼容的最新版本上。</p>
<figure class="highlight plain"><figcaption><span>Crate format</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">^1.2.3 := &gt;=1.2.3 &lt;2.0.0</div><div class="line">^1.2 := &gt;=1.2.0 &lt;2.0.0</div><div class="line">^1 := &gt;=1.0.0 &lt;2.0.0</div><div class="line">^0.2.3 := &gt;=0.2.3 &lt;0.3.0</div><div class="line">^0.0.3 := &gt;=0.0.3 &lt;0.0.4</div><div class="line">^0.0 := &gt;=0.0.0 &lt;0.1.0</div><div class="line">^0 := &gt;=0.0.0 &lt;1.0.0</div></pre></td></tr></table></figure>
<h2 id="Tilde-requirements"><a href="#Tilde-requirements" class="headerlink" title="Tilde requirements"></a>Tilde requirements</h2><p>版本号还支持另一种Tilde格式，这种格式<code>~x.y.z</code>指定了最低版本号要求。</p>
<figure class="highlight plain"><figcaption><span>Tilde format</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">~1.2.3 := &gt;=1.2.3 &lt;1.3.0</div><div class="line">~1.2   := &gt;=1.2.0 &lt;1.3.0</div><div class="line">~1     := &gt;=1.0.0 &lt;2.0.0</div></pre></td></tr></table></figure>
<h2 id="Wildcard-requirements"><a href="#Wildcard-requirements" class="headerlink" title="Wildcard requirements"></a>Wildcard requirements</h2><p>版本号支持通配符。</p>
<figure class="highlight plain"><figcaption><span>ver wildcard</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">* := &gt;=0.0.0</div><div class="line">1.* := &gt;=1.0.0 &lt;2.0.0</div><div class="line">1.2.* := &gt;=1.2.0 &lt;1.3.0</div></pre></td></tr></table></figure>
<h1 id="build-a-project-with-dependencies"><a href="#build-a-project-with-dependencies" class="headerlink" title="build a project with dependencies"></a>build a project with dependencies</h1><p>我做的一个例子<a href="https://github.com/WuChenxu/Rust/tree/master/04_take_a_break" target="_blank" rel="external">take a break</a>，实现了每隔一段时间打开默认浏览器播放音乐功能，其中需要用到<code>webbrowser</code>库。</p>
<figure class="highlight sh"><figcaption><span>cargo build a project with depedencies</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">&gt;cargo build</div><div class="line">    Updating registry `https://github.com/rust-lang/crates.io-index`</div><div class="line"> Downloading webbrowser v0.2.2</div><div class="line">   Compiling webbrowser v0.2.2</div><div class="line">   Compiling take_a_break v0.1.0 (file:///Users/alta/github/Rust/04_take_a_break)</div><div class="line">    Finished debug [unoptimized + debuginfo] target(s) <span class="keyword">in</span> 0.66 secs</div></pre></td></tr></table></figure>
<h1 id="update-a-project-with-dependencies"><a href="#update-a-project-with-dependencies" class="headerlink" title="update a project with dependencies"></a>update a project with dependencies</h1><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;cargo <span class="keyword">update</span></div><div class="line">    Updating registry `http<span class="variable">s:</span>//github.<span class="keyword">com</span>/rust-lang/crates.io-<span class="built_in">index</span>`</div></pre></td></tr></table></figure>
<p>Reference:</p>
<ol>
<li><a href="http://doc.crates.io/guide.html" target="_blank" rel="external">Cargo Guide</a></li>
<li><a href="https://github.com/steveklabnik/semver" target="_blank" rel="external">Rust semver</a></li>
<li><a href="http://semver.org/lang/zh-CN/" target="_blank" rel="external">semver</a></li>
<li><a href="https://github.com/WuChenxu/Rust/tree/master/04_take_a_break" target="_blank" rel="external">take a break</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://crates.io/&quot;&gt;crate.io&lt;/a&gt;是Rust社区的中心package仓库，该仓库有各种不同功能的Rust软件库。&lt;/p&gt;
    
    </summary>
    
      <category term="Rust" scheme="http://www.wuchenxu.com/categories/Rust/"/>
    
    
      <category term="Rust" scheme="http://www.wuchenxu.com/tags/Rust/"/>
    
      <category term="crate" scheme="http://www.wuchenxu.com/tags/crate/"/>
    
  </entry>
  
  <entry>
    <title>软件中状态机的实现方法</title>
    <link href="http://www.wuchenxu.com/2017/01/16/software-design-1-state-machine/"/>
    <id>http://www.wuchenxu.com/2017/01/16/software-design-1-state-machine/</id>
    <published>2017-01-16T13:23:45.000Z</published>
    <updated>2017-01-16T13:23:45.000Z</updated>
    
    <content type="html"><![CDATA[<p>FSM,HSM,Model-Base…</p>
<a id="more"></a>
<h1 id="state-machine"><a href="#state-machine" class="headerlink" title="state machine"></a>state machine</h1><h2 id="状态机是什么"><a href="#状态机是什么" class="headerlink" title="状态机是什么"></a>状态机是什么</h2><h2 id="硬件"><a href="#硬件" class="headerlink" title="硬件"></a>硬件</h2><h2 id="软件"><a href="#软件" class="headerlink" title="软件"></a>软件</h2><h2 id="通信"><a href="#通信" class="headerlink" title="通信"></a>通信</h2><h1 id="FSM-Finite-State-Machine"><a href="#FSM-Finite-State-Machine" class="headerlink" title="FSM(Finite State Machine)"></a>FSM(Finite State Machine)</h1><h1 id="HSM-hierarchical-State-Machine"><a href="#HSM-hierarchical-State-Machine" class="headerlink" title="HSM(hierarchical State Machine)"></a>HSM(hierarchical State Machine)</h1><h1 id="Modeling"><a href="#Modeling" class="headerlink" title="Modeling"></a>Modeling</h1><p>design<br>integration<br>simulate<br>validation<br>generate code</p>
<h2 id="Matlab-Stateflow"><a href="#Matlab-Stateflow" class="headerlink" title="Matlab Stateflow"></a><a href="https://www.mathworks.com/products/stateflow.html" target="_blank" rel="external">Matlab Stateflow</a></h2><h2 id="YAKINDU-Statechart-Tools-SCT"><a href="#YAKINDU-Statechart-Tools-SCT" class="headerlink" title="YAKINDU Statechart Tools (SCT)"></a><a href="https://www.itemis.com/en/yakindu/statechart-tools/" target="_blank" rel="external">YAKINDU Statechart Tools (SCT)</a></h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;FSM,HSM,Model-Base…&lt;/p&gt;
    
    </summary>
    
      <category term="software design" scheme="http://www.wuchenxu.com/categories/software-design/"/>
    
    
      <category term="software" scheme="http://www.wuchenxu.com/tags/software/"/>
    
      <category term="design" scheme="http://www.wuchenxu.com/tags/design/"/>
    
  </entry>
  
  <entry>
    <title>怎样开发一个产品</title>
    <link href="http://www.wuchenxu.com/2017/01/11/how-to-develop-a-product/"/>
    <id>http://www.wuchenxu.com/2017/01/11/how-to-develop-a-product/</id>
    <published>2017-01-11T14:02:34.000Z</published>
    <updated>2017-01-11T14:02:34.000Z</updated>
    
    <content type="html"><![CDATA[<p>个人的一点看法，欢迎讨论。谢绝转载。</p>
<a id="more"></a>
<h1 id="逆向开发"><a href="#逆向开发" class="headerlink" title="逆向开发"></a>逆向开发</h1><p>如果是一个成熟产品，市面上有很多现成的产品，那么一个快速开发的捷径是”抄”。硬件可以模仿甚至抄板，软件可以通过学习市场上其他产品的功能，算法可以参考一些公开的论文，结合对其他产品的反向分析。<br>曾经有过极端的案例是，硬件抄板成一模一样，软件读出来，直接烧录进去就可以出货了。当然了这种极端的做法是侵犯了别人的知识产权，我是不支持的。</p>
<h1 id="正向开发"><a href="#正向开发" class="headerlink" title="正向开发"></a>正向开发</h1><p>按照顺序：</p>
<ol>
<li>定义问题</li>
<li>寻找解决方案</li>
<li>系统架构设计</li>
<li>硬件设计设计</li>
<li>软件架构设计</li>
<li>软件开发</li>
<li>软件测试</li>
<li>系统测试</li>
</ol>
<p>核心竞争力：建立开发（development）和系统性能调优（system preformance tuning）的能力（know-how，toolchain…）。<br>系统设计可以划分子系统，子系统下面可以划分子模块，每个模块可独立演进，每个模块的算法可以优化迭代。<br>软件模块开发可以考虑用基于模型的设计（Model-Based design），如Matlab，既可以做SIL（Software In the Loop）或者HIL（Hardware In the Loop），也可以生成代码在嵌入式设备中运行。<br>有前瞻性的预研团队，可以与高校或者研究所合作，确保技术上不断更新。<br>当然对汽车行业还要考虑更多：A-SPICE、ISO26262（functional safety），AUTOSAR。</p>
<h1 id="混合模式"><a href="#混合模式" class="headerlink" title="混合模式"></a>混合模式</h1><p>就算是已正向开发为主的大公司，也会进行所谓”竞争对手分析”，对比市场上的产品与一家产品的功能及性能差距，优点可以在向客户的推介材料里展示，缺点可以称为改进的方向，以确保产品在市场上有竞争力。<br>如果一家刚起步的公司两种方法：</p>
<ol>
<li>集中精力开发核心模块，其他模块都外包，如Mobieye专攻图像处理器和算法，可以集成到Tier1或者OEM的video里。</li>
<li>先逆向开发出产品，杀入市场，占领一部分市场，然后慢慢建立自己的正向研发能力，如国内主机厂，华为手机原来是白牌。</li>
</ol>
<p>reference：</p>
<ol>
<li><a href="https://en.wikipedia.org/wiki/Mobileye" target="_blank" rel="external">Mobieye</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;个人的一点看法，欢迎讨论。谢绝转载。&lt;/p&gt;
    
    </summary>
    
      <category term="product" scheme="http://www.wuchenxu.com/categories/product/"/>
    
    
      <category term="idea" scheme="http://www.wuchenxu.com/tags/idea/"/>
    
  </entry>
  
  <entry>
    <title>windows command(20):date time</title>
    <link href="http://www.wuchenxu.com/2016/12/18/windows-cmd-20-date-time/"/>
    <id>http://www.wuchenxu.com/2016/12/18/windows-cmd-20-date-time/</id>
    <published>2016-12-18T12:32:28.000Z</published>
    <updated>2016-12-25T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p><code>data</code>命令用来显示日期；<code>time</code>命令用来显示时间。</p>
<a id="more"></a>
<h1 id="Basics"><a href="#Basics" class="headerlink" title="Basics"></a>Basics</h1><figure class="highlight bat"><figcaption><span>date</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;<span class="built_in">echo</span> <span class="variable">%date%</span></div><div class="line">Sun <span class="number">12</span>/<span class="number">18</span>/<span class="number">2016</span></div></pre></td></tr></table></figure>
<figure class="highlight bat"><figcaption><span>time</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;<span class="built_in">echo</span> <span class="variable">%time%</span></div><div class="line"><span class="number">17</span>:<span class="number">00</span>:<span class="number">35</span>.<span class="number">87</span></div></pre></td></tr></table></figure>
<p>note:</p>
<ol>
<li><code>%</code>可以替换为<code>!</code>，效果一样。</li>
<li>注册表里<code>HKCU\Control Panel\International</code>下的一些键值：<br> <code>sShortDate</code>键值为<code>M/d/yyyy</code><br> <code>sTimeFormat</code>键值为<code>h:mm:ss tt</code><br> 以上键值不同则输出的格式会有不同。</li>
</ol>
<h1 id="format-output"><a href="#format-output" class="headerlink" title="format output"></a>format output</h1><h2 id="截取字符串"><a href="#截取字符串" class="headerlink" title=":截取字符串"></a><code>:</code>截取字符串</h2><figure class="highlight bat"><figcaption><span>date year</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;<span class="built_in">echo</span> <span class="variable">%date：~10,4%</span></div><div class="line"><span class="number">2016</span></div></pre></td></tr></table></figure>
<p><code>date</code>后的<code>:</code>表示对变量作处理，<code>~10</code>表示从第10个字符开始取内容（从0开始计数），<code>,4</code>表示去4个字符。</p>
<figure class="highlight bat"><figcaption><span>date month</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;<span class="built_in">echo</span> <span class="variable">%date：~4,2%</span></div><div class="line"><span class="number">12</span></div></pre></td></tr></table></figure>
<figure class="highlight bat"><figcaption><span>date day</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;<span class="built_in">echo</span> <span class="variable">%date：~7,2%</span></div><div class="line"><span class="number">18</span></div></pre></td></tr></table></figure>
<figure class="highlight bat"><figcaption><span>time hour</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;<span class="built_in">echo</span> <span class="variable">!time:~,2!</span></div><div class="line"><span class="number">19</span></div></pre></td></tr></table></figure>
<figure class="highlight bat"><figcaption><span>time minute</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;<span class="built_in">echo</span> <span class="variable">!time:~3,2!</span></div><div class="line"><span class="number">58</span></div></pre></td></tr></table></figure>
<figure class="highlight bat"><figcaption><span>time second</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;<span class="built_in">echo</span> <span class="variable">!time:~6,2!</span></div><div class="line"><span class="number">20</span></div></pre></td></tr></table></figure>
<h2 id="for语句"><a href="#for语句" class="headerlink" title="for语句"></a><code>for</code>语句</h2><figure class="highlight bat"><figcaption><span>for-date</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt;<span class="keyword">for</span> /F "tokens=<span class="number">1</span>-<span class="number">4</span> delims=/ " %i <span class="keyword">in</span> ("<span class="variable">%date%</span>") <span class="keyword">do</span> @<span class="built_in">echo</span> <span class="variable">%i-%</span>j-<span class="variable">%k-%</span>l</div><div class="line">Sun-<span class="number">12</span>-<span class="number">18</span>-<span class="number">2016</span></div><div class="line">&gt;<span class="keyword">for</span> /F "tokens=<span class="number">1</span>-<span class="number">4</span> delims=/ " %i <span class="keyword">in</span> ("<span class="variable">%date%</span>") <span class="keyword">do</span> @<span class="built_in">echo</span> <span class="variable">%l-%</span>j-%k</div><div class="line"><span class="number">2016</span>-<span class="number">12</span>-<span class="number">18</span></div></pre></td></tr></table></figure>
<figure class="highlight bat"><figcaption><span>for-time</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt;<span class="keyword">for</span> /F "tokens=<span class="number">1</span>-<span class="number">4</span> delims=:." %i <span class="keyword">in</span> ("<span class="variable">%time%</span>") <span class="keyword">do</span> @<span class="built_in">echo</span> <span class="variable">%i-%</span>j-<span class="variable">%k-%</span>l</div><div class="line"><span class="number">20</span>-<span class="number">29</span>-<span class="number">30</span>-<span class="number">71</span></div><div class="line">&gt;<span class="keyword">for</span> /F "tokens=<span class="number">1</span>-<span class="number">4</span> delims=:." %i <span class="keyword">in</span> ("<span class="variable">%time%</span>") <span class="keyword">do</span> @<span class="built_in">echo</span> <span class="variable">%i%</span>j</div><div class="line"><span class="number">2029</span></div></pre></td></tr></table></figure>
<h1 id="unified-output-format-in-different-operation-settings"><a href="#unified-output-format-in-different-operation-settings" class="headerlink" title="unified output format in different operation settings"></a>unified output format in different operation settings</h1><p>由于Windows语言和日期格式设置不同，可能的输出也不同：<br><figure class="highlight plain"><figcaption><span>date format</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">星期日 2016-12-18</div><div class="line">2016-12-18 星期日</div><div class="line">12/18/2016 Sun</div><div class="line">Sun 12/18/2016</div></pre></td></tr></table></figure></p>
<p>不同的格式用<a href="#format-output">上一节</a>所述方法，在不同设置的操作系统上，会得到不同的结果，有可能是错误的结果；<br>通过修改注册表中的<code>sShortDate</code>键值来保证不同的操作系统设置都能输出正确的格式。</p>
<figure class="highlight bat"><figcaption><span>date.bat</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">@<span class="built_in">echo</span> off</div><div class="line"><span class="keyword">for</span> /f "delims=" <span class="variable">%%a</span> <span class="keyword">in</span> ('reg query "HKEY_CURRENT_USER\Control Panel\International" /v sShortDate') <span class="keyword">do</span> (</div><div class="line">  <span class="built_in">set</span> "RegDateOld=<span class="variable">%%a</span>"</div><div class="line">)</div><div class="line"></div><div class="line"><span class="built_in">set</span> RegDateOld=<span class="variable">%RegDateOld:~-8%</span></div><div class="line"></div><div class="line">reg add "HKEY_CURRENT_USER\Control Panel\International" /v sShortDate /t REG_SZ /d yyyy-M-d /f&gt;<span class="built_in">nul</span></div><div class="line"><span class="built_in">set</span> Today=%<span class="built_in">date</span>: =%</div><div class="line"></div><div class="line">reg add "HKEY_CURRENT_USER\Control Panel\International" /v sShortDate /t REG_SZ /d <span class="variable">%RegDateOld%</span> /f&gt;<span class="built_in">nul</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> "<span class="variable">%Today:~0,1%</span>" <span class="keyword">gtr</span> "<span class="number">9</span>" (</div><div class="line">  <span class="built_in">set</span> Today=<span class="variable">%Today:~-10%</span></div><div class="line">) <span class="keyword">else</span> (</div><div class="line">  <span class="built_in">set</span> Today=<span class="variable">%Today:~0,10%</span></div><div class="line">)</div><div class="line"><span class="built_in">echo</span>,<span class="variable">%Today%</span></div></pre></td></tr></table></figure>
<figure class="highlight bat"><figcaption><span>execute date.bat</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;.\<span class="built_in">date</span>.bat</div><div class="line"><span class="number">2016</span>-<span class="number">12</span>-<span class="number">18</span></div></pre></td></tr></table></figure>
<p>References:</p>
<ol>
<li><a href="http://www.jb51.net/article/44361.htm" target="_blank" rel="external">再谈DOS批处理下格式化日期字符串的三种方法(详解)</a></li>
<li><a href="http://www.jb51.net/article/52749.htm" target="_blank" rel="external">批处理bat标准化获取当前系统日期的几种方法</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;data&lt;/code&gt;命令用来显示日期；&lt;code&gt;time&lt;/code&gt;命令用来显示时间。&lt;/p&gt;
    
    </summary>
    
      <category term="windows cmd" scheme="http://www.wuchenxu.com/categories/windows-cmd/"/>
    
    
      <category term="cmd" scheme="http://www.wuchenxu.com/tags/cmd/"/>
    
      <category term="date" scheme="http://www.wuchenxu.com/tags/date/"/>
    
      <category term="time" scheme="http://www.wuchenxu.com/tags/time/"/>
    
  </entry>
  
  <entry>
    <title>windows command(19):console颜色 color</title>
    <link href="http://www.wuchenxu.com/2016/12/07/windows-cmd-19-color/"/>
    <id>http://www.wuchenxu.com/2016/12/07/windows-cmd-19-color/</id>
    <published>2016-12-07T12:32:28.000Z</published>
    <updated>2016-12-25T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>color命令用来设置console的前景色或者背景色。</p>
<a id="more"></a>
<h1 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h1><p>用法很简单，<code>color [fb]</code>，其中<code>f</code>表示前景色，<code>b</code>表示背景色，取值范围为<code>0</code>-<code>F</code>，也就是十六进制数的一位。<br>color definition:<br><span style="background-color:gray;color:black">0 = Black </span><br><span style="background-color:black;color:blue"> 1 = Blue  </span><br><span style="background-color:black;color:green">2 = Green  </span><br><span style="background-color:black;color:aqua"> 3 = Aqua  </span><br><span style="background-color:black;color:red">  4 = Red  </span><br><span style="background-color:black;color:purple"> 5 = Purple  </span><br><span style="background-color:black;color:yellow"> 6 = Yellow  </span><br><span style="background-color:black;color:white"> 7 = White  </span><br><span style="background-color:black;color:gray"> 8 = Gray  </span><br><span style="background-color:black;color:#ADD8E6"> 9 = Light Blue  </span><br><span style="background-color:black;color:#90ee90"> A = Light Green  </span><br><span style="background-color:black;color:#93FFE8"> B = Light Aqua  </span><br><span style="background-color:black;color:#CD5C5C"> C = Light Red  </span><br><span style="background-color:black;color:#9370D8"> D = Light Purple  </span><br><span style="background-color:black;color:#FFFFE0"> E = Light Yellow  </span><br><span style="background-color:black;color:#FEFCFF"> F = Bright White  </span></p>
<h1 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h1><h2 id="foreground"><a href="#foreground" class="headerlink" title="foreground"></a>foreground</h2>
<h2 id="background"><a href="#background" class="headerlink" title="background"></a>background</h2>
<h2 id="same-color"><a href="#same-color" class="headerlink" title="same color"></a>same color</h2><p>如果前景色与背景色设置为一样，如<code>color 00</code>，设置不会生效，结果是保持当前的前景色和背景色不变。<br><img src="/2016/12/07/windows-cmd-19-color/cmd_color_same_color_error.png" alt="cmd_color_same_color_error.png" title=""></p>
<h2 id="start-new-console"><a href="#start-new-console" class="headerlink" title="start new console"></a>start new console</h2><p>在改变console颜色之后，再通过<code>start</code>来创建一个新的console，新的控制台颜色还是保持<br><img src="/2016/12/07/windows-cmd-19-color/change_color_start_console.png" alt="change_color_start_console.png" title=""></p>
<h1 id="Advanced"><a href="#Advanced" class="headerlink" title="Advanced"></a>Advanced</h1><p>修改注册表<code>HKEY_CURRENT_USER\Software\Microsoft\Command Processor\DefaultColor</code>的键值，可以修改通过<code>cmd.exe</code>或者<code>start</code>启动的窗口的颜色。</p>
<figure class="highlight plain"><figcaption><span>help COLOR</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">Sets the default console foreground and background colors.</div><div class="line"></div><div class="line">COLOR [attr]</div><div class="line"></div><div class="line">  attr        Specifies color attribute of console output</div><div class="line"></div><div class="line">Color attributes are specified by TWO hex digits -- the first</div><div class="line">corresponds to the background; the second the foreground.  Each digit</div><div class="line">can be any of the following values:</div><div class="line"></div><div class="line">    0 = Black       8 = Gray</div><div class="line">    1 = Blue        9 = Light Blue</div><div class="line">    2 = Green       A = Light Green</div><div class="line">    3 = Aqua        B = Light Aqua</div><div class="line">    4 = Red         C = Light Red</div><div class="line">    5 = Purple      D = Light Purple</div><div class="line">    6 = Yellow      E = Light Yellow</div><div class="line">    7 = White       F = Bright White</div><div class="line"></div><div class="line">If no argument is given, this command restores the color to what it was</div><div class="line">when CMD.EXE started.  This value either comes from the current console</div><div class="line">window, the /T command line switch or from the DefaultColor registry</div><div class="line">value.</div><div class="line"></div><div class="line">The COLOR command sets ERRORLEVEL to 1 if an attempt is made to execute</div><div class="line">the COLOR command with a foreground and background color that are the</div><div class="line">same.</div><div class="line"></div><div class="line">Example: &quot;COLOR fc&quot; produces light red on bright white</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;color命令用来设置console的前景色或者背景色。&lt;/p&gt;
    
    </summary>
    
      <category term="windows cmd" scheme="http://www.wuchenxu.com/categories/windows-cmd/"/>
    
    
      <category term="cmd" scheme="http://www.wuchenxu.com/tags/cmd/"/>
    
      <category term="color" scheme="http://www.wuchenxu.com/tags/color/"/>
    
  </entry>
  
  <entry>
    <title>康威定律（Conway&#39;s law）</title>
    <link href="http://www.wuchenxu.com/2016/11/20/Conways-law/"/>
    <id>http://www.wuchenxu.com/2016/11/20/Conways-law/</id>
    <published>2016-11-20T14:37:54.000Z</published>
    <updated>2016-11-20T14:37:54.000Z</updated>
    
    <content type="html"><![CDATA[<img src="/2016/11/20/Conways-law/tech_organization_structure.png" alt="tech_organization_structure.png" title="">
<p>系统是设计该系统的组织结构的映射。<br><a id="more"></a></p>
<h1 id="来源"><a href="#来源" class="headerlink" title="来源"></a>来源</h1><p>Conway’s law 最初是Conway在1967年发表的论文《<a href="http://www.melconway.com/Home/Committees_Paper.html" target="_blank" rel="external">How Do Committees Invent?</a>》，然后 Fred Brooks 在《人月神话》（The Mythical Man-Month）这本书中引用了这篇论文的结论，并命名为康威定律（Conway’s law）。</p>
<h1 id="观点"><a href="#观点" class="headerlink" title="观点"></a>观点</h1><h2 id="康威定律的结论"><a href="#康威定律的结论" class="headerlink" title="康威定律的结论"></a>康威定律的结论</h2><blockquote>
<p><strong>Organizations which design systems (in the broad sense used here) are constrained to produce designs which are copies of the communication structures of these organizations.</strong> We have seen that this fact has important implications for the management of system design. Primarily, we have found a criterion for the structuring of design organizations: a design effort should be organized according to the need for communication.<br>This criterion creates problems because the need to communicate at any time depends on the system concept in effect at that time. Because the design which occurs first is almost never the best possible, the prevailing system concept may need to change. Therefore, flexibility of organization is important to effective design.<br>Ways must be found to reward design managers for keeping their organizations <strong>lean and flexible</strong>. There is need for a philosophy of system design management which is not based on the assumption that adding manpower simply adds to productivity. The development of such a philosophy promises to unearth basic questions about value of resources and techniques of communication which will need to be answered before our system-building technology can proceed with confidence. </p>
</blockquote>
<p>论文主要的观点：系统的结构受限于设计这个系统的组织的沟通结构。由于系统的结构可能会随着设计的深入而变化，所以必须保持设计组织结构的精简与灵活。<br>原论文是基于一种社会学的观察得出来的结论，所以这里的<code>系统</code>可以指代广义的系统，一个政府，一架飞机，一个芯片都可以认为是一个系统。</p>
<h2 id="变体"><a href="#变体" class="headerlink" title="变体"></a>变体</h2><blockquote>
<p>The organization of the software and the organization of the software team will be congruent.</p>
</blockquote>
<p>软件本身的组织结构与软件团队的组织结构式一致的。</p>
<blockquote>
<p>If the parts of an organization (e.g. teams, departments, or subdivisions) do not closely reflect the essential parts of the product, or if the relationship between organizations do not reflect the relationships between product parts, then the project will be in trouble… Therefore: Make sure the organization is compatible with the product architecture”.</p>
</blockquote>
<p>如果组织（团队，部门，或者分支部门）的组成部分不能正确地与产品的必要组成部门相对应，或者组织之间的关系不能反映产品组成部分之间的关系，那么这个项目就会有麻烦。。。所以：必须保证组织与产品架构的相互兼容。</p>
<blockquote>
<p>The structure of a problem reflects the structure of the organization that created it.</p>
</blockquote>
<p>问题的结构反应了产生问题的组织的结构。</p>
<h1 id="论据"><a href="#论据" class="headerlink" title="论据"></a>论据</h1><h2 id="compiler"><a href="#compiler" class="headerlink" title="compiler"></a>compiler</h2><p>Conway博士在一个研究组织中作了如下实验：分别给COBOL编译器开发团队安排5个人，给ALGOL编译器开发团队安排3个人，最后COBOL编译器和ALGOL编译器分别是5个步骤和3个步骤的。</p>
<h2 id="interface"><a href="#interface" class="headerlink" title="interface"></a>interface</h2><p>只有模块A的开发者和模块B的开发者有沟通，模块A和模块B才能有良好的接口（interface）。所以系统的接口结构会反应开发这个系统的组织的结构。</p>
<h1 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h1><p>“康威定律” 没有提供相应的诊断工具，帮助执行团队判断自己的组织框架是否合理，以及公司在什么时候进行重组比较合适。它只引发了一个问题：公司的组织架构能否为用户提供最好的产品？</p>
<p>Reference：</p>
<ol>
<li><a href="http://www.melconway.com/Home/Conways_Law.html" target="_blank" rel="external">CONWAY’S LAW</a></li>
<li><a href="https://en.wikipedia.org/wiki/Conway%27s_law" target="_blank" rel="external">Conway’s law in wiki</a></li>
<li><a href="https://dzone.com/articles/how-to-design-with-conways-law-in-mind" target="_blank" rel="external">How to Design With Conway’s Law in Mind</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;img src=&quot;/2016/11/20/Conways-law/tech_organization_structure.png&quot; alt=&quot;tech_organization_structure.png&quot; title=&quot;&quot;&gt;
&lt;p&gt;系统是设计该系统的组织结构的映射。&lt;br&gt;
    
    </summary>
    
      <category term="software" scheme="http://www.wuchenxu.com/categories/software/"/>
    
    
      <category term="architecture" scheme="http://www.wuchenxu.com/tags/architecture/"/>
    
      <category term="programmer" scheme="http://www.wuchenxu.com/tags/programmer/"/>
    
  </entry>
  
  <entry>
    <title>TeX(1):简介</title>
    <link href="http://www.wuchenxu.com/2016/09/28/TeX-1-introduction/"/>
    <id>http://www.wuchenxu.com/2016/09/28/TeX-1-introduction/</id>
    <published>2016-09-28T12:44:27.000Z</published>
    <updated>2016-09-28T12:44:27.000Z</updated>
    
    <content type="html"><![CDATA[<p>本文介绍了在Windows下TeX的安装及使用。</p>
<a id="more"></a>
<h1 id="What"><a href="#What" class="headerlink" title="What"></a>What</h1><p>TeX是一个排版软件，LaTeX从TeX衍生而来，命令较为简单.</p>
<blockquote>
<p>TeX provides an unusual macro language; The TeX macro language has been successfully used to extend TeX to, for instance, LaTeX and ConTeXt.<br>When TeX “compiles” a document, it follows (from the user’s point of view) the following processing sequence: Macros → TeX → Driver → Output.</p>
</blockquote>
<h1 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h1><p>安装<a href="http://www.ctex.org/" target="_blank" rel="external">CTeX</a>，CTeX打包了MiTeX以及其他一些宏包、字体等。</p>
<p>直接用原生的latex需要加载宏包才能支持汉字，否则编译会报错：<code>Invalid UTF-8 byte or sequence at line 4 replaced by U+FFFD.</code></p>
<p>XeTeX就是为了支持多语言而重新设计的新一代TeX系统，这意味着在XeTeX眼里，中文文档和英文文档再没有任何区别，无需额外的外挂包；而且，XeTeX原生支持系统字体，这意味着我们无需再额外编译字体，系统安装了什么字体，我们就能使用什么字体。</p>
<p>使用xelatex编译，不需要写<code>\begin{CJK*}{UTF8}{song}</code></p>
<figure class="highlight tex"><figcaption><span>example.tex</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">documentclass</span><span class="string">[12pt,a4paper]</span><span class="string">&#123;article&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;fontspec&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">setmainfont</span><span class="string">&#123;Microsoft YaHei&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;document&#125;</span></span></div><div class="line">Hello,World！</div><div class="line">这是一个测试的中文文档！</div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;document&#125;</span></span></div></pre></td></tr></table></figure>
<p>用notepad输入，<code>保存成utf-8格式</code>, 后用xelatex example.tex编译，生成pdf。</p>
<h1 id="Usage-amp-Warning"><a href="#Usage-amp-Warning" class="headerlink" title="Usage &amp; Warning"></a>Usage &amp; Warning</h1><ul>
<li><p><code>\fontsize{字号}{基本行距}</code><br>其中字号和基本行距两个参数是纯数字，单位是 pt。命令也在 \selectfont 后生效。</p>
</li>
<li><p><code>Overfull \hbox (76.35919pt too wide) in paragraph at lines 11--15</code>找到对应的提示行，然后将最后几个单词任意截断，然后另起一行即可。</p>
</li>
<li><p><code>texdoc fontspec</code>可以查看宏包<code>fontspec</code>的帮助文档。</p>
</li>
<li><p><code>fc-list</code>可以查看电脑中安装了哪些字体；<code>fc-list ;lang=zh-cn</code>可以查看安装了哪些中文字体。</p>
</li>
</ul>
<p>附上一个台湾版cwTeX中的示例(台湾的明体应该对应大陆的宋体)<br><figure class="highlight tex"><figcaption><span>TeX</span><a href="/downloads/code/TeX/排版的原则.tex">view raw</a></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div></pre></td><td class="code"><pre><div class="line"><span class="comment">%!TEX TS-program = xelatex</span></div><div class="line"><span class="comment">%!TEX encoding = UTF-8 Unicode</span></div><div class="line"><span class="tag">\<span class="name">documentclass</span><span class="string">[12pt,a4paper]</span><span class="string">{article}</span></span></div><div class="line"><span class="tag">\<span class="name">XeTeXlinebreaklocale</span></span> "zh"     					<span class="comment">% 针对中文进行断行</span></div><div class="line"><span class="tag">\<span class="name">XeTeXlinebreakskip</span> = <span class="number">0pt</span></span> plus 1pt minus 0.1pt  <span class="comment">% 给予TeX断行一定自由度</span></div><div class="line"><span class="tag">\<span class="name">linespread</span><span class="string">{1.5}</span></span>                                <span class="comment">% 1.5倍行距</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">{fontspec,xunicode,}</span></span></div><div class="line"><span class="comment">%\usepackage{xltxtra}</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">[small, sf]</span><span class="string">{titlesec}</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">youyuan</span><span class="string">{YouYuan}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">hwcaiyun</span><span class="string">{STCaiyun}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">hwhupo</span><span class="string">{STHupo}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">yaoti</span><span class="string">{FZYaoTi}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">kaiti</span><span class="string">{KaiTi}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">xsong</span><span class="string">{NSimSun}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">hwsong</span><span class="string">{STSong}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">yahei</span><span class="string">{Microsoft YaHei}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">fangsong</span><span class="string">{FangSong}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">song</span><span class="string">{SimSun}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">hwfangsong</span><span class="string">{STFangsong}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">weiti</span><span class="string">{STXinwei}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">heiti</span><span class="string">{SimHei}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">hwxingkai</span><span class="string">{STXingkai}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">hwlishu</span><span class="string">{STLiti}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">zhongsong</span><span class="string">{STZhongsong}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">shuti</span><span class="string">{FZShuTi}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">hwhei</span><span class="string">{STXihei}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">lishu</span><span class="string">{LiSu}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">hwkai</span><span class="string">{STKaiti}</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">setmainfont</span><span class="string">[BoldFont={SimHei}]</span><span class="string">{SimSun}</span></span></div><div class="line"><span class="tag">\<span class="name">setsansfont</span><span class="string">[Mapping=tex-text]</span><span class="string">{Microsoft Sans Serif}</span></span> </div><div class="line"><span class="tag">\<span class="name">setmonofont</span><span class="string">{Courier New}</span></span></div><div class="line"></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">titleformat*</span><span class="string">{\section}</span><span class="string">{\youyuan}</span></span></div><div class="line"><span class="tag">\<span class="name">titleformat*</span><span class="string">{\subsection}</span><span class="string">{\youyuan}</span></span></div><div class="line"></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">{document}</span></span></div><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">{center}</span></span></div><div class="line">{<span class="tag">\<span class="name">Large</span></span> <span class="tag">\<span class="name">textbf</span></span> {排版的原则}}<span class="tag">\<span class="name">\</span><span class="string">[5mm]</span></span> <span class="comment">%指令末端之 \\ 為換行指令 , 指示本行結束 ; 緊接著的 [5mm] 則設定行距加大 0.5 公分。 </span></div><div class="line">吴聪敏<span class="tag">\<span class="name">\</span><span class="string">[2mm]</span></span></div><div class="line">2005.03</div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">{center}</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">bigskip</span></span> <span class="comment">%定行内距,medskip-half,small-qua</span></div><div class="line"><span class="tag">\<span class="name">fontsize</span><span class="string">{12}</span><span class="string">{20pt}</span></span><span class="tag">\<span class="name">selectfont</span></span> <span class="comment">%字体 12pt,行距20pt</span></div><div class="line">排版的目的是为了有效率地表达你的意见，</div><div class="line">让读者容易阅读或吸收。</div><div class="line"></div><div class="line"><span class="tag">\<span class="name">section</span><span class="string">{常见的排版错误}</span></span></div><div class="line">桌上排版系统普及之后，每个人都能排版，</div><div class="line">但这不表示每个人都能做出好的排版。</div><div class="line">关于字体之使用，常见的错误如下：</div><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">{itemize}</span></span> <span class="comment">%无序，不带标号</span></div><div class="line"><span class="tag">\<span class="name">item</span></span> 楷体与仿宋体等可用于标题,</div><div class="line">  但不宜用于正文；正文请使用明体。</div><div class="line"><span class="tag">\<span class="name">item</span></span> 较长之英文段落应使用纯英文字体编排，</div><div class="line">  如 Times New Roman，Book Antiquarian 等。</div><div class="line">  使用中文之细明体或楷体之英文字体，</div><div class="line">  结果保证惨不忍睹。</div><div class="line"><span class="tag">\<span class="name">item</span></span> 欲强调之字词，请使用粗黑体或圆体，勿加底线。</div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">{itemize}</span></span></div><div class="line">Windows 系统提供明体与楷体两种字体，</div><div class="line">许多人只能使用楷体排版正文或投影片，</div><div class="line">但排版效果奇差无比。</div><div class="line"></div><div class="line">除了字体之外，版面应注意之细节如下：</div><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">{enumerate}</span></span><span class="tag">\<span class="name">itemsep</span>=<span class="number">-2pt</span></span> <span class="comment">%带编号，設定使項目之間距比內定值小 2pt</span></div><div class="line"><span class="tag">\<span class="name">item</span></span> 文章前端请写下题目，作者名字，日期。</div><div class="line"><span class="tag">\<span class="name">item</span></span> 版面之一行勿拉太长，行距不应过小。</div><div class="line"><span class="tag">\<span class="name">item</span></span> 标点符号不应出现在一行前端（避头点）。</div><div class="line"><span class="tag">\<span class="name">item</span></span> 标示注解之号码在句子标点符号之后。</div><div class="line"><span class="tag">\<span class="name">item</span></span> 章节编号使用阿拉伯数字，如1.1节，2.3节；</div><div class="line">避免使用“一、二节”，或“二、三节”。</div><div class="line"><span class="tag">\<span class="name">item</span></span> 阿拉伯数字“1,534”比“一千五百三十四”清楚。</div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">{enumerate}</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">section</span><span class="string">{图形与表格}</span></span></div><div class="line">图形与表格是表现咨询的有效方法，</div><div class="line">但是图表作的不好，无法达到目标。</div><div class="line">常见的表格排版错误是格线太多，</div><div class="line">但另一个问题是单位不清楚。</div><div class="line">大型图表应移于版面的上方或下方，而非排版于段落中间。</div><div class="line">非万不得已，表格勿拆为两页。</div><div class="line"></div><div class="line"><span class="tag">\<span class="name">par</span></span><span class="tag">\<span class="name">vfill</span></span><span class="tag">\<span class="name">jobname</span></span>.tex <span class="comment">%par新起段落 vfill將段落之間距儘可能拉大</span></div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">{document}</span></span></div></pre></td></tr></table></figure></p>
<p>效果<br><a href="/2016/09/28/TeX-1-introduction/排版的原则.pdf" title="排版的原则.pdf">排版的原则.pdf</a></p>
<p>References:</p>
<ol>
<li><a href="https://en.wikipedia.org/wiki/TeX" target="_blank" rel="external">TeX</a></li>
<li><a href="https://en.wikipedia.org/wiki/LaTeX" target="_blank" rel="external">LaTex</a></li>
<li><a href="http://blog.jqian.net/post/xelatex.html" target="_blank" rel="external">使用xelatex生成中文pdf</a></li>
<li><a href="https://en.wikibooks.org/wiki/LaTeX/Errors_and_Warnings" target="_blank" rel="external">LaTeX/Errors and Warnings</a></li>
<li><a href="http://homepage.ntu.edu.tw/~ntut019/cwtex/cxbook3.pdf" target="_blank" rel="external">cwTeX排版系統</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文介绍了在Windows下TeX的安装及使用。&lt;/p&gt;
    
    </summary>
    
      <category term="TeX" scheme="http://www.wuchenxu.com/categories/TeX/"/>
    
    
      <category term="TeX" scheme="http://www.wuchenxu.com/tags/TeX/"/>
    
  </entry>
  
  <entry>
    <title>windows command(18):打印目录结构tree</title>
    <link href="http://www.wuchenxu.com/2016/09/17/windows-cmd-18-tree/"/>
    <id>http://www.wuchenxu.com/2016/09/17/windows-cmd-18-tree/</id>
    <published>2016-09-17T06:30:33.000Z</published>
    <updated>2016-09-17T06:30:33.000Z</updated>
    
    <content type="html"><![CDATA[<p>tree命令用来打印文件夹目录结构。</p>
<a id="more"></a>
<h1 id="tree打印目录结构"><a href="#tree打印目录结构" class="headerlink" title="tree打印目录结构"></a>tree打印目录结构</h1><figure class="highlight bat"><figcaption><span>tree打印目录结构</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">tree</span>&gt;<span class="title">tree</span></span></div><div class="line">卷 <span class="title">LENOVO</span> 的文件夹 <span class="title">PATH</span> 列表</div><div class="line">卷序列号为 0005-42<span class="title">D7</span></div><div class="line"><span class="title">D</span>:.</div><div class="line">├─<span class="title">node1</span></div><div class="line">└─<span class="title">node2</span></div></pre></td></tr></table></figure>
<h1 id="tree-F打印目录结构及每个目录下的文件"><a href="#tree-F打印目录结构及每个目录下的文件" class="headerlink" title="tree /F打印目录结构及每个目录下的文件"></a>tree /F打印目录结构及每个目录下的文件</h1><p>显示每个目录的文件名<br><figure class="highlight bat"><figcaption><span>tree</span><a href="/F">link</a></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">tree</span>&gt;<span class="title">tree</span> /<span class="title">F</span></span></div><div class="line">卷 <span class="title">LENOVO</span> 的文件夹 <span class="title">PATH</span> 列表</div><div class="line">卷序列号为 0005-42<span class="title">D7</span></div><div class="line"><span class="title">D</span>:.</div><div class="line">│  <span class="title">tree.txt</span></div><div class="line">│</div><div class="line">├─<span class="title">node1</span></div><div class="line">│      <span class="title">node1.txt</span></div><div class="line">│</div><div class="line">└─<span class="title">node2</span></div><div class="line">        <span class="title">node2.txt</span></div></pre></td></tr></table></figure></p>
<h1 id="打印结果输出到到文件"><a href="#打印结果输出到到文件" class="headerlink" title="打印结果输出到到文件"></a>打印结果输出到到文件</h1><p><code>tree /f &gt; file.txt</code></p>
<p>References:<br><figure class="highlight plain"><figcaption><span>help tree</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">以图形显示驱动器或路径的文件夹结构。</div><div class="line"></div><div class="line">TREE [drive:][path] [/F] [/A]</div><div class="line"></div><div class="line">   /F   显示每个文件夹中文件的名称。</div><div class="line">   /A   使用 ASCII 字符，而不使用扩展字符。</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;tree命令用来打印文件夹目录结构。&lt;/p&gt;
    
    </summary>
    
      <category term="windows cmd" scheme="http://www.wuchenxu.com/categories/windows-cmd/"/>
    
    
      <category term="cmd" scheme="http://www.wuchenxu.com/tags/cmd/"/>
    
      <category term="tree" scheme="http://www.wuchenxu.com/tags/tree/"/>
    
  </entry>
  
  <entry>
    <title>Rust语言(2):Cargo</title>
    <link href="http://www.wuchenxu.com/2016/09/13/Rust-lang-2-Cargo/"/>
    <id>http://www.wuchenxu.com/2016/09/13/Rust-lang-2-Cargo/</id>
    <published>2016-09-13T13:59:05.000Z</published>
    <updated>2016-09-13T13:59:05.000Z</updated>
    
    <content type="html"><![CDATA[<p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=2&id=29431066&auto=0&height=66"></iframe><br>陈粒-奇妙能力歌</p>
<p>本文介绍了Rust自带的编译和包管理工具Cargo.</p>
<a id="more"></a>
<h1 id="Carog的存在意义"><a href="#Carog的存在意义" class="headerlink" title="Carog的存在意义"></a>Carog的存在意义</h1><blockquote>
<p>Cargo is a tool that allows Rust projects to declare their various dependencies and ensure that you’ll always get a repeatable build.</p>
<p>To accomplish this goal, Cargo does four things:</p>
<ul>
<li>Introduces two metadata files with various bits of project information.</li>
<li>Fetches and builds your project’s dependencies.</li>
<li>Invokes rustc or another build tool with the correct parameters to build your project.</li>
<li>Introduces conventions to make working with Rust projects easier.</li>
</ul>
</blockquote>
<h1 id="新建项目"><a href="#新建项目" class="headerlink" title="新建项目"></a>新建项目</h1><p>执行命令<code>cargo new hello_world --bin</code>可以生成一个可用cargo来编译运行的目录结构。<br><code>--bin</code>表示生成可执行文件。<br><figure class="highlight plain"><figcaption><span>Cargo目录结构</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">│  Cargo.toml</div><div class="line">│</div><div class="line">├─src</div><div class="line">│      main.rs</div></pre></td></tr></table></figure></p>
<p>Cargo.toml是TOML(Tom’s Obvious, Minimal Language)格式的配置文件：<br><figure class="highlight toml"><figcaption><span>Cargo.toml</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="section">[package]</span></div><div class="line"></div><div class="line"><span class="attr">name</span> = <span class="string">"hello_world"</span></div><div class="line"><span class="attr">version</span> = <span class="string">"0.0.1"</span></div><div class="line"><span class="attr">authors</span> = [ <span class="string">"Your name &lt;you@example.com&gt;"</span> ]</div></pre></td></tr></table></figure></p>
<p>main.rs存放Rust文件:<br><figure class="highlight rust"><figcaption><span>hello_world.rs</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</div><div class="line">    <span class="built_in">println!</span>(<span class="string">"Hello, world!"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="编译运行"><a href="#编译运行" class="headerlink" title="编译运行"></a>编译运行</h1><p><code>cargo build</code>编译。<br><code>cargo run</code>文件未改动则直接运行，文件改动则重新编译并运行。<br><code>cargo build --release</code>编译release版本，带优化功能。</p>
<h1 id="包管理"><a href="#包管理" class="headerlink" title="包管理"></a>包管理</h1><h2 id="从crates-io增加依赖库"><a href="#从crates-io增加依赖库" class="headerlink" title="从crates.io增加依赖库"></a>从crates.io增加依赖库</h2><p>在Cargo.toml增加<br><figure class="highlight toml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="section">[dependencies]</span></div><div class="line"><span class="attr">time</span> = <span class="string">"0.1.12"</span></div></pre></td></tr></table></figure></p>
<h2 id="从github增加依赖库"><a href="#从github增加依赖库" class="headerlink" title="从github增加依赖库"></a>从github增加依赖库</h2><figure class="highlight toml"><figcaption><span>Cargo.toml</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="section">[dependencies]</span></div><div class="line"><span class="attr">rand</span> = &#123; git = <span class="string">"https://github.com/rust-lang-nursery/rand.git"</span> &#125;</div></pre></td></tr></table></figure>
<p>References:</p>
<ol>
<li><a href="http://doc.crates.io/guide.html" target="_blank" rel="external">Cargo official website</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=330 height=86 src=&quot;http://music.163.com/outchain/player?type=2&amp;id=29431066&amp;auto=0&amp;height=66&quot;&gt;&lt;/iframe&gt;&lt;br&gt;陈粒-奇妙能力歌&lt;/p&gt;
&lt;p&gt;本文介绍了Rust自带的编译和包管理工具Cargo.&lt;/p&gt;
    
    </summary>
    
      <category term="Rust" scheme="http://www.wuchenxu.com/categories/Rust/"/>
    
    
      <category term="Rust" scheme="http://www.wuchenxu.com/tags/Rust/"/>
    
      <category term="Cargo" scheme="http://www.wuchenxu.com/tags/Cargo/"/>
    
  </entry>
  
  <entry>
    <title>Rust语言(1):hello world</title>
    <link href="http://www.wuchenxu.com/2016/09/12/Rust-lang-1-hello-world/"/>
    <id>http://www.wuchenxu.com/2016/09/12/Rust-lang-1-hello-world/</id>
    <published>2016-09-12T13:56:20.000Z</published>
    <updated>2016-09-12T13:56:20.000Z</updated>
    
    <content type="html"><![CDATA[<img src="/2016/09/12/Rust-lang-1-hello-world/rust-logo-blk.svg" alt="rust-logo-blk.svg" title="">
<p>本文介绍了Rust语言在Windows下的环境安装，编译，执行。</p>
<a id="more"></a>
<h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>Rust是静态强类型的编译型语言，非动态解释型语言，无垃圾回收。</p>
<blockquote>
<p>Rust is a systems programming language that runs blazingly fast, prevents segfaults, and guarantees thread safety. </p>
<ul>
<li>zero-cost abstractions</li>
<li>move semantics</li>
<li>guaranteed memory safety</li>
<li>threads without data races</li>
<li>trait-based generics</li>
<li>pattern matching</li>
<li>type inference</li>
<li>minimal runtime</li>
<li>efficient C bindings</li>
</ul>
</blockquote>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>进入<a href="www.rust-lang.org">Rust官网</a>,首页会根据当前操作系统推荐下载安装包。<br>支持Windows(GUN ABI 与 MSVC ABI)、Linux以及Mac。<br>安装完成后，在命令行输入<code>rustc</code>，如果有输出说明安装成功。</p>
<h1 id="编写代码"><a href="#编写代码" class="headerlink" title="编写代码"></a>编写代码</h1><figure class="highlight rust"><figcaption><span>hello.rs</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</div><div class="line">    <span class="built_in">println!</span>(<span class="string">"Hello, world!"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">rustc</span> <span class="selector-tag">hello</span><span class="selector-class">.rs</span></div></pre></td></tr></table></figure>
<h1 id="执行"><a href="#执行" class="headerlink" title="执行"></a>执行</h1><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;hello<span class="selector-class">.exe</span></div><div class="line">Hello, world!</div></pre></td></tr></table></figure>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><p><a href="https://github.com/WuChenxu/Rust/tree/master/01_HelloWorld" target="_blank" rel="external">Code</a></p>
<p>References:</p>
<ol>
<li><a href="https://doc.rust-lang.org/book/getting-started.html" target="_blank" rel="external">Rust official manual</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;img src=&quot;/2016/09/12/Rust-lang-1-hello-world/rust-logo-blk.svg&quot; alt=&quot;rust-logo-blk.svg&quot; title=&quot;&quot;&gt;
&lt;p&gt;本文介绍了Rust语言在Windows下的环境安装，编译，执行。&lt;/p&gt;
    
    </summary>
    
      <category term="Rust" scheme="http://www.wuchenxu.com/categories/Rust/"/>
    
    
      <category term="Rust" scheme="http://www.wuchenxu.com/tags/Rust/"/>
    
  </entry>
  
  <entry>
    <title>MathJax(2):Markdown中使用MathJax</title>
    <link href="http://www.wuchenxu.com/2016/09/08/MathJax-2-using-in-hexo-markdown/"/>
    <id>http://www.wuchenxu.com/2016/09/08/MathJax-2-using-in-hexo-markdown/</id>
    <published>2016-09-08T12:44:27.000Z</published>
    <updated>2016-08-08T12:44:27.000Z</updated>
    
    <content type="html"><![CDATA[<p>本文介绍了在Markdown文件中插入MathJax的方法。</p>
<a id="more"></a>
<h1 id="直接插入"><a href="#直接插入" class="headerlink" title="直接插入"></a>直接插入</h1><p>在html中插入以下代码，则可以用<code>$ $</code>来插入行内公式，<code>$$ $$</code>来插入单独成行的公式。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/x-mathjax-config"</span>&gt;</span><span class="actionscript"></span></div><div class="line">MathJax.Hub.Config(&#123;</div><div class="line">  tex2jax: &#123;inlineMath: [[<span class="string">'$'</span>,<span class="string">'$'</span>], [<span class="string">'\\('</span>,<span class="string">'\\)'</span>]]&#125;</div><div class="line">&#125;);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">"path-to-mathjax/MathJax.js?config=TeX-AMS_CHTML"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>这是一个完整的可以工作的<a href="https://cdn.mathjax.org/mathjax/latest/test/sample-tex.html" target="_blank" rel="external">例子</a><br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>MathJax TeX Test Page<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/x-mathjax-config"</span>&gt;</span><span class="actionscript"></span></div><div class="line">  MathJax.Hub.Config(&#123;tex2jax: &#123;inlineMath: [[<span class="string">'$'</span>,<span class="string">'$'</span>], [<span class="string">'\\('</span>,<span class="string">'\\)'</span>]]&#125;&#125;);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">async</span></span></div><div class="line">  <span class="attr">src</span>=<span class="string">"https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML"</span>&gt;<span class="undefined"></span></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">When $a \ne 0$, there are two solutions to \(ax^2 + bx + c = 0\) and they are</div><div class="line">$$x = &#123;-b \pm \sqrt&#123;b^2-4ac&#125; \over 2a&#125;.$$</div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>在使用Markdown然后生成html的时候，Markdown有一些符号有特殊含义会被解析器转换成html的tag，如: 斜体<code>*被斜体的文字*</code>,斜体<code>_被斜体的文字_</code>等。<br>这样<code>$x _ i = y _ i$</code> 或者 <code>$x * y = y * x$</code><br>会被解析成 $x <em> i=y </em> i$ 或者 $x <em> y = y </em> x$.<br>我们可以使用转义符号<code>\</code>来避免Markdown解析器对<code>* *</code>或<code>_ _</code>的转换。<br>写成<code>$x \_ i = y \_ i$ $x * y = y * x$</code>,就可以正确解析为$x_i = y_i$ $x * y = y * x$.</p>
<p>此方法优点: 简单，不需要插件辅助; 缺点: 不是原生的Tex语法。</p>
<h1 id="使用插件"><a href="#使用插件" class="headerlink" title="使用插件"></a>使用插件</h1><p>对于不同的markdown解析器应该会有不同的解决方案，如Hexo可以使用<a href="https://github.com/akfish/hexo-math" target="_blank" rel="external">hexo-math插件</a><br>hexo-math支持MathJax和KaTex.<br>使用标签则可以不需要对特殊符号进行转义。<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&#123;% math %&#125;</div><div class="line">\begin&#123;aligned&#125;</div><div class="line">\dot&#123;x&#125; &amp; = \sigma(y-x) \\</div><div class="line">\dot&#123;y&#125; &amp; = \rho x - y - xz \\</div><div class="line">\dot&#123;z&#125; &amp; = -\beta z + xy</div><div class="line">\end&#123;aligned&#125;</div><div class="line">&#123;% endmath %&#125;</div></pre></td></tr></table></figure></p>
<p>此方法优点: 原生Tex语法; 缺点: 复杂，需要插件支持.</p>
<p>Reference:</p>
<ol>
<li><a href="http://docs.mathjax.org/en/latest/start.html" target="_blank" rel="external">TeX and LaTeX input</a></li>
<li><a href="https://github.com/akfish/hexo-math" target="_blank" rel="external">hexo-math插件</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文介绍了在Markdown文件中插入MathJax的方法。&lt;/p&gt;
    
    </summary>
    
      <category term="MathJax" scheme="http://www.wuchenxu.com/categories/MathJax/"/>
    
      <category term="tool" scheme="http://www.wuchenxu.com/categories/MathJax/tool/"/>
    
    
      <category term="Markdown" scheme="http://www.wuchenxu.com/tags/Markdown/"/>
    
      <category term="MathJax" scheme="http://www.wuchenxu.com/tags/MathJax/"/>
    
  </entry>
  
  <entry>
    <title>软件滤波算法的频率响应</title>
    <link href="http://www.wuchenxu.com/2016/07/12/software-filtering-algorithm-and-frequency-response/"/>
    <id>http://www.wuchenxu.com/2016/07/12/software-filtering-algorithm-and-frequency-response/</id>
    <published>2016-07-11T17:03:42.000Z</published>
    <updated>2016-07-11T17:03:42.000Z</updated>
    
    <content type="html"><![CDATA[<p>本文从一种软件滤波算法切入，深入理解了滤波算法的频率响应。</p>
<a id="more"></a>
<h1 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h1><p>单片机大多资源小，算法占用的资源越小越好，有一种占用很小资源的算法，具体公式如下：<br>$$  y[n] =y[n-1]- {y[n-1] \over m}+x[n]$$<br>其中：x[n]为采样值，y[n]为滤波后的值，y[n-1]为上一次滤波值，m是放电比例(最好选2的幂次数，可用单片机移位)初始化时如果是跟踪一段时间后使用，可以是任何值，否则可以用采样值乘m初始化。</p>
<h1 id="推导"><a href="#推导" class="headerlink" title="推导"></a>推导</h1><p>如果写成这样<br>$$  y[n] = x[n] + (1- {1 \over m}) * y[n-1]$$  (1)<br>然后令 $y[n]=m * u[n]$,得<br>$$  n * u[n] = x[n] + (1- {1 \over m}) * m * u[n-1]$$<br>两边同时除m，得<br>$$  u[n] = {1 \over m} * x[n] + (1- {1 \over m})  * u[n-1]$$<br>令 $ \alpha = {1 \over m}$，得<br>$$ u[n] = \alpha * x[n] + (1-\alpha) * u[n-1]$$<br>这是典型的无限脉冲滤波器(IIR),也是最简单的低通滤波器。</p>
<p>如果直接由式(1)推导z变换<br>$$ Y(z) = X(z) + (1 - {1 \over m}) * z^{-1}Y(z)$$<br>$$ H(z) = {Y(z) \over {X(z)}} = {1 \over {1-(1-{1 \over m}})z^{-1}}$$<br>令$a={1-{1\over m}}$,<br>$$ H(z)={1\over{1-az^{-1}} }$$</p>
<h1 id="IIR-vs-FIR"><a href="#IIR-vs-FIR" class="headerlink" title="IIR vs FIR"></a>IIR vs FIR</h1><p>IIR(Infinit Impulse Response)滤波器的<a href="https://en.wikipedia.org/wiki/Impulse_response" target="_blank" rel="external">单位脉冲响应</a>是无限长的，如例子中$H(z)={1\over{1-az^{-1}} }$时间域的序列是<br>$$ y[n] = x[n] + ay[n-1]$$<br>根据单位脉冲响应的定义，即$x[n]= \delta[n]=\begin{cases} {1, n=0}\\{0, n \ne 0}\end{cases}$时的y[n]:<br>$$ y[0] = x[0] + ay[-1] = 1, if n&lt;0 let y[0] = 0$$<br>$$ y[1] = x[1] + ay[0] = 0 + a = a $$<br>$$ y[2] = x[2] + ay[1] = 0 + a * a = a^2 $$<br>…<br>$$ y[n] = x[n] + ay[n-1] = a^n $$<br>所以其单位脉冲响应为$h[n]=a^n u[n]$,其中$u[n]=\begin{cases} {1, n \ge 0 }\\{0, n&lt;0}\end{cases}$,可以看到$n\ge 0$时，h[n]每一项都不为0,也就是无限脉冲响应的含义.IIR滤波器时间域的输出，由输入和之前的输出共同决定，是有反馈的。</p>
<p>FIR(Finit Impulse Response)滤波器的单位脉冲响应是有限长的，其时间域的输出只有输入决定，是无反馈的。如，<a href="https://en.wikipedia.org/wiki/Moving_average" target="_blank" rel="external">滑动平均滤波器</a>,时间域$y[n]={1 \over  3}x[n]+{1 \over  3}x[n-1]+{1 \over  3}x[n-2]$，z变换为$H(z)={1\over3}+{1\over3}z^{-1}+{1\over3}z^{-2}$,单位脉冲响应为$h[n]={1\over3}\delta[n]+{1\over3}\delta[n-1]+{1\over3}\delta[n-2]$,其中$\delta[n]=\begin{cases} {1, n=0}\\{0, n \ne 0}\end{cases}$。</p>
<h1 id="频率响应"><a href="#频率响应" class="headerlink" title="频率响应"></a>频率响应</h1><h1 id="时间常数"><a href="#时间常数" class="headerlink" title="时间常数"></a>时间常数</h1><p>如果将$y[n]=\alpha x[n]+(1-\alpha)y[n-1]$视作<a href="https://en.wikipedia.org/wiki/Low-pass_filter" target="_blank" rel="external">RC低通滤波器</a><br><img src="/2016/07/12/software-filtering-algorithm-and-frequency-response/250px-1st_Order_Lowpass_Filter_RC.svg.png" alt="250px-1st_Order_Lowpass_Filter_RC.svg.png" title=""><br>$$v_{in}(t)-v_{out}(t)=RC{dv_{out} \over dt}$$</p>
<p>设$v_{in}$序列为($x_{1}, x_{2}, …, x_{n}$), $v_{out}$序列为($y_{1}, y_{2}, …, y_{n}$).上面的公式近似于<br>$$x_{i} - y_{i} = RC {y_{i}-y_{i-1}}\over{\Delta T}$$</p>
<p>$$ y_{i} = x_{i}({\Delta T}\over {RC+\Delta T}) + y_{i-1}({RC}\over{RC+\Delta T})$$</p>
<p>令 $\alpha = \frac{\Delta T}{RC+\Delta T}$,<br>$$ y_{i} = {\alpha x_{i} + (1-\alpha) y_{i-1}}$$<br>其中, $\alpha = \frac{\Delta T}{RC+\Delta T}$<br>可以得出时间常数$RC={\Delta T}\frac{1-\alpha} {\alpha}$.<br>考虑到$f_c= {1 \over{2\pi RC}}$，<br>$$\alpha = \frac{2 \pi \Delta T f_c}{2\pi \Delta T f_c+1}$$<br>$$f_c=\frac{\alpha} {(1-\alpha)2\pi\Delta T}$$</p>
<p>Reference:</p>
<ol>
<li><a href="http://bbs.21ic.com/icview-170880-1-1.html" target="_blank" rel="external">一个非常适合单片机的滤波算法</a></li>
<li><a href="https://en.wikipedia.org/wiki/Low-pass_filter" target="_blank" rel="external">Low pass filter in wiki</a></li>
<li><a href="https://en.wikipedia.org/wiki/Exponential_smoothing" target="_blank" rel="external">指数平滑</a></li>
<li><a href="https://en.wikipedia.org/wiki/Infinite_impulse_response" target="_blank" rel="external">IIR</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文从一种软件滤波算法切入，深入理解了滤波算法的频率响应。&lt;/p&gt;
    
    </summary>
    
      <category term="filter" scheme="http://www.wuchenxu.com/categories/filter/"/>
    
    
      <category term="software" scheme="http://www.wuchenxu.com/tags/software/"/>
    
      <category term="filter" scheme="http://www.wuchenxu.com/tags/filter/"/>
    
  </entry>
  
  <entry>
    <title>matplotlib(1):简介</title>
    <link href="http://www.wuchenxu.com/2016/07/01/matplotlib-1-introduction/"/>
    <id>http://www.wuchenxu.com/2016/07/01/matplotlib-1-introduction/</id>
    <published>2016-07-01T13:11:08.000Z</published>
    <updated>2016-07-01T13:11:08.000Z</updated>
    
    <content type="html"><![CDATA[<p><a href="http://matplotlib.org/" target="_blank" rel="external">matplotlib</a>是一个python语言绘图库，本文介绍了matplotlib的安装和基本使用方法。</p>
<a id="more"></a>
<h1 id="what-is-matplotlib"><a href="#what-is-matplotlib" class="headerlink" title="what is matplotlib"></a>what is matplotlib</h1><blockquote>
<p>matplotlib is a python 2D plotting library which produces publication quality figures in a variety of hardcopy formats and interactive environments across platforms. matplotlib can be used in python scripts, the python and ipython shell (ala MATLAB®* or Mathematica®†), web application servers, and six graphical user interface toolkits.</p>
</blockquote>
<ul>
<li>ala-法语，in the style/manner of</li>
<li>aka-also known as</li>
</ul>
<h1 id="install"><a href="#install" class="headerlink" title="install"></a>install</h1><ol>
<li>python<br>参考<a href="http://www.python.org/download/" target="_blank" rel="external">python download</a><br>本文安装的版本是2.7.8.</li>
<li>matplotlib<br>参考<a href="http://matplotlib.org/users/installing.html" target="_blank" rel="external">matplotlib install</a><br>这里介绍windows的安装过程：<br>通过python的包管理工具<a href="https://pypi.python.org/pypi/pip" target="_blank" rel="external">pip</a>安装.<br>如果网络稳定，cmd下执行<code>pip install matplotlib</code>即可，pip会自动安装依赖包；<br>如果网络不稳定，需要下载<a href="http://pypi.python.org/pypi/matplotlib/" target="_blank" rel="external">matplotlib的pip安装包</a>，以及下列matplotlib依赖的安装包(注意版本兼容):<br><a href="https://pypi.python.org/pypi/setuptools/" target="_blank" rel="external">setuptools</a><br><a href="https://pypi.python.org/pypi/numpy/" target="_blank" rel="external">numpy</a><br><a href="https://pypi.python.org/pypi/python-dateutil/" target="_blank" rel="external">python-dateutil</a><br><a href="https://pypi.python.org/pypi/pytz" target="_blank" rel="external">pytz</a><br><a href="https://pypi.python.org/pypi/pyparsing/" target="_blank" rel="external">pyparsing</a><br><a href="https://pypi.python.org/pypi/Cycler" target="_blank" rel="external">cycler</a><br>然后<code>pip install /path/to/package/package-name.whl</code>来逐个安装。<br>安装完成后，在python命令行下执行<code>import matplotlib</code>，如果没有出错说明安装成功。<br>我的安装版本：<img src="/2016/07/01/matplotlib-1-introduction/matplotlib_version.png" alt="matplotlib_version.png" title="">
</li>
</ol>
<h1 id="play"><a href="#play" class="headerlink" title="play"></a>play</h1><p>通过numpy生成数据，pyplot来绘图。</p>
<h2 id="simple-plot"><a href="#simple-plot" class="headerlink" title="simple plot"></a>simple plot</h2><figure class="highlight python"><figcaption><span> simple_plot</span><a href="/downloads/code/python_matplot_simple_plot/simple_plot.py">view raw</a></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"><span class="keyword">import</span> scipy.signal <span class="keyword">as</span> signal</div><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line"><span class="keyword">import</span> pylab <span class="keyword">as</span> pl</div><div class="line"></div><div class="line"><span class="comment"># 某个均衡滤波器的参数</span></div><div class="line">a = np.array([<span class="number">1.0</span>, <span class="number">-1.947463016918843</span>, <span class="number">0.9555873701383931</span>])</div><div class="line">b = np.array([<span class="number">0.9833716591860479</span>, <span class="number">-1.947463016918843</span>, <span class="number">0.9722157109523452</span>])</div><div class="line"></div><div class="line"><span class="comment"># 44.1kHz， 1秒的频率扫描波</span></div><div class="line">t = np.arange(<span class="number">0</span>, <span class="number">0.5</span>, <span class="number">1</span>/<span class="number">44100.0</span>)</div><div class="line">x= signal.chirp(t, f0=<span class="number">10</span>, t1 = <span class="number">0.5</span>, f1=<span class="number">1000.0</span>)</div><div class="line">y = signal.lfilter(b, a, x)</div><div class="line">ns = range(<span class="number">10</span>, <span class="number">1100</span>, <span class="number">100</span>)</div><div class="line">err = []</div><div class="line"></div><div class="line"><span class="keyword">for</span> n <span class="keyword">in</span> ns:</div><div class="line">    <span class="comment"># 计算脉冲响应</span></div><div class="line">    impulse = np.zeros(n, dtype=np.float)</div><div class="line">    impulse[<span class="number">0</span>] = <span class="number">1</span></div><div class="line">    h = signal.lfilter(b, a, impulse)</div><div class="line">    </div><div class="line">    <span class="comment"># 直接FIR滤波器的输出</span></div><div class="line">    y2 = signal.lfilter(h, <span class="number">1</span>, x)</div><div class="line">   </div><div class="line">    <span class="comment"># 输出y和y2之间的误差</span></div><div class="line">    err.append(np.sum((y-y2)**<span class="number">2</span>))</div><div class="line"></div><div class="line"><span class="comment"># 绘图</span></div><div class="line">pl.figure(figsize=(<span class="number">8</span>,<span class="number">4</span>))</div><div class="line">pl.semilogy(ns , err, <span class="string">"-o"</span>)</div><div class="line">pl.xlabel(<span class="string">u"脉冲响应长度"</span>)</div><div class="line">pl.ylabel(<span class="string">u"FIR模拟IIR的误差"</span>)</div><div class="line">pl.show()</div></pre></td></tr></table></figure>
<p>result:</p>
<img src="/2016/07/01/matplotlib-1-introduction/simple_plot.png" alt="simple_plot.png" title="">
<p>Reference：</p>
<ol>
<li><a href="http://www.open-open.com/lib/view/open1393488232380.html" target="_blank" rel="external">Python-Matplotlib安装及简单使用</a></li>
<li><a href="http://www.cnblogs.com/vamei/archive/2012/09/17/2689798.html" target="_blank" rel="external">绘图: Python matplotlib简介</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;http://matplotlib.org/&quot;&gt;matplotlib&lt;/a&gt;是一个python语言绘图库，本文介绍了matplotlib的安装和基本使用方法。&lt;/p&gt;
    
    </summary>
    
      <category term="python" scheme="http://www.wuchenxu.com/categories/python/"/>
    
      <category term="tool" scheme="http://www.wuchenxu.com/categories/python/tool/"/>
    
    
      <category term="python" scheme="http://www.wuchenxu.com/tags/python/"/>
    
      <category term="matplotlib" scheme="http://www.wuchenxu.com/tags/matplotlib/"/>
    
  </entry>
  
  <entry>
    <title>MathJax(1):简介</title>
    <link href="http://www.wuchenxu.com/2016/06/28/MathJax-1-introduction/"/>
    <id>http://www.wuchenxu.com/2016/06/28/MathJax-1-introduction/</id>
    <published>2016-06-28T14:17:45.000Z</published>
    <updated>2016-06-28T14:17:45.000Z</updated>
    
    <content type="html"><![CDATA[<p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=2&id=25906124&auto=0&height=66"></iframe><br>陈奕迅-不要说话<br>$$f(a)= {1 \over 2\pi i}\oint_\gamma {f(z) \over x-a}dz$$<br>MathJax入门简介，主要翻译MathJax的入门介绍。</p>
<a id="more"></a>
<h1 id="what-is-MathJax"><a href="#what-is-MathJax" class="headerlink" title="what is MathJax?"></a>what is MathJax?</h1><p><a href="https://www.mathjax.org" target="_blank" rel="external">MathJax</a>官网口号</p>
<blockquote>
<p>Beautiful math in all browsers<br>A JavaScript display engine for mathematics that works in all browsers.</p>
</blockquote>
<p>MathJax是为了解决浏览器中数学公式的显示问题而产生的一种解决方案，通过CSS或者SVG(而不是图片或Flash)来生成数学公式，可以实现无损缩放，可以拷贝到Office、LaTeX、wiki等；其输入形式可以是MathML、TeX或者ASCIImath，输出是HTML+CSS、SVG或者MathML.</p>
<h1 id="how-to-learn"><a href="#how-to-learn" class="headerlink" title="how to learn?"></a>how to learn?</h1><p>官网<a href="https://www.mathjax.org" target="_blank" rel="external">MathJax</a>是最权威的。<br>推荐使用<a href="https://stackedit.io/" target="_blank" rel="external">StackEdit</a>学习MathJax的语法，它支持Markdown和MathJax.</p>
<h1 id="how-to-use-MathJax"><a href="#how-to-use-MathJax" class="headerlink" title="how to use MathJax"></a>how to use MathJax</h1><h2 id="link-to-MathJax"><a href="#link-to-MathJax" class="headerlink" title="link to MathJax"></a>link to MathJax</h2><h3 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a>CDN</h3><p>将<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">async</span></span></div><div class="line">  <span class="attr">src</span>=<span class="string">"https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"</span>&gt;<span class="undefined"></span></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>放到<code>&lt;head&gt;</code>或者<code>&lt;body&gt;</code>里，然后就是在网页中放上TeX, MathML, 或者 AsciiMath 格式的数学公式就可以通过MathJax来渲染显示了。</p>
<p>其原理是：网页中包含的JS脚本会使网页从CDN服务器加载最新版本的MathJax，识别数学公式(Tex,MathML或者AsciiMath标记的)后输出HTML+CSS来显示数学公式。</p>
<h3 id="local"><a href="#local" class="headerlink" title="local"></a>local</h3><p>下载MathJax到本地，然后link到网页。<br>方法参见<a href="http://docs.mathjax.org/en/latest/start.html#installing-your-own-copy-of-mathjax" target="_blank" rel="external">Installing Your Own Copy of MathJax</a>.</p>
<h2 id="Put-mathematics-in-web-pages"><a href="#Put-mathematics-in-web-pages" class="headerlink" title="Put mathematics in web pages"></a>Put mathematics in web pages</h2><p>MathJax支持三种标记方法：Tex/LaTex、MathML和AsciiMath，可以<a href="http://docs.mathjax.org/en/latest/configuration.html" target="_blank" rel="external">配置</a>来告诉MathJax解析哪一种或哪几种标记方法，三种标记方法可以混用。</p>
<h3 id="Tex-LaTex"><a href="#Tex-LaTex" class="headerlink" title="Tex/LaTex"></a>Tex/LaTex</h3><p>默认的displayed公式分隔符有<code>$$...$$</code>和<code>\[…\]</code>,而默认的inline公式分隔符为<code>\(...\)</code>,当然这些都是可以自定义的，具体配置请<a href="http://docs.mathjax.org/en/latest/start.html#tex-and-latex-input" target="_blank" rel="external">参考文档</a>。由于修改了配置文件，我们在下文中使用<code>$...$</code>作为inline公式分隔符。<br>看一下效果：<br><figure class="highlight tex"><figcaption><span>Tex</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">When <span class="formula">$a <span class="tag">\<span class="name">ne</span></span> 0$</span>, there are two solutions to <span class="tag">\<span class="name">(</span></span>ax^2 + bx + c = 0<span class="tag">\<span class="name">)</span></span> and they are</div><div class="line"><span class="formula">$$x = &#123;-b <span class="tag">\<span class="name">pm</span></span> <span class="tag">\<span class="name">sqrt</span><span class="string">&#123;b^2-4ac&#125;</span></span> <span class="tag">\<span class="name">over</span></span> 2a&#125;.$$</span></div></pre></td></tr></table></figure></p>
<p>When $a \ne 0$, there are two solutions to (ax^2 + bx + c = 0) and they are<br>$$x = {-b \pm \sqrt{b^2-4ac} \over 2a}.$$</p>
<h3 id="MathML"><a href="#MathML" class="headerlink" title="MathML"></a>MathML</h3><p>效果参见<a href="https://cdn.mathjax.org/mathjax/latest/test/sample-mml.html" target="_blank" rel="external">sample-mml.html</a></p>
<h3 id="AsciiMath"><a href="#AsciiMath" class="headerlink" title="AsciiMath"></a>AsciiMath</h3><p>效果参见<a href="https://cdn.mathjax.org/mathjax/latest/test/sample-asciimath.html" target="_blank" rel="external">sample-asciimath.html</a></p>
<p>Reference:</p>
<ol>
<li><a href="http://docs.mathjax.org/en/latest/start.html" target="_blank" rel="external">Getting Started</a></li>
<li><a href="http://mlworks.cn/posts/introduction-to-mathjax-and-latex-expression/" target="_blank" rel="external">Mathjax与LaTex公式简介</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=330 height=86 src=&quot;http://music.163.com/outchain/player?type=2&amp;id=25906124&amp;auto=0&amp;height=66&quot;&gt;&lt;/iframe&gt;&lt;br&gt;陈奕迅-不要说话&lt;br&gt;$$f(a)= {1 \over 2\pi i}\oint_\gamma {f(z) \over x-a}dz$$&lt;br&gt;MathJax入门简介，主要翻译MathJax的入门介绍。&lt;/p&gt;
    
    </summary>
    
      <category term="MathJax" scheme="http://www.wuchenxu.com/categories/MathJax/"/>
    
      <category term="tool" scheme="http://www.wuchenxu.com/categories/MathJax/tool/"/>
    
    
      <category term="MathJax" scheme="http://www.wuchenxu.com/tags/MathJax/"/>
    
      <category term="LaTex" scheme="http://www.wuchenxu.com/tags/LaTex/"/>
    
  </entry>
  
  <entry>
    <title>湿度humidity</title>
    <link href="http://www.wuchenxu.com/2016/06/01/humidity/"/>
    <id>http://www.wuchenxu.com/2016/06/01/humidity/</id>
    <published>2016-06-01T08:12:30.000Z</published>
    <updated>2016-06-01T08:12:30.000Z</updated>
    
    <content type="html"><![CDATA[<img src="/2016/06/01/humidity/humidity.jpg" alt="humidity.jpg" title="">
<p>湿度(Humidity)用来表征空气中水蒸气(water vapor)的含量。有三种计量方式：绝对湿度(Absolute Humidity)、相对湿度(Relative Hmidity)、比湿度(Specific Humidity)。</p>
<a id="more"></a>
<h1 id="绝对湿度"><a href="#绝对湿度" class="headerlink" title="绝对湿度"></a>绝对湿度</h1><p>绝对湿度指每立方米空气中所含水蒸气的质量，即水蒸气密度，单位为g/m<sup>3</sup>。<br>随着温度和气压的变化，绝对湿度会变化。<br>温度越高，绝对湿度越小。<br>气压越高，绝对湿度越大。</p>
<h1 id="相对湿度"><a href="#相对湿度" class="headerlink" title="相对湿度"></a>相对湿度</h1><p>相对湿度(RH)指空气中水蒸气压与相同情况下饱和水蒸气压的百分比，表示形式如90%RH。百分比越高，湿度越大。<br>相对湿度能反映降水的可能性，所以常用在天气预报中。<br>在炎热的夏天天气，相对湿度的上升会阻碍皮肤的汗水蒸发，从而增加人类的体感温度。</p>
<h1 id="比湿度"><a href="#比湿度" class="headerlink" title="比湿度"></a>比湿度</h1><p>一团由干空气和水汽组成的湿空气中的水汽质量与湿空气的总质量之比。若湿空气与外界无质量交换，且无相变，则比湿保持不变。以g/g或g/kg为单位，通常大气中比湿都小于40g/kg。</p>
<p>Reference:</p>
<ol>
<li><a href="https://en.wikipedia.org/wiki/Humidity" target="_blank" rel="external">Humidity wiki</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;img src=&quot;/2016/06/01/humidity/humidity.jpg&quot; alt=&quot;humidity.jpg&quot; title=&quot;&quot;&gt;
&lt;p&gt;湿度(Humidity)用来表征空气中水蒸气(water vapor)的含量。有三种计量方式：绝对湿度(Absolute Humidity)、相对湿度(Relative Hmidity)、比湿度(Specific Humidity)。&lt;/p&gt;
    
    </summary>
    
      <category term="气象" scheme="http://www.wuchenxu.com/categories/%E6%B0%94%E8%B1%A1/"/>
    
    
      <category term="humidity" scheme="http://www.wuchenxu.com/tags/humidity/"/>
    
  </entry>
  
  <entry>
    <title>Hamming Distance</title>
    <link href="http://www.wuchenxu.com/2016/05/12/hamming-distance/"/>
    <id>http://www.wuchenxu.com/2016/05/12/hamming-distance/</id>
    <published>2016-05-12T13:32:44.000Z</published>
    <updated>2016-05-12T13:32:44.000Z</updated>
    
    <content type="html"><![CDATA[<p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=2&id=208933&auto=0&height=66"></iframe><br>蔡健雅-达尔文</p>

<p>Hamming distance is a metric to measure difference between two strings of equal length or two data with same length(eg. two binary data with same bits).</p>
<a id="more"></a>
<h1 id="Definiton"><a href="#Definiton" class="headerlink" title="Definiton"></a>Definiton</h1><blockquote>
<p> In information theory, the <a href="https://en.wikipedia.org/wiki/Hamming_distance" target="_blank" rel="external">Hamming distance</a> between two strings of equal length is the number of positions at which the corresponding symbols are different. In another way, it measures the minimum number of substitutions required to change one string into the other, or the minimum number of errors that could have transformed one string into the other.</p>
</blockquote>
<h1 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h1><h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><p>the Hamming distance between below two strings is 8.<br>“Hello,world”<br>“world,hello”<br> 11101011101   | 8<br> there is a <a href="https://github.com/doukremt/distance" target="_blank" rel="external">python distance lib</a> which can calculate hamming distance.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> distance <span class="keyword">as</span> ds</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>ds.hamming(<span class="string">"hello,world"</span>, <span class="string">"world,hello"</span>)</div><div class="line"><span class="number">8</span></div></pre></td></tr></table></figure></p>
<h2 id="Data"><a href="#Data" class="headerlink" title="Data"></a>Data</h2><p>hamming distance between<br><code>1011101</code> and<br><code>1001001</code><br>is 2.</p>
<p>Here data can be binary or octonary or decimal or hexadecimal, but the two data should be with same length in same system.</p>
<h1 id="Application"><a href="#Application" class="headerlink" title="Application"></a>Application</h1><h2 id="Coding-theory"><a href="#Coding-theory" class="headerlink" title="Coding theory"></a>Coding theory</h2><p>In coding theory, hamming distance is used as error detecting and error correcting codes(ECC).<br>a code with minimum Hamming distance d between its codewords can detect at most d-1 errors and can correct (d-1)/2 errors.The latter number is also called the error-correcting capability of the code.</p>
<p>For error detecting, hammind distance is usde to evaluate the performace of algorithm.<br>Let’s say, there are fixed-length data d, then we count a checksum C using differet algorithm. then we have data(d, C). we can get the minimum hamming distance d in set(d, C). so the algorithm can detect d-1 errors and correct (d-1)/2 errors.<br>CRC is generally better than modular sum.</p>
<p>For error correcting, there is a kind of ECC named as <a href="https://en.wikipedia.org/wiki/Hamming_code" target="_blank" rel="external">Hamming Code</a>.</p>
<h2 id="Programming"><a href="#Programming" class="headerlink" title="Programming"></a>Programming</h2><p>In softwar programming, there is a simple method to protect data from unexpected bit inverse(eg. soft error).<br>By define enum type like this:<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> </div><div class="line">&#123;</div><div class="line">    Red  = <span class="number">0x0F</span>,</div><div class="line">    Blue = <span class="number">0x33</span>,</div><div class="line">    Green = <span class="number">0x3C</span></div><div class="line">&#125;Color;</div></pre></td></tr></table></figure></p>
<p>the minimum hamming distance between <code>Red</code>,<code>Blue</code> and <code>Green</code> is 4.</p>
<h1 id="Generate-data-set-with-min-hamming-distance"><a href="#Generate-data-set-with-min-hamming-distance" class="headerlink" title="Generate data set with min hamming distance"></a>Generate data set with min hamming distance</h1><figure class="highlight python"><figcaption><span> min_hamming_distance_set</span><a href="/downloads/code/hamming_distance/min_hamming_distance_set.py">view raw</a></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#coding:utf-8 </span></div><div class="line"><span class="comment">#author: www.wuchenxu.com</span></div><div class="line"><span class="comment">#versin: 1.0</span></div><div class="line"><span class="comment">#date: 2016-05-18</span></div><div class="line"></div><div class="line"><span class="comment">#https://github.com/doukremt/distance</span></div><div class="line"><span class="keyword">import</span> distance <span class="keyword">as</span> ds</div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">convertDec2BinStr</span><span class="params">(num)</span>:</span></div><div class="line">	<span class="keyword">return</span> <span class="string">'{0:08b}'</span>.format(num)</div><div class="line">	</div><div class="line">	</div><div class="line">data= [<span class="number">0</span>]</div><div class="line">min_hamming_distance = <span class="number">4</span></div><div class="line"></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">255</span>):</div><div class="line">	counter = <span class="number">0</span></div><div class="line">	<span class="keyword">for</span> j <span class="keyword">in</span> data:</div><div class="line">		<span class="keyword">if</span> ds.hamming(convertDec2BinStr(j), convertDec2BinStr(i)) &gt;= min_hamming_distance:</div><div class="line">			counter +=<span class="number">1</span></div><div class="line">		<span class="keyword">if</span> counter == len(data):</div><div class="line">			data.append(i)</div><div class="line">			</div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> data:</div><div class="line">	<span class="keyword">print</span> convertDec2BinStr(i)+<span class="string">'(0x{0:02x})'</span>.format(i)</div></pre></td></tr></table></figure>
<p><code>data=[0]</code> defines the first number of data set; <code>min_hamming_distance</code> defines the min hanmming distance of the data set.</p>
<figure class="highlight plain"><figcaption><span>result</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">00000000(0x00)</div><div class="line">00001111(0x0f)</div><div class="line">00110011(0x33)</div><div class="line">00111100(0x3c)</div><div class="line">01010101(0x55)</div><div class="line">01011010(0x5a)</div><div class="line">01100110(0x66)</div><div class="line">01101001(0x69)</div><div class="line">10010110(0x96)</div><div class="line">10011001(0x99)</div><div class="line">10100101(0xa5)</div><div class="line">10101010(0xaa)</div><div class="line">11000011(0xc3)</div><div class="line">11001100(0xcc)</div><div class="line">11110000(0xf0)</div></pre></td></tr></table></figure>
<p>Reference：</p>
<ol>
<li><a href="https://en.wikipedia.org/wiki/Hamming_distance" target="_blank" rel="external">Hamming distance in wiki</a> </li>
<li><a href="https://en.wikipedia.org/wiki/Hamming_code" target="_blank" rel="external">Hamming Code</a></li>
<li><a href="https://github.com/doukremt/distance" target="_blank" rel="external">python distance lib</a></li>
<li><a href="https://docs.python.org/2/library/string.html#format-examples" target="_blank" rel="external">python format</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=330 height=86 src=&quot;http://music.163.com/outchain/player?type=2&amp;id=208933&amp;auto=0&amp;height=66&quot;&gt;&lt;/iframe&gt;&lt;br&gt;蔡健雅-达尔文&lt;/p&gt;

&lt;p&gt;Hamming distance is a metric to measure difference between two strings of equal length or two data with same length(eg. two binary data with same bits).&lt;/p&gt;
    
    </summary>
    
      <category term="distance" scheme="http://www.wuchenxu.com/categories/distance/"/>
    
      <category term="coding" scheme="http://www.wuchenxu.com/categories/distance/coding/"/>
    
    
      <category term="hamming-distance" scheme="http://www.wuchenxu.com/tags/hamming-distance/"/>
    
  </entry>
  
  <entry>
    <title>个人博客搭建hexo+github(8):独立域名绑定github</title>
    <link href="http://www.wuchenxu.com/2016/04/28/Static-Blog-hexo-github-8-binding-domain/"/>
    <id>http://www.wuchenxu.com/2016/04/28/Static-Blog-hexo-github-8-binding-domain/</id>
    <published>2016-04-28T11:43:26.000Z</published>
    <updated>2016-04-28T11:43:26.000Z</updated>
    
    <content type="html"><![CDATA[<p>独立域名绑定到github的方法。</p>
<p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=2&id=26423116&auto=0&height=66"></iframe><br>attraction - 小泽正澄</p>
<a id="more"></a>
<h1 id="购买域名"><a href="#购买域名" class="headerlink" title="购买域名"></a>购买域名</h1><p>我是在<a href="https://wanwang.aliyun.com/" target="_blank" rel="external">万网</a>购买的，现在已经被阿里云收归旗下，比<a href="https://www.godaddy.com/" target="_blank" rel="external">狗爹</a>便宜，第一年45块。</p>
<h1 id="DNS设置"><a href="#DNS设置" class="headerlink" title="DNS设置"></a>DNS设置</h1><p>我使用的是国内的<a href="https://www.dnspod.cn" target="_blank" rel="external">DNSPod</a>。</p>
<h2 id="DNS服务器"><a href="#DNS服务器" class="headerlink" title="DNS服务器"></a>DNS服务器</h2><p>域名解析的DNS服务器设置为SNSPod的地址<br><img src="/2016/04/28/Static-Blog-hexo-github-8-binding-domain/DNS_server.png" alt="DNS_server.png" title=""></p>
<h2 id="DNS记录"><a href="#DNS记录" class="headerlink" title="DNS记录"></a>DNS记录</h2><p>github Pages和coding Pages同时部署了，DNSPod的一个好处是可以将国内和国内的访问使用不同路线。<br>国内的访问路由到github,国外的路由到coding.<br>几种常用的记录类型：<br><figure class="highlight dns"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">A</span>记录：地址记录，用来指定域名的IPv4地址（如：<span class="number">8.8.8.8</span>），如果需要将域名指向一个IP地址，就需要添加<span class="keyword">A</span>记录。</div><div class="line"><span class="keyword">CNAME</span>： 如果需要将域名指向另一个域名，再由另一个域名提供ip地址，就需要添加<span class="keyword">CNAME</span>记录。</div><div class="line"><span class="keyword">NS</span>：域名服务器记录，如果需要把子域名交给其他DNS服务商解析，就需要添加<span class="keyword">NS</span>记录。</div></pre></td></tr></table></figure></p>
<p>NS记录为不可修改的域名服务器记录。<br>A记录用来指定<a href="https://help.github.com/articles/troubleshooting-custom-domains/" target="_blank" rel="external">github pages的IP地址</a>，可不设置。<br>CNAME记录需要指定<code>www</code>和<code>@</code>两种主机记录（域名前缀）。<br>github的CNAME指向<code>username.github.io</code> 或者 <code>github.map.fastly.net</code>;<br>coding的CNAME指向<code>pages.coding.me</code>。</p>
<img src="/2016/04/28/Static-Blog-hexo-github-8-binding-domain/DNSPod_set.png" alt="DNSPod_set.png" title="">
<h1 id="CNAME重定向"><a href="#CNAME重定向" class="headerlink" title="CNAME重定向"></a>CNAME重定向</h1><p>在hexo/source目录下新建名为<code>CNAME</code>的文件，没有后缀。<br>内容为域名，我这里是<code>wuchenxu.com</code>，没有<code>www</code>的。<br>coding需要手动设置绑定域名<br><img src="/2016/04/28/Static-Blog-hexo-github-8-binding-domain/CNAME_CodingPages.png" alt="CNAME_CodingPages.png" title=""></p>
<h1 id="启用"><a href="#启用" class="headerlink" title="启用"></a>启用</h1><p>重新部署<code>hexo d -g</code>后，可以通过独立域名访问博客啦。</p>
<h1 id="查看访问源"><a href="#查看访问源" class="headerlink" title="查看访问源"></a>查看访问源</h1><p>可以看到访问的是coding Pages。<br><img src="/2016/04/28/Static-Blog-hexo-github-8-binding-domain/ping_domain.png" alt="ping_domain.png" title=""></p>
<h1 id="Debug"><a href="#Debug" class="headerlink" title="Debug"></a>Debug</h1><p>发现用移动网络可以访问，但是连接家里的广电宽带就是访问不了，出现<code>DNS_PROBE_FINISHED_NXDOMAIN</code>错误。<br>通过<a href="http://bbs.guanjia.qq.com/forum.php?mod=viewthread&amp;tid=2092936&amp;extra=" target="_blank" rel="external">手动设置DNS</a>后问题解决。<br><img src="/2016/04/28/Static-Blog-hexo-github-8-binding-domain/PC_set_DNS_Server.png" alt="PC_set_DNS_Server.png" title=""></p>
<p>References:</p>
<ol>
<li><a href="http://www.jianshu.com/p/1d427e888dda" target="_blank" rel="external">域名和github绑定的问题</a></li>
<li><a href="http://cnfeat.com/blog/2014/05/10/how-to-build-a-blog/" target="_blank" rel="external">如何搭建一个独立博客</a></li>
<li><a href="http://iread.io/2015/09/hexo-guide-4/" target="_blank" rel="external">将独立域名与GitHub Pages的空间绑定</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;独立域名绑定到github的方法。&lt;/p&gt;
&lt;p&gt;&lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=330 height=86 src=&quot;http://music.163.com/outchain/player?type=2&amp;id=26423116&amp;auto=0&amp;height=66&quot;&gt;&lt;/iframe&gt;&lt;br&gt;attraction - 小泽正澄&lt;/p&gt;
    
    </summary>
    
      <category term="hexo" scheme="http://www.wuchenxu.com/categories/hexo/"/>
    
    
      <category term="hexo" scheme="http://www.wuchenxu.com/tags/hexo/"/>
    
      <category term="github" scheme="http://www.wuchenxu.com/tags/github/"/>
    
      <category term="DNS" scheme="http://www.wuchenxu.com/tags/DNS/"/>
    
  </entry>
  
  <entry>
    <title>python脚本嵌入bat脚本执行</title>
    <link href="http://www.wuchenxu.com/2016/04/26/python-srcipt-embedded-in-bat/"/>
    <id>http://www.wuchenxu.com/2016/04/26/python-srcipt-embedded-in-bat/</id>
    <published>2016-04-26T13:58:37.000Z</published>
    <updated>2016-04-26T13:58:37.000Z</updated>
    
    <content type="html"><![CDATA[<p>通过bat脚本的注释<code>rem</code>以及python脚本的注释<code>&quot;&quot;&quot;</code>实现将python脚本嵌入到bat脚本中执行。</p>
<a id="more"></a>
<p>将python语句嵌入到bat脚本中，直接执行bat脚本的最终结果是执行python脚本。<br>python脚本可以接收bat脚本的命令行输入参数。<br>主要用到三个技巧：</p>
<ol>
<li>bat的注释<code>rem</code></li>
<li>python的多行注释<code>&quot;&quot;&quot;</code></li>
<li>bat的goto label</li>
</ol>
<figure class="highlight bat"><figcaption><span> PythonScriptInBat</span><a href="/downloads/code/PythonScriptInBat/pythonScriptInBat.bat">view raw</a></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">rem = """</span></div><div class="line">@<span class="built_in">echo</span> off</div><div class="line">python.exe -d %<span class="number">0</span> %*</div><div class="line"><span class="built_in">pause</span></div><div class="line"><span class="keyword">goto</span> endofPython """</div><div class="line"> </div><div class="line">import os</div><div class="line">import sys</div><div class="line"><span class="built_in">print</span> "hello,python "</div><div class="line"><span class="built_in">print</span> "pwd: " + os.getcwd()</div><div class="line"></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, len(sys.argv)):</div><div class="line">	<span class="built_in">print</span> "argv", i, sys.argv[i]</div><div class="line"><span class="comment"> </span></div><div class="line"> </div><div class="line"> </div><div class="line"> </div><div class="line">rem = """</div><div class="line">:endofPython """</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;通过bat脚本的注释&lt;code&gt;rem&lt;/code&gt;以及python脚本的注释&lt;code&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/code&gt;实现将python脚本嵌入到bat脚本中执行。&lt;/p&gt;
    
    </summary>
    
      <category term="windows cmd" scheme="http://www.wuchenxu.com/categories/windows-cmd/"/>
    
      <category term="python" scheme="http://www.wuchenxu.com/categories/windows-cmd/python/"/>
    
    
      <category term="python" scheme="http://www.wuchenxu.com/tags/python/"/>
    
      <category term="cmd" scheme="http://www.wuchenxu.com/tags/cmd/"/>
    
  </entry>
  
  <entry>
    <title>windows command(17):多线程 start call cmd</title>
    <link href="http://www.wuchenxu.com/2016/04/01/windows-cmd-17-multiple-thread/"/>
    <id>http://www.wuchenxu.com/2016/04/01/windows-cmd-17-multiple-thread/</id>
    <published>2016-04-01T06:32:28.000Z</published>
    <updated>2016-06-12T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=2&id=5264222&auto=0&height=66"></iframe><br>本多RuRu-美丽心情</p>
<p>start启动独立窗口;call调用另一个脚本;cmd启动Windows命令解释器的一个新实例.</p>
<a id="more"></a>
<h1 id="start"><a href="#start" class="headerlink" title="start"></a>start</h1><p>启动一个单独的窗口以运行指定的程序或命令。<br><figure class="highlight bat"><figcaption><span>以最大化方式启动画图板</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">start</span> /max mspaint</div></pre></td></tr></table></figure></p>
<figure class="highlight bat"><figcaption><span>启动记事本，并打开a.txt，在关闭记事本之前cmd等待</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">start</span> /wait notepad a.txt</div></pre></td></tr></table></figure>
<figure class="highlight bat"><figcaption><span>打开指定目录</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">start</span> "" d:\test\"</div></pre></td></tr></table></figure>
<figure class="highlight bat"><figcaption><span>打开当前目录</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">start</span>.</div></pre></td></tr></table></figure>
<h1 id="call"><a href="#call" class="headerlink" title="call"></a>call</h1><p>从一个批处理程序调用另一个批处理程序，并且不终止父批处理程序。call 命令接受用作调用目标的标签。如果在脚本或批处理文件外使用 Call，它将不会在命令行起作用。<br>调用格式：<br><code>call :label arg</code><br>被调用程序语法：<br><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">:<span class="keyword">label</span><span class="bash"></span></div><div class="line">cmd1</div><div class="line">...</div><div class="line">cmdn</div><div class="line">goto :eof</div></pre></td></tr></table></figure></p>
<p>被调用程序中，参数%0 指标签:label.</p>
<h2 id="例1：父子程序都被执行"><a href="#例1：父子程序都被执行" class="headerlink" title="例1：父子程序都被执行"></a>例1：父子程序都被执行</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">@echo off</div><div class="line">call :label</div><div class="line"></div><div class="line"></div><div class="line">:label</div><div class="line">echo %0 %1</div><div class="line">goto :eof</div></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt;test<span class="selector-class">.bat</span> hello</div><div class="line">:<span class="selector-tag">label</span></div><div class="line">test<span class="selector-class">.bat</span> hello</div></pre></td></tr></table></figure>
<h2 id="例2-加法"><a href="#例2-加法" class="headerlink" title="例2:加法"></a>例2:加法</h2><figure class="highlight dos"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">@<span class="built_in">echo</span> off</div><div class="line"><span class="built_in">set</span> sum=<span class="number">0</span></div><div class="line"><span class="keyword">call</span> :add sum <span class="number">10</span> <span class="number">20</span> <span class="number">30</span></div><div class="line"><span class="built_in">echo</span> result: <span class="variable">%sum%</span></div><div class="line"><span class="keyword">goto</span> :eof</div><div class="line"></div><div class="line">:add</div><div class="line"><span class="comment">rem arg1 is return value</span></div><div class="line"><span class="built_in">set</span> /a <span class="variable">%1=%</span><span class="number">1</span>+%<span class="number">2</span></div><div class="line"><span class="built_in">shift</span> /<span class="number">2</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">not</span> "%<span class="number">2</span>"=="" <span class="keyword">goto</span> add</div><div class="line"><span class="keyword">goto</span> :eof</div></pre></td></tr></table></figure>
<p><code>:label</code>一样，call后面是必须是<code>:label</code>，而goto则可以是<code>label</code>或者<code>:label</code>。</p>
<h1 id="cmd"><a href="#cmd" class="headerlink" title="cmd"></a>cmd</h1><p>启动 Windows 命令解释器的一个新实例</p>
<p>Reference:<br><figure class="highlight plain"><figcaption><span>help start</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div></pre></td><td class="code"><pre><div class="line">启动一个单独的窗口以运行指定的程序或命令。</div><div class="line"></div><div class="line">START [&quot;title&quot;] [/D path] [/I] [/MIN] [/MAX] [/SEPARATE | /SHARED]</div><div class="line">      [/LOW | /NORMAL | /HIGH | /REALTIME | /ABOVENORMAL | /BELOWNORMAL]</div><div class="line">      [/NODE &lt;NUMA node&gt;] [/AFFINITY &lt;hex affinity mask&gt;] [/WAIT] [/B]</div><div class="line">      [command/program] [parameters]</div><div class="line"></div><div class="line">    &quot;title&quot;     在窗口标题栏中显示的标题。</div><div class="line">    path        启动目录。</div><div class="line">    B           启动应用程序，但不创建新窗口。</div><div class="line">                应用程序已忽略 ^C 处理。除非应用程序</div><div class="line">                启用 ^C 处理，否则 ^Break 是唯一可以中断</div><div class="line">                该应用程序的方式。</div><div class="line">    I           新的环境将是传递</div><div class="line">                给 cmd.exe 的原始环境，而不是当前环境。</div><div class="line">    MIN         以最小化方式启动窗口。</div><div class="line">    MAX         以最大化方式启动窗口。</div><div class="line">    SEPARATE    在单独的内存空间中启动 16 位 Windows 程序。</div><div class="line">    SHARED      在共享内存空间中启动 16 位 Windows 程序。</div><div class="line">    LOW         在 IDLE 优先级类中启动应用程序。</div><div class="line">    NORMAL      在 NORMAL 优先级类中启动应用程序。</div><div class="line">    HIGH        在 HIGH 优先级类中启动应用程序。</div><div class="line">    REALTIME    在 REALTIME 优先级类中启动应用程序。</div><div class="line">    ABOVENORMAL 在 ABOVENORMAL 优先级类中启动应用程序。</div><div class="line">    BELOWNORMAL 在 BELOWNORMAL 优先级类中启动应用程序。</div><div class="line">    NODE        将首选非一致性内存结构(NUMA)节点指定为</div><div class="line">                十进制整数。</div><div class="line">    AFFINITY    将处理器关联掩码指定为十六进制数字。</div><div class="line">                进程被限制在这些处理器上运行。</div><div class="line"></div><div class="line">                将 /AFFINITY 和 /NODE 结合使用时，会对关联掩码</div><div class="line">                进行不同的解释。指定关联掩码，以便将零位作为起始位置(就如将 NUMA</div><div class="line">                节点的处理器掩码向右移位一样)。</div><div class="line">                进程被限制在指定关联掩码和 NUMA 节点之间的</div><div class="line">                那些通用处理器上运行。</div><div class="line">                如果没有通用处理器，则进程被限制在</div><div class="line">                指定的 NUMA 节点上运行。</div><div class="line">    WAIT        启动应用程序并等待它终止。</div><div class="line">    command/program</div><div class="line">                如果它是内部 cmd 命令或批文件，则</div><div class="line">                该命令处理器是使用 cmd.exe 的 /K 开关运行的。</div><div class="line">                这表示运行该命令之后，该窗口</div><div class="line">                将仍然存在。</div><div class="line"></div><div class="line">                如果它不是内部 cmd 命令或批文件，则</div><div class="line">                它就是一个程序，并将作为一个窗口化应用程序或</div><div class="line">                控制台应用程序运行。</div><div class="line"></div><div class="line">    parameters  这些是传递给 command/program 的参数。</div><div class="line"></div><div class="line">注意: 在 64 位平台上不支持 SEPARATE 和 SHARED 选项。</div><div class="line"></div><div class="line">通过指定 /NODE，可按照利用 NUMA 系统中的内存区域的方式</div><div class="line">创建进程。例如，可以创建两个完全</div><div class="line">通过共享内存互相通信的进程以共享相同的首选 NUMA 节点，</div><div class="line">从而最大限度地减少内存延迟。只要有可能，</div><div class="line">它们就会分配来自相同 NUMA 节点的</div><div class="line">内存，并且会在指定节点之外的处理器上自由运行。</div><div class="line"></div><div class="line">    start /NODE 1 application1.exe</div><div class="line">    start /NODE 1 application2.exe</div><div class="line"></div><div class="line">这两个进程可被进一步限制在相同 NUMA 节点内的指定处理器</div><div class="line">上运行。在以下示例中，application1 在</div><div class="line">节点的两个低位处理器上运行，而 application2</div><div class="line">在该节点的其后两个处理器上运行。该示例假定指定节点至少具有四个逻辑处理器。请注意，节点号可更改为该计算机的任何有效节点号，</div><div class="line">而无需更改关联掩码。</div><div class="line"></div><div class="line">    start /NODE 1 /AFFINITY 0x3 application1.exe</div><div class="line">    启动 /NODE 1 /AFFINITY 0xc application2.exe</div><div class="line"></div><div class="line">如果命令扩展被启用，通过命令行或 START 命令的外部命令</div><div class="line">调用会如下改变:</div><div class="line"></div><div class="line">将文件名作为命令键入，非可执行文件可以通过文件关联调用。</div><div class="line">    (例如，WORD.DOC 会调用跟 .DOC 文件扩展名关联的应用程序)。</div><div class="line">    关于如何从命令脚本内部创建这些关联，请参阅 ASSOC 和</div><div class="line">     FTYPE 命令。</div><div class="line"></div><div class="line">执行的应用程序是 32 位 GUI 应用程序时，CMD.EXE 不等应用</div><div class="line">    程序终止就返回命令提示符。如果在命令脚本内执行，该新行为</div><div class="line">    则不会发生。</div><div class="line"></div><div class="line">如果执行的命令行的第一个符号是不带扩展名或路径修饰符的</div><div class="line">    字符串 &quot;CMD&quot;，&quot;CMD&quot; 会被 COMSPEC 变量的数值所替换。这</div><div class="line">    防止从当前目录提取 CMD.EXE。</div><div class="line"></div><div class="line">如果执行的命令行的第一个符号没有扩展名，CMD.EXE 会使用</div><div class="line">    PATHEXT 环境变量的数值来决定要以什么顺序寻找哪些扩展</div><div class="line">    名。PATHEXT 变量的默认值是:</div><div class="line"></div><div class="line">        .COM;.EXE;.BAT;.CMD</div><div class="line"></div><div class="line">    请注意，该语法跟 PATH 变量的一样，分号隔开不同的元素。</div><div class="line"></div><div class="line">查找可执行文件时，如果没有相配的扩展名，看一看该名称是否</div><div class="line">与目录名相配。如果确实如此，START 会在那个路径上调用</div><div class="line">Explorer。如果从命令行执行，则等同于对那个路径作 CD /D。</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><figcaption><span>help call</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line">从批处理程序调用另一个批处理程序。</div><div class="line"></div><div class="line">CALL [drive:][path]filename [batch-parameters]</div><div class="line"></div><div class="line">  batch-parameters   指定批处理程序所需的命令行信息。</div><div class="line"></div><div class="line">如果命令扩展被启用，CALL 会如下改变:</div><div class="line"></div><div class="line">CALL 命令现在将卷标当作 CALL 的目标接受。语法是:</div><div class="line"></div><div class="line">    CALL:label arguments</div><div class="line"></div><div class="line">一个新的批文件上下文由指定的参数所创建，控制在卷标被指定</div><div class="line">后传递到语句。你必须通过达到批脚本文件末两次来 &quot;exit&quot; 两次。</div><div class="line">第一次读到文件末时，控制会回到 CALL 语句的紧后面。第二次</div><div class="line">会退出批脚本。键入 GOTO /?，参看 GOTO :EOF 扩展的描述，</div><div class="line">此描述允许你从一个批脚本返回。</div><div class="line"></div><div class="line">另外，批脚本文本参数参照(%0、%1、等等)已如下改变:</div><div class="line"></div><div class="line"></div><div class="line">     批脚本里的 %* 指出所有的参数(如 %1 %2 %3 %4 %5 ...)</div><div class="line"></div><div class="line">     批参数(%n)的替代已被增强。你可以使用以下语法:</div><div class="line"></div><div class="line">         %~1         - 删除引号(&quot;)，扩展 %1</div><div class="line">         %~f1        - 将 %1 扩展到一个完全合格的路径名</div><div class="line">         %~d1        - 仅将 %1 扩展到一个驱动器号</div><div class="line">         %~p1        - 仅将 %1 扩展到一个路径</div><div class="line">         %~n1        - 仅将 %1 扩展到一个文件名</div><div class="line">         %~x1        - 仅将 %1 扩展到一个文件扩展名</div><div class="line">         %~s1        - 扩展的路径只含有短名</div><div class="line">         %~a1        - 将 %1 扩展到文件属性</div><div class="line">         %~t1        - 将 %1 扩展到文件的日期/时间</div><div class="line">         %~z1        - 将 %1 扩展到文件的大小</div><div class="line">         %~$PATH:1   - 查找列在 PATH 环境变量的目录，并将 %1</div><div class="line">                       扩展到找到的第一个完全合格的名称。如果</div><div class="line">                       环境变量名未被定义，或者没有找到文件，</div><div class="line">                       此修改符会扩展到空字符串</div><div class="line"></div><div class="line">    可以组合修改符来取得多重结果:</div><div class="line"></div><div class="line">        %~dp1       - 只将 %1 扩展到驱动器号和路径</div><div class="line">        %~nx1       - 只将 %1 扩展到文件名和扩展名</div><div class="line">        %~dp$PATH:1 - 在列在 PATH 环境变量中的目录里查找 %1，</div><div class="line">                      并扩展到找到的第一个文件的驱动器号和路径。</div><div class="line">        %~ftza1     - 将 %1 扩展到类似 DIR 的输出行。</div><div class="line"></div><div class="line">    在上面的例子中，%1 和 PATH 可以被其他有效数值替换。</div><div class="line">    %~ 语法被一个有效参数号码终止。%~ 修定符不能跟 %*</div><div class="line">    使用</div></pre></td></tr></table></figure>
<figure class="highlight plain"><figcaption><span>help cmd</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div></pre></td><td class="code"><pre><div class="line">启动 Windows 命令解释器的一个新实例</div><div class="line"></div><div class="line">CMD [/A | /U] [/Q] [/D] [/E:ON | /E:OFF] [/F:ON | /F:OFF] [/V:ON | /V:OFF]</div><div class="line">    [[/S] [/C | /K] string]</div><div class="line"></div><div class="line">/C      执行字符串指定的命令然后终止</div><div class="line">/K      执行字符串指定的命令但保留</div><div class="line">/S      修改 /C 或 /K 之后的字符串处理(见下)</div><div class="line">/Q      关闭回显</div><div class="line">/D      禁止从注册表执行 AutoRun 命令(见下)</div><div class="line">/A      使向管道或文件的内部命令输出成为 ANSI</div><div class="line">/U      使向管道或文件的内部命令输出成为</div><div class="line">        Unicode</div><div class="line">/T:fg   设置前台/背景颜色(详细信息见 COLOR /?)</div><div class="line">/E:ON   启用命令扩展(见下)</div><div class="line">/E:OFF  禁用命令扩展(见下)</div><div class="line">/F:ON   启用文件和目录名完成字符(见下)</div><div class="line">/F:OFF  禁用文件和目录名完成字符(见下)</div><div class="line">/V:ON   使用 ! 作为分隔符启用延迟的环境变量</div><div class="line">        扩展。例如，/V:ON 会允许 !var! 在执行时</div><div class="line">        扩展变量 var。var 语法会在输入时</div><div class="line">        扩展变量，这与在一个 FOR</div><div class="line">        循环内不同。</div><div class="line">/V:OFF  禁用延迟的环境扩展。</div><div class="line"></div><div class="line">注意，如果字符串加有引号，可以接受用命令分隔符 &quot;&amp;&amp;&quot;</div><div class="line">分隔多个命令。另外，由于兼容性</div><div class="line">原因，/X 与 /E:ON 相同，/Y 与 /E:OFF 相同，且 /R 与</div><div class="line">/C 相同。任何其他开关都将被忽略。</div><div class="line"></div><div class="line">如果指定了 /C 或 /K，则会将该开关之后的</div><div class="line">命令行的剩余部分作为一个命令行处理，其中，会使用下列逻辑</div><div class="line">处理引号(&quot;)字符:</div><div class="line"></div><div class="line">    1.  如果符合下列所有条件，则会保留</div><div class="line">        命令行上的引号字符:</div><div class="line"></div><div class="line">        - 不带 /S 开关</div><div class="line">        - 正好两个引号字符</div><div class="line">        - 在两个引号字符之间无任何特殊字符，</div><div class="line">          特殊字符指下列字符: &amp;&lt;&gt;()@^|</div><div class="line">        - 在两个引号字符之间至少有</div><div class="line">          一个空格字符</div><div class="line">        - 在两个引号字符之间的字符串是某个</div><div class="line">          可执行文件的名称。</div><div class="line"></div><div class="line">    2.  否则，老办法是看第一个字符</div><div class="line">        是否是引号字符，如果是，则去掉首字符并</div><div class="line">        删除命令行上最后一个引号，保留</div><div class="line">        最后一个引号之后的所有文本。</div><div class="line"></div><div class="line">如果 /D 未在命令行上被指定，当 CMD.EXE 开始时，它会寻找</div><div class="line">以下 REG_SZ/REG_EXPAND_SZ 注册表变量。如果其中一个或</div><div class="line">两个都存在，这两个变量会先被执行。</div><div class="line"></div><div class="line">    HKEY_LOCAL_MACHINE\Software\Microsoft\Command Processor\AutoRun</div><div class="line"></div><div class="line">        和/或</div><div class="line"></div><div class="line">    HKEY_CURRENT_USER\Software\Microsoft\Command Processor\AutoRun</div><div class="line"></div><div class="line">命令扩展是按默认值启用的。你也可以使用 /E:OFF ，为某一</div><div class="line">特定调用而停用扩展。你</div><div class="line">可以在机器上和/或用户登录会话上</div><div class="line">启用或停用 CMD.EXE 所有调用的扩展，这要通过设置使用</div><div class="line">REGEDIT.EXE 的注册表中的一个或两个 REG_DWORD 值:</div><div class="line"></div><div class="line">    HKEY_LOCAL_MACHINE\Software\Microsoft\Command Processor\EnableExtensions</div><div class="line"></div><div class="line">        和/或</div><div class="line"></div><div class="line">    HKEY_CURRENT_USER\Software\Microsoft\Command Processor\EnableExtensions</div><div class="line"></div><div class="line">到 0x1 或 0x0。用户特定设置</div><div class="line">比机器设置有优先权。命令行</div><div class="line">开关比注册表设置有优先权。</div><div class="line"></div><div class="line">在批处理文件中，SETLOCAL ENABLEEXTENSIONS 或 DISABLEEXTENSIONS 参数</div><div class="line">比 /E:ON 或 /E:OFF 开关有优先权。请参阅 SETLOCAL /? 获取详细信息。</div><div class="line"></div><div class="line">命令扩展包括对下列命令所做的</div><div class="line">更改和/或添加:</div><div class="line"></div><div class="line">    DEL or ERASE</div><div class="line">    COLOR</div><div class="line">    CD or CHDIR</div><div class="line">    MD or MKDIR</div><div class="line">    PROMPT</div><div class="line">    PUSHD</div><div class="line">    POPD</div><div class="line">    SET</div><div class="line">    SETLOCAL</div><div class="line">    ENDLOCAL</div><div class="line">    IF</div><div class="line">    FOR</div><div class="line">    CALL</div><div class="line">    SHIFT</div><div class="line">    GOTO</div><div class="line">    START (同时包括对外部命令调用所做的更改)</div><div class="line">    ASSOC</div><div class="line">    FTYPE</div><div class="line"></div><div class="line">有关特定详细信息，请键入 commandname /? 查看。</div><div class="line"></div><div class="line">延迟环境变量扩展不按默认值启用。你</div><div class="line">可以用/V:ON 或 /V:OFF 开关，为 CMD.EXE 的某个调用而</div><div class="line">启用或停用延迟环境变量扩展。你</div><div class="line">可以在机器上和/或用户登录会话上启用或停用 CMD.EXE 所有</div><div class="line">调用的延迟扩展，这要通过设置使用 REGEDIT.EXE 的注册表中的</div><div class="line">一个或两个 REG_DWORD 值:</div><div class="line"></div><div class="line">    HKEY_LOCAL_MACHINE\Software\Microsoft\Command Processor\DelayedExpansion</div><div class="line"></div><div class="line">        和/或</div><div class="line"></div><div class="line">    HKEY_CURRENT_USER\Software\Microsoft\Command Processor\DelayedExpansion</div><div class="line"></div><div class="line">到 0x1 或 0x0。用户特定设置</div><div class="line">比机器设置有优先权。命令行开关</div><div class="line">比注册表设置有优先权。</div><div class="line"></div><div class="line">在批处理文件中，SETLOCAL ENABLEDELAYEDEXPANSION 或 DISABLEDELAYEDEXPANSION</div><div class="line">参数比 /V:ON 或 /V:OFF 开关有优先权。请参阅 SETLOCAL /?</div><div class="line">获取详细信息。</div><div class="line"></div><div class="line">如果延迟环境变量扩展被启用，</div><div class="line">惊叹号字符可在执行时间被用来</div><div class="line">代替一个环境变量的数值。</div><div class="line"></div><div class="line">你可以用 /F:ON 或 /F:OFF 开关为 CMD.EXE 的某个</div><div class="line">调用而启用或禁用文件名完成。你可以在计算上和/或</div><div class="line">用户登录会话上启用或禁用 CMD.EXE 所有调用的完成，</div><div class="line">这可以通过使用 REGEDIT.EXE 设置注册表中的下列</div><div class="line"> REG_DWORD 的全部或其中之一:</div><div class="line"></div><div class="line">    HKEY_LOCAL_MACHINE\Software\Microsoft\Command Processor\CompletionChar</div><div class="line">    HKEY_LOCAL_MACHINE\Software\Microsoft\Command Processor\PathCompletionChar</div><div class="line"></div><div class="line">        和/或</div><div class="line"></div><div class="line">    HKEY_CURRENT_USER\Software\Microsoft\Command Processor\CompletionChar</div><div class="line">    HKEY_CURRENT_USER\Software\Microsoft\Command Processor\PathCompletionChar</div><div class="line"></div><div class="line">由一个控制字符的十六进制值作为一个特定参数(例如，0x4</div><div class="line">是Ctrl-D，0x6 是 Ctrl-F)。用户特定设置优先于机器设置。</div><div class="line">命令行开关优先于注册表设置。</div><div class="line"></div><div class="line">如果完成是用 /F:ON 开关启用的，两个要使用的控制符是:</div><div class="line">目录名完成用 Ctrl-D，文件名完成用 Ctrl-F。要停用</div><div class="line">注册表中的某个字符，请用空格(0x20)的数值，因为此字符</div><div class="line">不是控制字符。</div><div class="line"></div><div class="line">如果键入两个控制字符中的一个，完成会被调用。完成功能将</div><div class="line">路径字符串带到光标的左边，如果没有通配符，将通配符附加</div><div class="line">到左边，并建立相符的路径列表。然后，显示第一个相符的路</div><div class="line">径。如果没有相符的路径，则发出嘟嘟声，不影响显示。之后，</div><div class="line">重复按同一个控制字符会循环显示相符路径的列表。将 Shift</div><div class="line">键跟控制字符同时按下，会倒着显示列表。如果对该行进行了</div><div class="line">任何编辑，并再次按下控制字符，保存的相符路径的列表会被</div><div class="line">丢弃，新的会被生成。如果在文件和目录名完成之间切换，会</div><div class="line">发生同样现象。两个控制字符之间的唯一区别是文件完成字符</div><div class="line">符合文件和目录名，而目录完成字符只符合目录名。如果文件</div><div class="line">完成被用于内置式目录命令(CD、MD 或 RD)，就会使用目录</div><div class="line">完成。</div><div class="line">用引号将相符路径括起来，完成代码可以正确处理含有空格</div><div class="line">或其他特殊字符的文件名。同时，如果备份，然后从行内调用</div><div class="line">文件完成，完成被调用时位于光标右方的文字会被调用。</div><div class="line"></div><div class="line">需要引号的特殊字符是:</div><div class="line">     &lt;space&gt;</div><div class="line">     ()[]&#123;&#125;^=;!&apos;+,`~(&amp;()</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=330 height=86 src=&quot;http://music.163.com/outchain/player?type=2&amp;id=5264222&amp;auto=0&amp;height=66&quot;&gt;&lt;/iframe&gt;&lt;br&gt;本多RuRu-美丽心情&lt;/p&gt;
&lt;p&gt;start启动独立窗口;call调用另一个脚本;cmd启动Windows命令解释器的一个新实例.&lt;/p&gt;
    
    </summary>
    
      <category term="windows cmd" scheme="http://www.wuchenxu.com/categories/windows-cmd/"/>
    
    
      <category term="cmd" scheme="http://www.wuchenxu.com/tags/cmd/"/>
    
      <category term="start" scheme="http://www.wuchenxu.com/tags/start/"/>
    
      <category term="call" scheme="http://www.wuchenxu.com/tags/call/"/>
    
  </entry>
  
  <entry>
    <title>windows command(16):组合命令 &amp; |</title>
    <link href="http://www.wuchenxu.com/2016/04/01/windows-cmd-16-compound-command/"/>
    <id>http://www.wuchenxu.com/2016/04/01/windows-cmd-16-compound-command/</id>
    <published>2016-04-01T06:29:48.000Z</published>
    <updated>2016-04-01T06:29:48.000Z</updated>
    
    <content type="html"><![CDATA[<p>组合命令(Compound Command)主要有<code>&amp;</code> <code>&amp;&amp;</code> <code>|</code> <code>||</code>等。</p>
<a id="more"></a>
<h1 id="顺序执行多个命令-amp"><a href="#顺序执行多个命令-amp" class="headerlink" title="顺序执行多个命令&amp;"></a>顺序执行多个命令<code>&amp;</code></h1><p><code>cmd1 &amp; cmd2 [&amp; cmd3 ...]</code><br>相对于把多个语句并到一行了。<br><figure class="highlight bat"><figcaption><span>不管前一个命令是否执行成功，都会执行下一个命令</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">dir</span> <span class="title">A</span> &amp; <span class="title">echo</span> <span class="title">hello</span></span></div><div class="line"> 驱动器 <span class="title">D</span> 中的卷是 <span class="title">LENOVO</span></div><div class="line"> 卷的序列号是 0005-42<span class="title">D7</span></div><div class="line"></div><div class="line"> <span class="title">D</span>:\<span class="title">test</span>\<span class="title">test</span> 的目录</div><div class="line"></div><div class="line">找不到文件</div><div class="line"><span class="title">hello</span></div></pre></td></tr></table></figure></p>
<h1 id="执行失败则不执行下一条语句-amp-amp"><a href="#执行失败则不执行下一条语句-amp-amp" class="headerlink" title="执行失败则不执行下一条语句&amp;&amp;"></a>执行失败则不执行下一条语句<code>&amp;&amp;</code></h1><p><code>cmd1 &amp;&amp; cmd2 [&amp;&amp; cmd3 ...]</code><br><figure class="highlight bat"><figcaption><span>echo hello不能被执行</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">dir</span> <span class="title">A</span> &amp;&amp; <span class="title">echo</span> <span class="title">hello</span></span></div><div class="line"> 驱动器 <span class="title">D</span> 中的卷是 <span class="title">LENOVO</span></div><div class="line"> 卷的序列号是 0005-42<span class="title">D7</span></div><div class="line"></div><div class="line"> <span class="title">D</span>:\<span class="title">test</span>\<span class="title">test</span> 的目录</div><div class="line"></div><div class="line">找不到文件</div></pre></td></tr></table></figure></p>
<p><code>dir A &amp;&amp; echo hello</code>相当于<br><figure class="highlight dos"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">dir</span> A</div><div class="line"><span class="keyword">if</span> <span class="variable">%ERRORLEVEL%</span> <span class="keyword">equ</span> <span class="number">0</span> (<span class="built_in">echo</span> hello)</div></pre></td></tr></table></figure></p>
<h1 id="执行成功则不执行下一条语句"><a href="#执行成功则不执行下一条语句" class="headerlink" title="执行成功则不执行下一条语句||"></a>执行成功则不执行下一条语句<code>||</code></h1><p><code>cmd1 || cmd2 [|| cmd3 ...]</code><br><figure class="highlight bat"><figcaption><span>dir A不能被执行</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">echo</span> <span class="title">hello</span> || <span class="title">dir</span> <span class="title">A</span></span></div><div class="line"><span class="title">hello</span></div></pre></td></tr></table></figure></p>
<p><code>echo hello || dir A</code>相当于<br><figure class="highlight dos"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">echo</span> hello</div><div class="line"><span class="keyword">if</span> <span class="variable">%ERRORLEVEL%</span> <span class="keyword">neq</span> <span class="number">0</span> (<span class="built_in">dir</span> A)</div></pre></td></tr></table></figure></p>
<h1 id="管道"><a href="#管道" class="headerlink" title="管道|"></a>管道<code>|</code></h1><p><code>cmd1 | cmd2 [| cmd3 ...]</code><br>将前一条命令的执行结果作为后一条命令的参数。<br><code>netstat -n -p tcp|find &quot;:80&quot;</code></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;组合命令(Compound Command)主要有&lt;code&gt;&amp;amp;&lt;/code&gt; &lt;code&gt;&amp;amp;&amp;amp;&lt;/code&gt; &lt;code&gt;|&lt;/code&gt; &lt;code&gt;||&lt;/code&gt;等。&lt;/p&gt;
    
    </summary>
    
      <category term="windows cmd" scheme="http://www.wuchenxu.com/categories/windows-cmd/"/>
    
    
      <category term="cmd" scheme="http://www.wuchenxu.com/tags/cmd/"/>
    
  </entry>
  
</feed>
