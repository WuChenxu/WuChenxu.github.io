<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>功不唐捐，玉汝于成</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.wuchenxu.com/"/>
  <updated>2016-09-28T12:44:27.000Z</updated>
  <id>http://www.wuchenxu.com/</id>
  
  <author>
    <name>WuChenxu</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>TeX(1):简介</title>
    <link href="http://www.wuchenxu.com/2016/09/28/TeX-1-introduction/"/>
    <id>http://www.wuchenxu.com/2016/09/28/TeX-1-introduction/</id>
    <published>2016-09-28T12:44:27.000Z</published>
    <updated>2016-09-28T12:44:27.000Z</updated>
    
    <content type="html"><![CDATA[<p>本文介绍了在Windows下TeX的安装及使用。</p>
<a id="more"></a>
<h1 id="What"><a href="#What" class="headerlink" title="What"></a>What</h1><p>TeX是一个排版软件，LaTeX从TeX衍生而来，命令较为简单.</p>
<blockquote>
<p>TeX provides an unusual macro language; The TeX macro language has been successfully used to extend TeX to, for instance, LaTeX and ConTeXt.<br>When TeX “compiles” a document, it follows (from the user’s point of view) the following processing sequence: Macros → TeX → Driver → Output.</p>
</blockquote>
<h1 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h1><p>安装<a href="http://www.ctex.org/" target="_blank" rel="external">CTeX</a>，CTeX打包了MiTeX以及其他一些宏包、字体等。</p>
<p>直接用原生的latex需要加载宏包才能支持汉字，否则编译会报错：<code>Invalid UTF-8 byte or sequence at line 4 replaced by U+FFFD.</code></p>
<p>XeTeX就是为了支持多语言而重新设计的新一代TeX系统，这意味着在XeTeX眼里，中文文档和英文文档再没有任何区别，无需额外的外挂包；而且，XeTeX原生支持系统字体，这意味着我们无需再额外编译字体，系统安装了什么字体，我们就能使用什么字体。</p>
<p>使用xelatex编译，不需要写<code>\begin{CJK*}{UTF8}{song}</code></p>
<figure class="highlight tex"><figcaption><span>example.tex</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">\<span class="name">documentclass</span><span class="string">[12pt,a4paper]</span><span class="string">&#123;article&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">&#123;fontspec&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">setmainfont</span><span class="string">&#123;Microsoft YaHei&#125;</span></span></div><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;document&#125;</span></span></div><div class="line">Hello,World！</div><div class="line">这是一个测试的中文文档！</div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">&#123;document&#125;</span></span></div></pre></td></tr></table></figure>
<p>用notepad输入，<code>保存成utf-8格式</code>, 后用xelatex example.tex编译，生成pdf。</p>
<h1 id="Usage-amp-Warning"><a href="#Usage-amp-Warning" class="headerlink" title="Usage &amp; Warning"></a>Usage &amp; Warning</h1><ul>
<li><p><code>\fontsize{字号}{基本行距}</code><br>其中字号和基本行距两个参数是纯数字，单位是 pt。命令也在 \selectfont 后生效。</p>
</li>
<li><p><code>Overfull \hbox (76.35919pt too wide) in paragraph at lines 11--15</code>找到对应的提示行，然后将最后几个单词任意截断，然后另起一行即可。</p>
</li>
<li><p><code>texdoc fontspec</code>可以查看宏包<code>fontspec</code>的帮助文档。</p>
</li>
<li><p><code>fc-list</code>可以查看电脑中安装了哪些字体；<code>fc-list ;lang=zh-cn</code>可以查看安装了哪些中文字体。</p>
</li>
</ul>
<p>附上一个台湾版cwTeX中的示例(台湾的明体应该对应大陆的宋体)<br><figure class="highlight tex"><figcaption><span>TeX</span><a href="/downloads/code/TeX/排版的原则.tex">view raw</a></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div></pre></td><td class="code"><pre><div class="line"><span class="comment">%!TEX TS-program = xelatex</span></div><div class="line"><span class="comment">%!TEX encoding = UTF-8 Unicode</span></div><div class="line"><span class="tag">\<span class="name">documentclass</span><span class="string">[12pt,a4paper]</span><span class="string">{article}</span></span></div><div class="line"><span class="tag">\<span class="name">XeTeXlinebreaklocale</span></span> "zh"     					<span class="comment">% 针对中文进行断行</span></div><div class="line"><span class="tag">\<span class="name">XeTeXlinebreakskip</span> = <span class="number">0pt</span></span> plus 1pt minus 0.1pt  <span class="comment">% 给予TeX断行一定自由度</span></div><div class="line"><span class="tag">\<span class="name">linespread</span><span class="string">{1.5}</span></span>                                <span class="comment">% 1.5倍行距</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">{fontspec,xunicode,}</span></span></div><div class="line"><span class="comment">%\usepackage{xltxtra}</span></div><div class="line"><span class="tag">\<span class="name">usepackage</span><span class="string">[small, sf]</span><span class="string">{titlesec}</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">youyuan</span><span class="string">{YouYuan}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">hwcaiyun</span><span class="string">{STCaiyun}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">hwhupo</span><span class="string">{STHupo}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">yaoti</span><span class="string">{FZYaoTi}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">kaiti</span><span class="string">{KaiTi}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">xsong</span><span class="string">{NSimSun}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">hwsong</span><span class="string">{STSong}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">yahei</span><span class="string">{Microsoft YaHei}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">fangsong</span><span class="string">{FangSong}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">song</span><span class="string">{SimSun}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">hwfangsong</span><span class="string">{STFangsong}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">weiti</span><span class="string">{STXinwei}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">heiti</span><span class="string">{SimHei}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">hwxingkai</span><span class="string">{STXingkai}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">hwlishu</span><span class="string">{STLiti}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">zhongsong</span><span class="string">{STZhongsong}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">shuti</span><span class="string">{FZShuTi}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">hwhei</span><span class="string">{STXihei}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">lishu</span><span class="string">{LiSu}</span></span> </div><div class="line"><span class="tag">\<span class="name">newfontfamily</span></span><span class="tag">\<span class="name">hwkai</span><span class="string">{STKaiti}</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">setmainfont</span><span class="string">[BoldFont={SimHei}]</span><span class="string">{SimSun}</span></span></div><div class="line"><span class="tag">\<span class="name">setsansfont</span><span class="string">[Mapping=tex-text]</span><span class="string">{Microsoft Sans Serif}</span></span> </div><div class="line"><span class="tag">\<span class="name">setmonofont</span><span class="string">{Courier New}</span></span></div><div class="line"></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">titleformat*</span><span class="string">{\section}</span><span class="string">{\youyuan}</span></span></div><div class="line"><span class="tag">\<span class="name">titleformat*</span><span class="string">{\subsection}</span><span class="string">{\youyuan}</span></span></div><div class="line"></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">{document}</span></span></div><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">{center}</span></span></div><div class="line">{<span class="tag">\<span class="name">Large</span></span> <span class="tag">\<span class="name">textbf</span></span> {排版的原则}}<span class="tag">\<span class="name">\</span><span class="string">[5mm]</span></span> <span class="comment">%指令末端之 \\ 為換行指令 , 指示本行結束 ; 緊接著的 [5mm] 則設定行距加大 0.5 公分。 </span></div><div class="line">吴聪敏<span class="tag">\<span class="name">\</span><span class="string">[2mm]</span></span></div><div class="line">2005.03</div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">{center}</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">bigskip</span></span> <span class="comment">%定行内距,medskip-half,small-qua</span></div><div class="line"><span class="tag">\<span class="name">fontsize</span><span class="string">{12}</span><span class="string">{20pt}</span></span><span class="tag">\<span class="name">selectfont</span></span> <span class="comment">%字体 12pt,行距20pt</span></div><div class="line">排版的目的是为了有效率地表达你的意见，</div><div class="line">让读者容易阅读或吸收。</div><div class="line"></div><div class="line"><span class="tag">\<span class="name">section</span><span class="string">{常见的排版错误}</span></span></div><div class="line">桌上排版系统普及之后，每个人都能排版，</div><div class="line">但这不表示每个人都能做出好的排版。</div><div class="line">关于字体之使用，常见的错误如下：</div><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">{itemize}</span></span> <span class="comment">%无序，不带标号</span></div><div class="line"><span class="tag">\<span class="name">item</span></span> 楷体与仿宋体等可用于标题,</div><div class="line">  但不宜用于正文；正文请使用明体。</div><div class="line"><span class="tag">\<span class="name">item</span></span> 较长之英文段落应使用纯英文字体编排，</div><div class="line">  如 Times New Roman，Book Antiquarian 等。</div><div class="line">  使用中文之细明体或楷体之英文字体，</div><div class="line">  结果保证惨不忍睹。</div><div class="line"><span class="tag">\<span class="name">item</span></span> 欲强调之字词，请使用粗黑体或圆体，勿加底线。</div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">{itemize}</span></span></div><div class="line">Windows 系统提供明体与楷体两种字体，</div><div class="line">许多人只能使用楷体排版正文或投影片，</div><div class="line">但排版效果奇差无比。</div><div class="line"></div><div class="line">除了字体之外，版面应注意之细节如下：</div><div class="line"><span class="tag">\<span class="name">begin</span><span class="string">{enumerate}</span></span><span class="tag">\<span class="name">itemsep</span>=<span class="number">-2pt</span></span> <span class="comment">%带编号，設定使項目之間距比內定值小 2pt</span></div><div class="line"><span class="tag">\<span class="name">item</span></span> 文章前端请写下题目，作者名字，日期。</div><div class="line"><span class="tag">\<span class="name">item</span></span> 版面之一行勿拉太长，行距不应过小。</div><div class="line"><span class="tag">\<span class="name">item</span></span> 标点符号不应出现在一行前端（避头点）。</div><div class="line"><span class="tag">\<span class="name">item</span></span> 标示注解之号码在句子标点符号之后。</div><div class="line"><span class="tag">\<span class="name">item</span></span> 章节编号使用阿拉伯数字，如1.1节，2.3节；</div><div class="line">避免使用“一、二节”，或“二、三节”。</div><div class="line"><span class="tag">\<span class="name">item</span></span> 阿拉伯数字“1,534”比“一千五百三十四”清楚。</div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">{enumerate}</span></span></div><div class="line"></div><div class="line"><span class="tag">\<span class="name">section</span><span class="string">{图形与表格}</span></span></div><div class="line">图形与表格是表现咨询的有效方法，</div><div class="line">但是图表作的不好，无法达到目标。</div><div class="line">常见的表格排版错误是格线太多，</div><div class="line">但另一个问题是单位不清楚。</div><div class="line">大型图表应移于版面的上方或下方，而非排版于段落中间。</div><div class="line">非万不得已，表格勿拆为两页。</div><div class="line"></div><div class="line"><span class="tag">\<span class="name">par</span></span><span class="tag">\<span class="name">vfill</span></span><span class="tag">\<span class="name">jobname</span></span>.tex <span class="comment">%par新起段落 vfill將段落之間距儘可能拉大</span></div><div class="line"><span class="tag">\<span class="name">end</span><span class="string">{document}</span></span></div></pre></td></tr></table></figure></p>
<p>效果<br><a href="/2016/09/28/TeX-1-introduction/排版的原则.pdf" title="排版的原则.pdf">排版的原则.pdf</a></p>
<p>References:</p>
<ol>
<li><a href="https://en.wikipedia.org/wiki/TeX" target="_blank" rel="external">TeX</a></li>
<li><a href="https://en.wikipedia.org/wiki/LaTeX" target="_blank" rel="external">LaTex</a></li>
<li><a href="http://blog.jqian.net/post/xelatex.html" target="_blank" rel="external">使用xelatex生成中文pdf</a></li>
<li><a href="https://en.wikibooks.org/wiki/LaTeX/Errors_and_Warnings" target="_blank" rel="external">LaTeX/Errors and Warnings</a></li>
<li><a href="http://homepage.ntu.edu.tw/~ntut019/cwtex/cxbook3.pdf" target="_blank" rel="external">cwTeX排版系統</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文介绍了在Windows下TeX的安装及使用。&lt;/p&gt;
    
    </summary>
    
      <category term="TeX" scheme="http://www.wuchenxu.com/categories/TeX/"/>
    
    
      <category term="TeX" scheme="http://www.wuchenxu.com/tags/TeX/"/>
    
  </entry>
  
  <entry>
    <title>windows command(18):打印目录结构tree</title>
    <link href="http://www.wuchenxu.com/2016/09/17/windows-cmd-18-tree/"/>
    <id>http://www.wuchenxu.com/2016/09/17/windows-cmd-18-tree/</id>
    <published>2016-09-17T06:30:33.000Z</published>
    <updated>2016-09-17T06:30:33.000Z</updated>
    
    <content type="html"><![CDATA[<p>tree命令用来打印文件夹目录结构。</p>
<a id="more"></a>
<h1 id="tree打印目录结构"><a href="#tree打印目录结构" class="headerlink" title="tree打印目录结构"></a>tree打印目录结构</h1><figure class="highlight bat"><figcaption><span>tree打印目录结构</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">tree</span>&gt;<span class="title">tree</span></span></div><div class="line">卷 <span class="title">LENOVO</span> 的文件夹 <span class="title">PATH</span> 列表</div><div class="line">卷序列号为 0005-42<span class="title">D7</span></div><div class="line"><span class="title">D</span>:.</div><div class="line">├─<span class="title">node1</span></div><div class="line">└─<span class="title">node2</span></div></pre></td></tr></table></figure>
<h1 id="tree-F打印目录结构及每个目录下的文件"><a href="#tree-F打印目录结构及每个目录下的文件" class="headerlink" title="tree /F打印目录结构及每个目录下的文件"></a>tree /F打印目录结构及每个目录下的文件</h1><p>显示每个目录的文件名<br><figure class="highlight bat"><figcaption><span>tree</span><a href="/F">link</a></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">tree</span>&gt;<span class="title">tree</span> /<span class="title">F</span></span></div><div class="line">卷 <span class="title">LENOVO</span> 的文件夹 <span class="title">PATH</span> 列表</div><div class="line">卷序列号为 0005-42<span class="title">D7</span></div><div class="line"><span class="title">D</span>:.</div><div class="line">│  <span class="title">tree.txt</span></div><div class="line">│</div><div class="line">├─<span class="title">node1</span></div><div class="line">│      <span class="title">node1.txt</span></div><div class="line">│</div><div class="line">└─<span class="title">node2</span></div><div class="line">        <span class="title">node2.txt</span></div></pre></td></tr></table></figure></p>
<h1 id="打印结果输出到到文件"><a href="#打印结果输出到到文件" class="headerlink" title="打印结果输出到到文件"></a>打印结果输出到到文件</h1><p><code>tree /f &gt; file.txt</code></p>
<p>References:<br><figure class="highlight plain"><figcaption><span>help tree</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">以图形显示驱动器或路径的文件夹结构。</div><div class="line"></div><div class="line">TREE [drive:][path] [/F] [/A]</div><div class="line"></div><div class="line">   /F   显示每个文件夹中文件的名称。</div><div class="line">   /A   使用 ASCII 字符，而不使用扩展字符。</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;tree命令用来打印文件夹目录结构。&lt;/p&gt;
    
    </summary>
    
      <category term="windows cmd" scheme="http://www.wuchenxu.com/categories/windows-cmd/"/>
    
    
      <category term="cmd" scheme="http://www.wuchenxu.com/tags/cmd/"/>
    
      <category term="tree" scheme="http://www.wuchenxu.com/tags/tree/"/>
    
  </entry>
  
  <entry>
    <title>Rust语言(2):Cargo</title>
    <link href="http://www.wuchenxu.com/2016/09/13/Rust-lang-2-Cargo/"/>
    <id>http://www.wuchenxu.com/2016/09/13/Rust-lang-2-Cargo/</id>
    <published>2016-09-13T13:59:05.000Z</published>
    <updated>2016-09-13T13:59:05.000Z</updated>
    
    <content type="html"><![CDATA[<p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=2&id=29431066&auto=0&height=66"></iframe><br>陈粒-奇妙能力歌</p>
<p>本文介绍了Rust自带的编译和包管理工具Cargo.</p>
<a id="more"></a>
<h1 id="Carog的存在意义"><a href="#Carog的存在意义" class="headerlink" title="Carog的存在意义"></a>Carog的存在意义</h1><blockquote>
<p>Cargo is a tool that allows Rust projects to declare their various dependencies and ensure that you’ll always get a repeatable build.</p>
<p>To accomplish this goal, Cargo does four things:</p>
<ul>
<li>Introduces two metadata files with various bits of project information.</li>
<li>Fetches and builds your project’s dependencies.</li>
<li>Invokes rustc or another build tool with the correct parameters to build your project.</li>
<li>Introduces conventions to make working with Rust projects easier.</li>
</ul>
</blockquote>
<h1 id="新建项目"><a href="#新建项目" class="headerlink" title="新建项目"></a>新建项目</h1><p>执行命令<code>cargo new hello_world --bin</code>可以生成一个可用cargo来编译运行的目录结构。<br><code>--bin</code>表示生成可执行文件。<br><figure class="highlight plain"><figcaption><span>Cargo目录结构</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">│  Cargo.toml</div><div class="line">│</div><div class="line">├─src</div><div class="line">│      main.rs</div></pre></td></tr></table></figure></p>
<p>Cargo.toml是TOML(Tom’s Obvious, Minimal Language)格式的配置文件：<br><figure class="highlight toml"><figcaption><span>Cargo.toml</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="section">[package]</span></div><div class="line"></div><div class="line"><span class="attr">name</span> = <span class="string">"hello_world"</span></div><div class="line"><span class="attr">version</span> = <span class="string">"0.0.1"</span></div><div class="line"><span class="attr">authors</span> = [ <span class="string">"Your name &lt;you@example.com&gt;"</span> ]</div></pre></td></tr></table></figure></p>
<p>main.rs存放Rust文件:<br><figure class="highlight rust"><figcaption><span>hello_world.rs</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</div><div class="line">    <span class="built_in">println!</span>(<span class="string">"Hello, world!"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="编译运行"><a href="#编译运行" class="headerlink" title="编译运行"></a>编译运行</h1><p><code>cargo build</code>编译。<br><code>cargo run</code>文件未改动则直接运行，文件改动则重新编译并运行。<br><code>cargo build --release</code>编译release版本，带优化功能。</p>
<h1 id="包管理"><a href="#包管理" class="headerlink" title="包管理"></a>包管理</h1><h2 id="从crates-io增加依赖库"><a href="#从crates-io增加依赖库" class="headerlink" title="从crates.io增加依赖库"></a>从crates.io增加依赖库</h2><p>在Cargo.toml增加<br><figure class="highlight toml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="section">[dependencies]</span></div><div class="line"><span class="attr">time</span> = <span class="string">"0.1.12"</span></div></pre></td></tr></table></figure></p>
<h2 id="从github增加依赖库"><a href="#从github增加依赖库" class="headerlink" title="从github增加依赖库"></a>从github增加依赖库</h2><figure class="highlight toml"><figcaption><span>Cargo.toml</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="section">[dependencies]</span></div><div class="line"><span class="attr">rand</span> = &#123; git = <span class="string">"https://github.com/rust-lang-nursery/rand.git"</span> &#125;</div></pre></td></tr></table></figure>
<p>References:</p>
<ol>
<li><a href="http://doc.crates.io/guide.html" target="_blank" rel="external">Cargo office website</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=330 height=86 src=&quot;http://music.163.com/outchain/player?type=2&amp;id=29431066&amp;auto=0&amp;height=66&quot;&gt;&lt;/iframe&gt;&lt;br&gt;陈粒-奇妙能力歌&lt;/p&gt;
&lt;p&gt;本文介绍了Rust自带的编译和包管理工具Cargo.&lt;/p&gt;
    
    </summary>
    
      <category term="Rust" scheme="http://www.wuchenxu.com/categories/Rust/"/>
    
    
      <category term="Rust" scheme="http://www.wuchenxu.com/tags/Rust/"/>
    
      <category term="Cargo" scheme="http://www.wuchenxu.com/tags/Cargo/"/>
    
  </entry>
  
  <entry>
    <title>Rust语言(1):hello world</title>
    <link href="http://www.wuchenxu.com/2016/09/12/Rust-lang-1-hello-world/"/>
    <id>http://www.wuchenxu.com/2016/09/12/Rust-lang-1-hello-world/</id>
    <published>2016-09-12T13:56:20.000Z</published>
    <updated>2016-09-12T13:56:20.000Z</updated>
    
    <content type="html"><![CDATA[<img src="/2016/09/12/Rust-lang-1-hello-world/rust-logo-blk.svg" alt="rust-logo-blk.svg" title="">
<p>本文介绍了Rust语言在Windows下的环境安装，编译，执行。</p>
<a id="more"></a>
<h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>Rust是静态强类型的编译型语言，非动态解释型语言，无垃圾回收。</p>
<blockquote>
<p>Rust is a systems programming language that runs blazingly fast, prevents segfaults, and guarantees thread safety. </p>
<ul>
<li>zero-cost abstractions</li>
<li>move semantics</li>
<li>guaranteed memory safety</li>
<li>threads without data races</li>
<li>trait-based generics</li>
<li>pattern matching</li>
<li>type inference</li>
<li>minimal runtime</li>
<li>efficient C bindings</li>
</ul>
</blockquote>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>进入<a href="www.rust-lang.org">Rust官网</a>,首页会根据当前操作系统推荐下载安装包。<br>支持Windows(GUN ABI 与 MSVC ABI)、Linux以及Mac。<br>安装完成后，在命令行输入<code>rustc</code>，如果有输出说明安装成功。</p>
<h1 id="编写代码"><a href="#编写代码" class="headerlink" title="编写代码"></a>编写代码</h1><figure class="highlight rust"><figcaption><span>hello.rs</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</div><div class="line">    <span class="built_in">println!</span>(<span class="string">"Hello, world!"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">rustc</span> <span class="selector-tag">hello</span><span class="selector-class">.rs</span></div></pre></td></tr></table></figure>
<h1 id="执行"><a href="#执行" class="headerlink" title="执行"></a>执行</h1><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;hello<span class="selector-class">.exe</span></div><div class="line">Hello, world!</div></pre></td></tr></table></figure>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><p><a href="https://github.com/WuChenxu/Rust/tree/master/01_HelloWorld" target="_blank" rel="external">Code</a></p>
<p>References:</p>
<ol>
<li><a href="https://doc.rust-lang.org/book/getting-started.html" target="_blank" rel="external">Rust official manual</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;img src=&quot;/2016/09/12/Rust-lang-1-hello-world/rust-logo-blk.svg&quot; alt=&quot;rust-logo-blk.svg&quot; title=&quot;&quot;&gt;
&lt;p&gt;本文介绍了Rust语言在Windows下的环境安装，编译，执行。&lt;/p&gt;
    
    </summary>
    
      <category term="Rust" scheme="http://www.wuchenxu.com/categories/Rust/"/>
    
    
      <category term="Rust" scheme="http://www.wuchenxu.com/tags/Rust/"/>
    
  </entry>
  
  <entry>
    <title>MathJax(2):Markdown中使用MathJax</title>
    <link href="http://www.wuchenxu.com/2016/09/08/MathJax-2-using-in-hexo-markdown/"/>
    <id>http://www.wuchenxu.com/2016/09/08/MathJax-2-using-in-hexo-markdown/</id>
    <published>2016-09-08T12:44:27.000Z</published>
    <updated>2016-08-08T12:44:27.000Z</updated>
    
    <content type="html"><![CDATA[<p>本文介绍了在Markdown文件中插入MathJax的方法。</p>
<a id="more"></a>
<h1 id="直接插入"><a href="#直接插入" class="headerlink" title="直接插入"></a>直接插入</h1><p>在html中插入以下代码，则可以用<code>$ $</code>来插入行内公式，<code>$$ $$</code>来插入单独成行的公式。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/x-mathjax-config"</span>&gt;</span><span class="actionscript"></span></div><div class="line">MathJax.Hub.Config(&#123;</div><div class="line">  tex2jax: &#123;inlineMath: [[<span class="string">'$'</span>,<span class="string">'$'</span>], [<span class="string">'\\('</span>,<span class="string">'\\)'</span>]]&#125;</div><div class="line">&#125;);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">"path-to-mathjax/MathJax.js?config=TeX-AMS_CHTML"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>这是一个完整的可以工作的<a href="https://cdn.mathjax.org/mathjax/latest/test/sample-tex.html" target="_blank" rel="external">例子</a><br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>MathJax TeX Test Page<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/x-mathjax-config"</span>&gt;</span><span class="actionscript"></span></div><div class="line">  MathJax.Hub.Config(&#123;tex2jax: &#123;inlineMath: [[<span class="string">'$'</span>,<span class="string">'$'</span>], [<span class="string">'\\('</span>,<span class="string">'\\)'</span>]]&#125;&#125;);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">async</span></span></div><div class="line">  <span class="attr">src</span>=<span class="string">"https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML"</span>&gt;<span class="undefined"></span></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">When $a \ne 0$, there are two solutions to \(ax^2 + bx + c = 0\) and they are</div><div class="line">$$x = &#123;-b \pm \sqrt&#123;b^2-4ac&#125; \over 2a&#125;.$$</div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>在使用Markdown然后生成html的时候，Markdown有一些符号有特殊含义会被解析器转换成html的tag，如: 斜体<code>*被斜体的文字*</code>,斜体<code>_被斜体的文字_</code>等。<br>这样<code>$x _ i = y _ i$</code> 或者 <code>$x * y = y * x$</code><br>会被解析成 $x <em> i=y </em> i$ 或者 $x <em> y = y </em> x$.<br>我们可以使用转义符号<code>\</code>来避免Markdown解析器对<code>* *</code>或<code>_ _</code>的转换。<br>写成<code>$x \_ i = y \_ i$ $x * y = y * x$</code>,就可以正确解析为$x_i = y_i$ $x * y = y * x$.</p>
<p>此方法优点: 简单，不需要插件辅助; 缺点: 不是原生的Tex语法。</p>
<h1 id="使用插件"><a href="#使用插件" class="headerlink" title="使用插件"></a>使用插件</h1><p>对于不同的markdown解析器应该会有不同的解决方案，如Hexo可以使用<a href="https://github.com/akfish/hexo-math" target="_blank" rel="external">hexo-math插件</a><br>hexo-math支持MathJax和KaTex.<br>使用标签则可以不需要对特殊符号进行转义。<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&#123;% math %&#125;</div><div class="line">\begin&#123;aligned&#125;</div><div class="line">\dot&#123;x&#125; &amp; = \sigma(y-x) \\</div><div class="line">\dot&#123;y&#125; &amp; = \rho x - y - xz \\</div><div class="line">\dot&#123;z&#125; &amp; = -\beta z + xy</div><div class="line">\end&#123;aligned&#125;</div><div class="line">&#123;% endmath %&#125;</div></pre></td></tr></table></figure></p>
<p>此方法优点: 原生Tex语法; 缺点: 复杂，需要插件支持.</p>
<p>Reference:</p>
<ol>
<li><a href="http://docs.mathjax.org/en/latest/start.html" target="_blank" rel="external">TeX and LaTeX input</a></li>
<li><a href="https://github.com/akfish/hexo-math" target="_blank" rel="external">hexo-math插件</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文介绍了在Markdown文件中插入MathJax的方法。&lt;/p&gt;
    
    </summary>
    
      <category term="MathJax" scheme="http://www.wuchenxu.com/categories/MathJax/"/>
    
      <category term="tool" scheme="http://www.wuchenxu.com/categories/MathJax/tool/"/>
    
    
      <category term="Markdown" scheme="http://www.wuchenxu.com/tags/Markdown/"/>
    
      <category term="MathJax" scheme="http://www.wuchenxu.com/tags/MathJax/"/>
    
  </entry>
  
  <entry>
    <title>软件滤波算法的频率响应</title>
    <link href="http://www.wuchenxu.com/2016/07/12/software-filtering-algorithm-and-frequency-response/"/>
    <id>http://www.wuchenxu.com/2016/07/12/software-filtering-algorithm-and-frequency-response/</id>
    <published>2016-07-11T17:03:42.000Z</published>
    <updated>2016-07-11T17:03:42.000Z</updated>
    
    <content type="html"><![CDATA[<p>本文从一种软件滤波算法切入，深入理解了滤波算法的频率响应。</p>
<a id="more"></a>
<h1 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h1><p>单片机大多资源小，算法占用的资源越小越好，有一种占用很小资源的算法，具体公式如下：<br>$$  y[n] =y[n-1]- {y[n-1] \over m}+x[n]$$<br>其中：x[n]为采样值，y[n]为滤波后的值，y[n-1]为上一次滤波值，m是放电比例(最好选2的幂次数，可用单片机移位)初始化时如果是跟踪一段时间后使用，可以是任何值，否则可以用采样值乘m初始化。</p>
<h1 id="推导"><a href="#推导" class="headerlink" title="推导"></a>推导</h1><p>如果写成这样<br>$$  y[n] = x[n] + (1- {1 \over m}) * y[n-1]$$  (1)<br>然后令 $y[n]=m * u[n]$,得<br>$$  n * u[n] = x[n] + (1- {1 \over m}) * m * u[n-1]$$<br>两边同时除m，得<br>$$  u[n] = {1 \over m} * x[n] + (1- {1 \over m})  * u[n-1]$$<br>令 $ \alpha = {1 \over m}$，得<br>$$ u[n] = \alpha * x[n] + (1-\alpha) * u[n-1]$$<br>这是典型的无限脉冲滤波器(IIR),也是最简单的低通滤波器。</p>
<p>如果直接由式(1)推导z变换<br>$$ Y(z) = X(z) + (1 - {1 \over m}) * z^{-1}Y(z)$$<br>$$ H(z) = {Y(z) \over {X(z)}} = {1 \over {1-(1-{1 \over m}})z^{-1}}$$<br>令$a={1-{1\over m}}$,<br>$$ H(z)={1\over{1-az^{-1}} }$$</p>
<h1 id="IIR-vs-FIR"><a href="#IIR-vs-FIR" class="headerlink" title="IIR vs FIR"></a>IIR vs FIR</h1><p>IIR(Infinit Impulse Response)滤波器的<a href="https://en.wikipedia.org/wiki/Impulse_response" target="_blank" rel="external">单位脉冲响应</a>是无限长的，如例子中$H(z)={1\over{1-az^{-1}} }$时间域的序列是<br>$$ y[n] = x[n] + ay[n-1]$$<br>根据单位脉冲响应的定义，即$x[n]= \delta[n]=\begin{cases} {1, n=0}\\{0, n \ne 0}\end{cases}$时的y[n]:<br>$$ y[0] = x[0] + ay[-1] = 1, if n&lt;0 let y[0] = 0$$<br>$$ y[1] = x[1] + ay[0] = 0 + a = a $$<br>$$ y[2] = x[2] + ay[1] = 0 + a * a = a^2 $$<br>…<br>$$ y[n] = x[n] + ay[n-1] = a^n $$<br>所以其单位脉冲响应为$h[n]=a^n u[n]$,其中$u[n]=\begin{cases} {1, n \ge 0 }\\{0, n&lt;0}\end{cases}$,可以看到$n\ge 0$时，h[n]每一项都不为0,也就是无限脉冲响应的含义.IIR滤波器时间域的输出，由输入和之前的输出共同决定，是有反馈的。</p>
<p>FIR(Finit Impulse Response)滤波器的单位脉冲响应是有限长的，其时间域的输出只有输入决定，是无反馈的。如，<a href="https://en.wikipedia.org/wiki/Moving_average" target="_blank" rel="external">滑动平均滤波器</a>,时间域$y[n]={1 \over  3}x[n]+{1 \over  3}x[n-1]+{1 \over  3}x[n-2]$，z变换为$H(z)={1\over3}+{1\over3}z^{-1}+{1\over3}z^{-2}$,单位脉冲响应为$h[n]={1\over3}\delta[n]+{1\over3}\delta[n-1]+{1\over3}\delta[n-2]$,其中$\delta[n]=\begin{cases} {1, n=0}\\{0, n \ne 0}\end{cases}$。</p>
<h1 id="频率响应"><a href="#频率响应" class="headerlink" title="频率响应"></a>频率响应</h1><h1 id="时间常数"><a href="#时间常数" class="headerlink" title="时间常数"></a>时间常数</h1><p>如果将$y[n]=\alpha x[n]+(1-\alpha)y[n-1]$视作<a href="https://en.wikipedia.org/wiki/Low-pass_filter" target="_blank" rel="external">RC低通滤波器</a><br><img src="/2016/07/12/software-filtering-algorithm-and-frequency-response/250px-1st_Order_Lowpass_Filter_RC.svg.png" alt="250px-1st_Order_Lowpass_Filter_RC.svg.png" title=""><br>$$v_{in}(t)-v_{out}(t)=RC{dv_{out} \over dt}$$</p>
<p>设$v_{in}$序列为($x_{1}, x_{2}, …, x_{n}$), $v_{out}$序列为($y_{1}, y_{2}, …, y_{n}$).上面的公式近似于<br>$$x_{i} - y_{i} = RC {y_{i}-y_{i-1}}\over{\Delta T}$$</p>
<p>$$ y_{i} = x_{i}({\Delta T}\over {RC+\Delta T}) + y_{i-1}({RC}\over{RC+\Delta T})$$</p>
<p>令 $\alpha = \frac{\Delta T}{RC+\Delta T}$,<br>$$ y_{i} = {\alpha x_{i} + (1-\alpha) y_{i-1}}$$<br>其中, $\alpha = \frac{\Delta T}{RC+\Delta T}$<br>可以得出时间常数$RC={\Delta T}\frac{1-\alpha} {\alpha}$.<br>考虑到$f_c= {1 \over{2\pi RC}}$，<br>$$\alpha = \frac{2 \pi \Delta T f_c}{2\pi \Delta T f_c+1}$$<br>$$f_c=\frac{\alpha} {(1-\alpha)2\pi\Delta T}$$</p>
<p>Reference:</p>
<ol>
<li><a href="http://bbs.21ic.com/icview-170880-1-1.html" target="_blank" rel="external">一个非常适合单片机的滤波算法</a></li>
<li><a href="https://en.wikipedia.org/wiki/Low-pass_filter" target="_blank" rel="external">Low pass filter in wiki</a></li>
<li><a href="https://en.wikipedia.org/wiki/Exponential_smoothing" target="_blank" rel="external">指数平滑</a></li>
<li><a href="https://en.wikipedia.org/wiki/Infinite_impulse_response" target="_blank" rel="external">IIR</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文从一种软件滤波算法切入，深入理解了滤波算法的频率响应。&lt;/p&gt;
    
    </summary>
    
      <category term="filter" scheme="http://www.wuchenxu.com/categories/filter/"/>
    
    
      <category term="software" scheme="http://www.wuchenxu.com/tags/software/"/>
    
      <category term="filter" scheme="http://www.wuchenxu.com/tags/filter/"/>
    
  </entry>
  
  <entry>
    <title>matplotlib(1):简介</title>
    <link href="http://www.wuchenxu.com/2016/07/01/matplotlib-1-introduction/"/>
    <id>http://www.wuchenxu.com/2016/07/01/matplotlib-1-introduction/</id>
    <published>2016-07-01T13:11:08.000Z</published>
    <updated>2016-07-01T13:11:08.000Z</updated>
    
    <content type="html"><![CDATA[<p><a href="http://matplotlib.org/" target="_blank" rel="external">matplotlib</a>是一个python语言绘图库，本文介绍了matplotlib的安装和基本使用方法。</p>
<a id="more"></a>
<h1 id="what-is-matplotlib"><a href="#what-is-matplotlib" class="headerlink" title="what is matplotlib"></a>what is matplotlib</h1><blockquote>
<p>matplotlib is a python 2D plotting library which produces publication quality figures in a variety of hardcopy formats and interactive environments across platforms. matplotlib can be used in python scripts, the python and ipython shell (ala MATLAB®* or Mathematica®†), web application servers, and six graphical user interface toolkits.</p>
</blockquote>
<ul>
<li>ala-法语，in the style/manner of</li>
<li>aka-also known as</li>
</ul>
<h1 id="install"><a href="#install" class="headerlink" title="install"></a>install</h1><ol>
<li>python<br>参考<a href="http://www.python.org/download/" target="_blank" rel="external">python download</a><br>本文安装的版本是2.7.8.</li>
<li>matplotlib<br>参考<a href="http://matplotlib.org/users/installing.html" target="_blank" rel="external">matplotlib install</a><br>这里介绍windows的安装过程：<br>通过python的包管理工具<a href="https://pypi.python.org/pypi/pip" target="_blank" rel="external">pip</a>安装.<br>如果网络稳定，cmd下执行<code>pip install matplotlib</code>即可，pip会自动安装依赖包；<br>如果网络不稳定，需要下载<a href="http://pypi.python.org/pypi/matplotlib/" target="_blank" rel="external">matplotlib的pip安装包</a>，以及下列matplotlib依赖的安装包(注意版本兼容):<br><a href="https://pypi.python.org/pypi/setuptools/" target="_blank" rel="external">setuptools</a><br><a href="https://pypi.python.org/pypi/numpy/" target="_blank" rel="external">numpy</a><br><a href="https://pypi.python.org/pypi/python-dateutil/" target="_blank" rel="external">python-dateutil</a><br><a href="https://pypi.python.org/pypi/pytz" target="_blank" rel="external">pytz</a><br><a href="https://pypi.python.org/pypi/pyparsing/" target="_blank" rel="external">pyparsing</a><br><a href="https://pypi.python.org/pypi/Cycler" target="_blank" rel="external">cycler</a><br>然后<code>pip install /path/to/package/package-name.whl</code>来逐个安装。<br>安装完成后，在python命令行下执行<code>import matplotlib</code>，如果没有出错说明安装成功。<br>我的安装版本：<img src="/2016/07/01/matplotlib-1-introduction/matplotlib_version.png" alt="matplotlib_version.png" title="">
</li>
</ol>
<h1 id="play"><a href="#play" class="headerlink" title="play"></a>play</h1><p>通过numpy生成数据，pyplot来绘图。</p>
<h2 id="simple-plot"><a href="#simple-plot" class="headerlink" title="simple plot"></a>simple plot</h2><figure class="highlight python"><figcaption><span> simple_plot</span><a href="/downloads/code/python_matplot_simple_plot/simple_plot.py">view raw</a></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"><span class="keyword">import</span> scipy.signal <span class="keyword">as</span> signal</div><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line"><span class="keyword">import</span> pylab <span class="keyword">as</span> pl</div><div class="line"></div><div class="line"><span class="comment"># 某个均衡滤波器的参数</span></div><div class="line">a = np.array([<span class="number">1.0</span>, <span class="number">-1.947463016918843</span>, <span class="number">0.9555873701383931</span>])</div><div class="line">b = np.array([<span class="number">0.9833716591860479</span>, <span class="number">-1.947463016918843</span>, <span class="number">0.9722157109523452</span>])</div><div class="line"></div><div class="line"><span class="comment"># 44.1kHz， 1秒的频率扫描波</span></div><div class="line">t = np.arange(<span class="number">0</span>, <span class="number">0.5</span>, <span class="number">1</span>/<span class="number">44100.0</span>)</div><div class="line">x= signal.chirp(t, f0=<span class="number">10</span>, t1 = <span class="number">0.5</span>, f1=<span class="number">1000.0</span>)</div><div class="line">y = signal.lfilter(b, a, x)</div><div class="line">ns = range(<span class="number">10</span>, <span class="number">1100</span>, <span class="number">100</span>)</div><div class="line">err = []</div><div class="line"></div><div class="line"><span class="keyword">for</span> n <span class="keyword">in</span> ns:</div><div class="line">    <span class="comment"># 计算脉冲响应</span></div><div class="line">    impulse = np.zeros(n, dtype=np.float)</div><div class="line">    impulse[<span class="number">0</span>] = <span class="number">1</span></div><div class="line">    h = signal.lfilter(b, a, impulse)</div><div class="line">    </div><div class="line">    <span class="comment"># 直接FIR滤波器的输出</span></div><div class="line">    y2 = signal.lfilter(h, <span class="number">1</span>, x)</div><div class="line">   </div><div class="line">    <span class="comment"># 输出y和y2之间的误差</span></div><div class="line">    err.append(np.sum((y-y2)**<span class="number">2</span>))</div><div class="line"></div><div class="line"><span class="comment"># 绘图</span></div><div class="line">pl.figure(figsize=(<span class="number">8</span>,<span class="number">4</span>))</div><div class="line">pl.semilogy(ns , err, <span class="string">"-o"</span>)</div><div class="line">pl.xlabel(<span class="string">u"脉冲响应长度"</span>)</div><div class="line">pl.ylabel(<span class="string">u"FIR模拟IIR的误差"</span>)</div><div class="line">pl.show()</div></pre></td></tr></table></figure>
<p>result:</p>
<img src="/2016/07/01/matplotlib-1-introduction/simple_plot.png" alt="simple_plot.png" title="">
<p>Reference：</p>
<ol>
<li><a href="http://www.open-open.com/lib/view/open1393488232380.html" target="_blank" rel="external">Python-Matplotlib安装及简单使用</a></li>
<li><a href="http://www.cnblogs.com/vamei/archive/2012/09/17/2689798.html" target="_blank" rel="external">绘图: Python matplotlib简介</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;http://matplotlib.org/&quot;&gt;matplotlib&lt;/a&gt;是一个python语言绘图库，本文介绍了matplotlib的安装和基本使用方法。&lt;/p&gt;
    
    </summary>
    
      <category term="python" scheme="http://www.wuchenxu.com/categories/python/"/>
    
      <category term="tool" scheme="http://www.wuchenxu.com/categories/python/tool/"/>
    
    
      <category term="python" scheme="http://www.wuchenxu.com/tags/python/"/>
    
      <category term="matplotlib" scheme="http://www.wuchenxu.com/tags/matplotlib/"/>
    
  </entry>
  
  <entry>
    <title>MathJax(1):简介</title>
    <link href="http://www.wuchenxu.com/2016/06/28/MathJax-1-introduction/"/>
    <id>http://www.wuchenxu.com/2016/06/28/MathJax-1-introduction/</id>
    <published>2016-06-28T14:17:45.000Z</published>
    <updated>2016-06-28T14:17:45.000Z</updated>
    
    <content type="html"><![CDATA[<p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=2&id=25906124&auto=0&height=66"></iframe><br>陈奕迅-不要说话<br>$$f(a)= {1 \over 2\pi i}\oint_\gamma {f(z) \over x-a}dz$$<br>MathJax入门简介，主要翻译MathJax的入门介绍。</p>
<a id="more"></a>
<h1 id="what-is-MathJax"><a href="#what-is-MathJax" class="headerlink" title="what is MathJax?"></a>what is MathJax?</h1><p><a href="https://www.mathjax.org" target="_blank" rel="external">MathJax</a>官网口号</p>
<blockquote>
<p>Beautiful math in all browsers<br>A JavaScript display engine for mathematics that works in all browsers.</p>
</blockquote>
<p>MathJax是为了解决浏览器中数学公式的显示问题而产生的一种解决方案，通过CSS或者SVG(而不是图片或Flash)来生成数学公式，可以实现无损缩放，可以拷贝到Office、LaTeX、wiki等；其输入形式可以是MathML、TeX或者ASCIImath，输出是HTML+CSS、SVG或者MathML.</p>
<h1 id="how-to-learn"><a href="#how-to-learn" class="headerlink" title="how to learn?"></a>how to learn?</h1><p>官网<a href="https://www.mathjax.org" target="_blank" rel="external">MathJax</a>是最权威的。<br>推荐使用<a href="https://stackedit.io/" target="_blank" rel="external">StackEdit</a>学习MathJax的语法，它支持Markdown和MathJax.</p>
<h1 id="how-to-use-MathJax"><a href="#how-to-use-MathJax" class="headerlink" title="how to use MathJax"></a>how to use MathJax</h1><h2 id="link-to-MathJax"><a href="#link-to-MathJax" class="headerlink" title="link to MathJax"></a>link to MathJax</h2><h3 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a>CDN</h3><p>将<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">async</span></span></div><div class="line">  <span class="attr">src</span>=<span class="string">"https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"</span>&gt;<span class="undefined"></span></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>放到<code>&lt;head&gt;</code>或者<code>&lt;body&gt;</code>里，然后就是在网页中放上TeX, MathML, 或者 AsciiMath 格式的数学公式就可以通过MathJax来渲染显示了。</p>
<p>其原理是：网页中包含的JS脚本会使网页从CDN服务器加载最新版本的MathJax，识别数学公式(Tex,MathML或者AsciiMath标记的)后输出HTML+CSS来显示数学公式。</p>
<h3 id="local"><a href="#local" class="headerlink" title="local"></a>local</h3><p>下载MathJax到本地，然后link到网页。<br>方法参见<a href="http://docs.mathjax.org/en/latest/start.html#installing-your-own-copy-of-mathjax" target="_blank" rel="external">Installing Your Own Copy of MathJax</a>.</p>
<h2 id="Put-mathematics-in-web-pages"><a href="#Put-mathematics-in-web-pages" class="headerlink" title="Put mathematics in web pages"></a>Put mathematics in web pages</h2><p>MathJax支持三种标记方法：Tex/LaTex、MathML和AsciiMath，可以<a href="http://docs.mathjax.org/en/latest/configuration.html" target="_blank" rel="external">配置</a>来告诉MathJax解析哪一种或哪几种标记方法，三种标记方法可以混用。</p>
<h3 id="Tex-LaTex"><a href="#Tex-LaTex" class="headerlink" title="Tex/LaTex"></a>Tex/LaTex</h3><p>默认的displayed公式分隔符有<code>$$...$$</code>和<code>\[…\]</code>,而默认的inline公式分隔符为<code>\(...\)</code>,当然这些都是可以自定义的，具体配置请<a href="http://docs.mathjax.org/en/latest/start.html#tex-and-latex-input" target="_blank" rel="external">参考文档</a>。由于修改了配置文件，我们在下文中使用<code>$...$</code>作为inline公式分隔符。<br>看一下效果：<br><figure class="highlight tex"><figcaption><span>Tex</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">When <span class="formula">$a <span class="tag">\<span class="name">ne</span></span> 0$</span>, there are two solutions to <span class="tag">\<span class="name">(</span></span>ax^2 + bx + c = 0<span class="tag">\<span class="name">)</span></span> and they are</div><div class="line"><span class="formula">$$x = &#123;-b <span class="tag">\<span class="name">pm</span></span> <span class="tag">\<span class="name">sqrt</span><span class="string">&#123;b^2-4ac&#125;</span></span> <span class="tag">\<span class="name">over</span></span> 2a&#125;.$$</span></div></pre></td></tr></table></figure></p>
<p>When $a \ne 0$, there are two solutions to (ax^2 + bx + c = 0) and they are<br>$$x = {-b \pm \sqrt{b^2-4ac} \over 2a}.$$</p>
<h3 id="MathML"><a href="#MathML" class="headerlink" title="MathML"></a>MathML</h3><p>效果参见<a href="https://cdn.mathjax.org/mathjax/latest/test/sample-mml.html" target="_blank" rel="external">sample-mml.html</a></p>
<h3 id="AsciiMath"><a href="#AsciiMath" class="headerlink" title="AsciiMath"></a>AsciiMath</h3><p>效果参见<a href="https://cdn.mathjax.org/mathjax/latest/test/sample-asciimath.html" target="_blank" rel="external">sample-asciimath.html</a></p>
<p>Reference:</p>
<ol>
<li><a href="http://docs.mathjax.org/en/latest/start.html" target="_blank" rel="external">Getting Started</a></li>
<li><a href="http://mlworks.cn/posts/introduction-to-mathjax-and-latex-expression/" target="_blank" rel="external">Mathjax与LaTex公式简介</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=330 height=86 src=&quot;http://music.163.com/outchain/player?type=2&amp;id=25906124&amp;auto=0&amp;height=66&quot;&gt;&lt;/iframe&gt;&lt;br&gt;陈奕迅-不要说话&lt;br&gt;$$f(a)= {1 \over 2\pi i}\oint_\gamma {f(z) \over x-a}dz$$&lt;br&gt;MathJax入门简介，主要翻译MathJax的入门介绍。&lt;/p&gt;
    
    </summary>
    
      <category term="MathJax" scheme="http://www.wuchenxu.com/categories/MathJax/"/>
    
      <category term="tool" scheme="http://www.wuchenxu.com/categories/MathJax/tool/"/>
    
    
      <category term="MathJax" scheme="http://www.wuchenxu.com/tags/MathJax/"/>
    
      <category term="LaTex" scheme="http://www.wuchenxu.com/tags/LaTex/"/>
    
  </entry>
  
  <entry>
    <title>湿度humidity</title>
    <link href="http://www.wuchenxu.com/2016/06/01/humidity/"/>
    <id>http://www.wuchenxu.com/2016/06/01/humidity/</id>
    <published>2016-06-01T08:12:30.000Z</published>
    <updated>2016-06-01T08:12:30.000Z</updated>
    
    <content type="html"><![CDATA[<img src="/2016/06/01/humidity/humidity.jpg" alt="humidity.jpg" title="">
<p>湿度(Humidity)用来表征空气中水蒸气(water vapor)的含量。有三种计量方式：绝对湿度(Absolute Humidity)、相对湿度(Relative Hmidity)、比湿度(Specific Humidity)。</p>
<a id="more"></a>
<h1 id="绝对湿度"><a href="#绝对湿度" class="headerlink" title="绝对湿度"></a>绝对湿度</h1><p>绝对湿度指每立方米空气中所含水蒸气的质量，即水蒸气密度，单位为g/m<sup>3</sup>。<br>随着温度和气压的变化，绝对湿度会变化。<br>温度越高，绝对湿度越小。<br>气压越高，绝对湿度越大。</p>
<h1 id="相对湿度"><a href="#相对湿度" class="headerlink" title="相对湿度"></a>相对湿度</h1><p>相对湿度(RH)指空气中水蒸气压与相同情况下饱和水蒸气压的百分比，表示形式如90%RH。百分比越高，湿度越大。<br>相对湿度能反映降水的可能性，所以常用在天气预报中。<br>在炎热的夏天天气，相对湿度的上升会阻碍皮肤的汗水蒸发，从而增加人类的体感温度。</p>
<h1 id="比湿度"><a href="#比湿度" class="headerlink" title="比湿度"></a>比湿度</h1><p>一团由干空气和水汽组成的湿空气中的水汽质量与湿空气的总质量之比。若湿空气与外界无质量交换，且无相变，则比湿保持不变。以g/g或g/kg为单位，通常大气中比湿都小于40g/kg。</p>
<p>Reference:</p>
<ol>
<li><a href="https://en.wikipedia.org/wiki/Humidity" target="_blank" rel="external">Humidity wiki</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;img src=&quot;/2016/06/01/humidity/humidity.jpg&quot; alt=&quot;humidity.jpg&quot; title=&quot;&quot;&gt;
&lt;p&gt;湿度(Humidity)用来表征空气中水蒸气(water vapor)的含量。有三种计量方式：绝对湿度(Absolute Humidity)、相对湿度(Relative Hmidity)、比湿度(Specific Humidity)。&lt;/p&gt;
    
    </summary>
    
      <category term="气象" scheme="http://www.wuchenxu.com/categories/%E6%B0%94%E8%B1%A1/"/>
    
    
      <category term="humidity" scheme="http://www.wuchenxu.com/tags/humidity/"/>
    
  </entry>
  
  <entry>
    <title>Hamming Distance</title>
    <link href="http://www.wuchenxu.com/2016/05/12/hamming-distance/"/>
    <id>http://www.wuchenxu.com/2016/05/12/hamming-distance/</id>
    <published>2016-05-12T13:32:44.000Z</published>
    <updated>2016-05-12T13:32:44.000Z</updated>
    
    <content type="html"><![CDATA[<p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=2&id=208933&auto=0&height=66"></iframe><br>蔡健雅-达尔文</p>

<p>Hamming distance is a metric to measure difference between two strings of equal length or two data with same length(eg. two binary data with same bits).</p>
<a id="more"></a>
<h1 id="Definiton"><a href="#Definiton" class="headerlink" title="Definiton"></a>Definiton</h1><blockquote>
<p> In information theory, the <a href="https://en.wikipedia.org/wiki/Hamming_distance" target="_blank" rel="external">Hamming distance</a> between two strings of equal length is the number of positions at which the corresponding symbols are different. In another way, it measures the minimum number of substitutions required to change one string into the other, or the minimum number of errors that could have transformed one string into the other.</p>
</blockquote>
<h1 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h1><h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><p>the Hamming distance between below two strings is 8.<br>“Hello,world”<br>“world,hello”<br> 11101011101   | 8<br> there is a <a href="https://github.com/doukremt/distance" target="_blank" rel="external">python distance lib</a> which can calculate hamming distance.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> distance <span class="keyword">as</span> ds</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>ds.hamming(<span class="string">"hello,world"</span>, <span class="string">"world,hello"</span>)</div><div class="line"><span class="number">8</span></div></pre></td></tr></table></figure></p>
<h2 id="Data"><a href="#Data" class="headerlink" title="Data"></a>Data</h2><p>hamming distance between<br><code>1011101</code> and<br><code>1001001</code><br>is 2.</p>
<p>Here data can be binary or octonary or decimal or hexadecimal, but the two data should be with same length in same system.</p>
<h1 id="Application"><a href="#Application" class="headerlink" title="Application"></a>Application</h1><h2 id="Coding-theory"><a href="#Coding-theory" class="headerlink" title="Coding theory"></a>Coding theory</h2><p>In coding theory, hamming distance is used as error detecting and error correcting codes(ECC).<br>a code with minimum Hamming distance d between its codewords can detect at most d-1 errors and can correct (d-1)/2 errors.The latter number is also called the error-correcting capability of the code.</p>
<p>For error detecting, hammind distance is usde to evaluate the performace of algorithm.<br>Let’s say, there are fixed-length data d, then we count a checksum C using differet algorithm. then we have data(d, C). we can get the minimum hamming distance d in set(d, C). so the algorithm can detect d-1 errors and correct (d-1)/2 errors.<br>CRC is generally better than modular sum.</p>
<p>For error correcting, there is a kind of ECC named as <a href="https://en.wikipedia.org/wiki/Hamming_code" target="_blank" rel="external">Hamming Code</a>.</p>
<h2 id="Programming"><a href="#Programming" class="headerlink" title="Programming"></a>Programming</h2><p>In softwar programming, there is a simple method to protect data from unexpected bit inverse(eg. soft error).<br>By define enum type like this:<br><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> </div><div class="line">&#123;</div><div class="line">    Red  = <span class="number">0x0F</span>,</div><div class="line">    Blue = <span class="number">0x33</span>,</div><div class="line">    Green = <span class="number">0x3C</span></div><div class="line">&#125;Color;</div></pre></td></tr></table></figure></p>
<p>the minimum hamming distance between <code>Red</code>,<code>Blue</code> and <code>Green</code> is 4.</p>
<h1 id="Generate-data-set-with-min-hamming-distance"><a href="#Generate-data-set-with-min-hamming-distance" class="headerlink" title="Generate data set with min hamming distance"></a>Generate data set with min hamming distance</h1><figure class="highlight python"><figcaption><span> min_hamming_distance_set</span><a href="/downloads/code/hamming_distance/min_hamming_distance_set.py">view raw</a></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#coding:utf-8 </span></div><div class="line"><span class="comment">#author: www.wuchenxu.com</span></div><div class="line"><span class="comment">#versin: 1.0</span></div><div class="line"><span class="comment">#date: 2016-05-18</span></div><div class="line"></div><div class="line"><span class="comment">#https://github.com/doukremt/distance</span></div><div class="line"><span class="keyword">import</span> distance <span class="keyword">as</span> ds</div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">convertDec2BinStr</span><span class="params">(num)</span>:</span></div><div class="line">	<span class="keyword">return</span> <span class="string">'{0:08b}'</span>.format(num)</div><div class="line">	</div><div class="line">	</div><div class="line">data= [<span class="number">0</span>]</div><div class="line">min_hamming_distance = <span class="number">4</span></div><div class="line"></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">255</span>):</div><div class="line">	counter = <span class="number">0</span></div><div class="line">	<span class="keyword">for</span> j <span class="keyword">in</span> data:</div><div class="line">		<span class="keyword">if</span> ds.hamming(convertDec2BinStr(j), convertDec2BinStr(i)) &gt;= min_hamming_distance:</div><div class="line">			counter +=<span class="number">1</span></div><div class="line">		<span class="keyword">if</span> counter == len(data):</div><div class="line">			data.append(i)</div><div class="line">			</div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> data:</div><div class="line">	<span class="keyword">print</span> convertDec2BinStr(i)+<span class="string">'(0x{0:02x})'</span>.format(i)</div></pre></td></tr></table></figure>
<p><code>data=[0]</code> defines the first number of data set; <code>min_hamming_distance</code> defines the min hanmming distance of the data set.</p>
<figure class="highlight plain"><figcaption><span>result</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">00000000(0x00)</div><div class="line">00001111(0x0f)</div><div class="line">00110011(0x33)</div><div class="line">00111100(0x3c)</div><div class="line">01010101(0x55)</div><div class="line">01011010(0x5a)</div><div class="line">01100110(0x66)</div><div class="line">01101001(0x69)</div><div class="line">10010110(0x96)</div><div class="line">10011001(0x99)</div><div class="line">10100101(0xa5)</div><div class="line">10101010(0xaa)</div><div class="line">11000011(0xc3)</div><div class="line">11001100(0xcc)</div><div class="line">11110000(0xf0)</div></pre></td></tr></table></figure>
<p>Reference：</p>
<ol>
<li><a href="https://en.wikipedia.org/wiki/Hamming_distance" target="_blank" rel="external">Hamming distance in wiki</a> </li>
<li><a href="https://en.wikipedia.org/wiki/Hamming_code" target="_blank" rel="external">Hamming Code</a></li>
<li><a href="https://github.com/doukremt/distance" target="_blank" rel="external">python distance lib</a></li>
<li><a href="https://docs.python.org/2/library/string.html#format-examples" target="_blank" rel="external">python format</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=330 height=86 src=&quot;http://music.163.com/outchain/player?type=2&amp;id=208933&amp;auto=0&amp;height=66&quot;&gt;&lt;/iframe&gt;&lt;br&gt;蔡健雅-达尔文&lt;/p&gt;

&lt;p&gt;Hamming distance is a metric to measure difference between two strings of equal length or two data with same length(eg. two binary data with same bits).&lt;/p&gt;
    
    </summary>
    
      <category term="distance" scheme="http://www.wuchenxu.com/categories/distance/"/>
    
      <category term="coding" scheme="http://www.wuchenxu.com/categories/distance/coding/"/>
    
    
      <category term="hamming-distance" scheme="http://www.wuchenxu.com/tags/hamming-distance/"/>
    
  </entry>
  
  <entry>
    <title>个人博客搭建hexo+github(8):独立域名绑定github</title>
    <link href="http://www.wuchenxu.com/2016/04/28/Static-Blog-hexo-github-8-binding-domain/"/>
    <id>http://www.wuchenxu.com/2016/04/28/Static-Blog-hexo-github-8-binding-domain/</id>
    <published>2016-04-28T11:43:26.000Z</published>
    <updated>2016-04-28T11:43:26.000Z</updated>
    
    <content type="html"><![CDATA[<p>独立域名绑定到github的方法。</p>
<p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=2&id=26423116&auto=0&height=66"></iframe><br>attraction - 小泽正澄</p>
<a id="more"></a>
<h1 id="购买域名"><a href="#购买域名" class="headerlink" title="购买域名"></a>购买域名</h1><p>我是在<a href="https://wanwang.aliyun.com/" target="_blank" rel="external">万网</a>购买的，现在已经被阿里云收归旗下，比<a href="https://www.godaddy.com/" target="_blank" rel="external">狗爹</a>便宜，第一年45块。</p>
<h1 id="DNS设置"><a href="#DNS设置" class="headerlink" title="DNS设置"></a>DNS设置</h1><p>我使用的是国内的<a href="https://www.dnspod.cn" target="_blank" rel="external">DNSPod</a>。</p>
<h2 id="DNS服务器"><a href="#DNS服务器" class="headerlink" title="DNS服务器"></a>DNS服务器</h2><p>域名解析的DNS服务器设置为SNSPod的地址<br><img src="/2016/04/28/Static-Blog-hexo-github-8-binding-domain/DNS_server.png" alt="DNS_server.png" title=""></p>
<h2 id="DNS记录"><a href="#DNS记录" class="headerlink" title="DNS记录"></a>DNS记录</h2><p>github Pages和coding Pages同时部署了，DNSPod的一个好处是可以将国内和国内的访问使用不同路线。<br>国内的访问路由到github,国外的路由到coding.<br>几种常用的记录类型：<br><figure class="highlight dns"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">A</span>记录：地址记录，用来指定域名的IPv4地址（如：<span class="number">8.8.8.8</span>），如果需要将域名指向一个IP地址，就需要添加<span class="keyword">A</span>记录。</div><div class="line"><span class="keyword">CNAME</span>： 如果需要将域名指向另一个域名，再由另一个域名提供ip地址，就需要添加<span class="keyword">CNAME</span>记录。</div><div class="line"><span class="keyword">NS</span>：域名服务器记录，如果需要把子域名交给其他DNS服务商解析，就需要添加<span class="keyword">NS</span>记录。</div></pre></td></tr></table></figure></p>
<p>NS记录为不可修改的域名服务器记录。<br>A记录用来指定<a href="https://help.github.com/articles/troubleshooting-custom-domains/" target="_blank" rel="external">github pages的IP地址</a>，可不设置。<br>CNAME记录需要指定<code>www</code>和<code>@</code>两种主机记录（域名前缀）。<br>github的CNAME指向<code>username.github.io</code> 或者 <code>github.map.fastly.net</code>;<br>coding的CNAME指向<code>pages.coding.me</code>。</p>
<img src="/2016/04/28/Static-Blog-hexo-github-8-binding-domain/DNSPod_set.png" alt="DNSPod_set.png" title="">
<h1 id="CNAME重定向"><a href="#CNAME重定向" class="headerlink" title="CNAME重定向"></a>CNAME重定向</h1><p>在hexo/source目录下新建名为<code>CNAME</code>的文件，没有后缀。<br>内容为域名，我这里是<code>wuchenxu.com</code>，没有<code>www</code>的。<br>coding需要手动设置绑定域名<br><img src="/2016/04/28/Static-Blog-hexo-github-8-binding-domain/CNAME_CodingPages.png" alt="CNAME_CodingPages.png" title=""></p>
<h1 id="启用"><a href="#启用" class="headerlink" title="启用"></a>启用</h1><p>重新部署<code>hexo d -g</code>后，可以通过独立域名访问博客啦。</p>
<h1 id="查看访问源"><a href="#查看访问源" class="headerlink" title="查看访问源"></a>查看访问源</h1><p>可以看到访问的是coding Pages。<br><img src="/2016/04/28/Static-Blog-hexo-github-8-binding-domain/ping_domain.png" alt="ping_domain.png" title=""></p>
<h1 id="Debug"><a href="#Debug" class="headerlink" title="Debug"></a>Debug</h1><p>发现用移动网络可以访问，但是连接家里的广电宽带就是访问不了，出现<code>DNS_PROBE_FINISHED_NXDOMAIN</code>错误。<br>通过<a href="http://bbs.guanjia.qq.com/forum.php?mod=viewthread&amp;tid=2092936&amp;extra=" target="_blank" rel="external">手动设置DNS</a>后问题解决。<br><img src="/2016/04/28/Static-Blog-hexo-github-8-binding-domain/PC_set_DNS_Server.png" alt="PC_set_DNS_Server.png" title=""></p>
<p>References:</p>
<ol>
<li><a href="http://www.jianshu.com/p/1d427e888dda" target="_blank" rel="external">域名和github绑定的问题</a></li>
<li><a href="http://cnfeat.com/blog/2014/05/10/how-to-build-a-blog/" target="_blank" rel="external">如何搭建一个独立博客</a></li>
<li><a href="http://iread.io/2015/09/hexo-guide-4/" target="_blank" rel="external">将独立域名与GitHub Pages的空间绑定</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;独立域名绑定到github的方法。&lt;/p&gt;
&lt;p&gt;&lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=330 height=86 src=&quot;http://music.163.com/outchain/player?type=2&amp;id=26423116&amp;auto=0&amp;height=66&quot;&gt;&lt;/iframe&gt;&lt;br&gt;attraction - 小泽正澄&lt;/p&gt;
    
    </summary>
    
      <category term="hexo" scheme="http://www.wuchenxu.com/categories/hexo/"/>
    
    
      <category term="hexo" scheme="http://www.wuchenxu.com/tags/hexo/"/>
    
      <category term="github" scheme="http://www.wuchenxu.com/tags/github/"/>
    
      <category term="DNS" scheme="http://www.wuchenxu.com/tags/DNS/"/>
    
  </entry>
  
  <entry>
    <title>python脚本嵌入bat脚本执行</title>
    <link href="http://www.wuchenxu.com/2016/04/26/python-srcipt-embedded-in-bat/"/>
    <id>http://www.wuchenxu.com/2016/04/26/python-srcipt-embedded-in-bat/</id>
    <published>2016-04-26T13:58:37.000Z</published>
    <updated>2016-04-26T13:58:37.000Z</updated>
    
    <content type="html"><![CDATA[<p>通过bat脚本的注释<code>rem</code>以及python脚本的注释<code>&quot;&quot;&quot;</code>实现将python脚本嵌入到bat脚本中执行。</p>
<a id="more"></a>
<p>将python语句嵌入到bat脚本中，直接执行bat脚本的最终结果是执行python脚本。<br>python脚本可以接收bat脚本的命令行输入参数。<br>主要用到三个技巧：</p>
<ol>
<li>bat的注释<code>rem</code></li>
<li>python的多行注释<code>&quot;&quot;&quot;</code></li>
<li>bat的goto label</li>
</ol>
<figure class="highlight bat"><figcaption><span> PythonScriptInBat</span><a href="/downloads/code/PythonScriptInBat/pythonScriptInBat.bat">view raw</a></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">rem = """</span></div><div class="line">@<span class="built_in">echo</span> off</div><div class="line">python.exe -d %<span class="number">0</span> %*</div><div class="line"><span class="built_in">pause</span></div><div class="line"><span class="keyword">goto</span> endofPython """</div><div class="line"> </div><div class="line">import os</div><div class="line">import sys</div><div class="line"><span class="built_in">print</span> "hello,python "</div><div class="line"><span class="built_in">print</span> "pwd: " + os.getcwd()</div><div class="line"></div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, len(sys.argv)):</div><div class="line">	<span class="built_in">print</span> "argv", i, sys.argv[i]</div><div class="line"><span class="comment"> </span></div><div class="line"> </div><div class="line"> </div><div class="line"> </div><div class="line">rem = """</div><div class="line">:endofPython """</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;通过bat脚本的注释&lt;code&gt;rem&lt;/code&gt;以及python脚本的注释&lt;code&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/code&gt;实现将python脚本嵌入到bat脚本中执行。&lt;/p&gt;
    
    </summary>
    
      <category term="windows cmd" scheme="http://www.wuchenxu.com/categories/windows-cmd/"/>
    
      <category term="python" scheme="http://www.wuchenxu.com/categories/windows-cmd/python/"/>
    
    
      <category term="python" scheme="http://www.wuchenxu.com/tags/python/"/>
    
      <category term="cmd" scheme="http://www.wuchenxu.com/tags/cmd/"/>
    
  </entry>
  
  <entry>
    <title>windows command(17):多线程 start call cmd</title>
    <link href="http://www.wuchenxu.com/2016/04/01/windows-cmd-17-multiple-thread/"/>
    <id>http://www.wuchenxu.com/2016/04/01/windows-cmd-17-multiple-thread/</id>
    <published>2016-04-01T06:32:28.000Z</published>
    <updated>2016-06-12T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=2&id=5264222&auto=0&height=66"></iframe><br>本多RuRu-美丽心情</p>
<p>start启动独立窗口;call调用另一个脚本;cmd启动Windows命令解释器的一个新实例.</p>
<a id="more"></a>
<h1 id="start"><a href="#start" class="headerlink" title="start"></a>start</h1><p>启动一个单独的窗口以运行指定的程序或命令。<br><figure class="highlight bat"><figcaption><span>以最大化方式启动画图板</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">start</span> /max mspaint</div></pre></td></tr></table></figure></p>
<figure class="highlight bat"><figcaption><span>启动记事本，并打开a.txt，在关闭记事本之前cmd等待</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">start</span> /wait notepad a.txt</div></pre></td></tr></table></figure>
<figure class="highlight bat"><figcaption><span>打开指定目录</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">start</span> "" d:\test\"</div></pre></td></tr></table></figure>
<figure class="highlight bat"><figcaption><span>打开当前目录</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">start</span>.</div></pre></td></tr></table></figure>
<h1 id="call"><a href="#call" class="headerlink" title="call"></a>call</h1><p>从一个批处理程序调用另一个批处理程序，并且不终止父批处理程序。call 命令接受用作调用目标的标签。如果在脚本或批处理文件外使用 Call，它将不会在命令行起作用。<br>调用格式：<br><code>call :label arg</code><br>被调用程序语法：<br><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">:<span class="keyword">label</span><span class="bash"></span></div><div class="line">cmd1</div><div class="line">...</div><div class="line">cmdn</div><div class="line">goto :eof</div></pre></td></tr></table></figure></p>
<p>被调用程序中，参数%0 指标签:label.</p>
<h2 id="例1：父子程序都被执行"><a href="#例1：父子程序都被执行" class="headerlink" title="例1：父子程序都被执行"></a>例1：父子程序都被执行</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">@echo off</div><div class="line">call :label</div><div class="line"></div><div class="line"></div><div class="line">:label</div><div class="line">echo %0 %1</div><div class="line">goto :eof</div></pre></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt;test<span class="selector-class">.bat</span> hello</div><div class="line">:<span class="selector-tag">label</span></div><div class="line">test<span class="selector-class">.bat</span> hello</div></pre></td></tr></table></figure>
<h2 id="例2-加法"><a href="#例2-加法" class="headerlink" title="例2:加法"></a>例2:加法</h2><figure class="highlight dos"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">@<span class="built_in">echo</span> off</div><div class="line"><span class="built_in">set</span> sum=<span class="number">0</span></div><div class="line"><span class="keyword">call</span> :add sum <span class="number">10</span> <span class="number">20</span> <span class="number">30</span></div><div class="line"><span class="built_in">echo</span> result: <span class="variable">%sum%</span></div><div class="line"><span class="keyword">goto</span> :eof</div><div class="line"></div><div class="line">:add</div><div class="line"><span class="comment">rem arg1 is return value</span></div><div class="line"><span class="built_in">set</span> /a <span class="variable">%1=%</span><span class="number">1</span>+%<span class="number">2</span></div><div class="line"><span class="built_in">shift</span> /<span class="number">2</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">not</span> "%<span class="number">2</span>"=="" <span class="keyword">goto</span> add</div><div class="line"><span class="keyword">goto</span> :eof</div></pre></td></tr></table></figure>
<p><code>:label</code>一样，call后面是必须是<code>:label</code>，而goto则可以是<code>label</code>或者<code>:label</code>。</p>
<h1 id="cmd"><a href="#cmd" class="headerlink" title="cmd"></a>cmd</h1><p>启动 Windows 命令解释器的一个新实例</p>
<p>Reference:<br><figure class="highlight plain"><figcaption><span>help start</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div></pre></td><td class="code"><pre><div class="line">启动一个单独的窗口以运行指定的程序或命令。</div><div class="line"></div><div class="line">START [&quot;title&quot;] [/D path] [/I] [/MIN] [/MAX] [/SEPARATE | /SHARED]</div><div class="line">      [/LOW | /NORMAL | /HIGH | /REALTIME | /ABOVENORMAL | /BELOWNORMAL]</div><div class="line">      [/NODE &lt;NUMA node&gt;] [/AFFINITY &lt;hex affinity mask&gt;] [/WAIT] [/B]</div><div class="line">      [command/program] [parameters]</div><div class="line"></div><div class="line">    &quot;title&quot;     在窗口标题栏中显示的标题。</div><div class="line">    path        启动目录。</div><div class="line">    B           启动应用程序，但不创建新窗口。</div><div class="line">                应用程序已忽略 ^C 处理。除非应用程序</div><div class="line">                启用 ^C 处理，否则 ^Break 是唯一可以中断</div><div class="line">                该应用程序的方式。</div><div class="line">    I           新的环境将是传递</div><div class="line">                给 cmd.exe 的原始环境，而不是当前环境。</div><div class="line">    MIN         以最小化方式启动窗口。</div><div class="line">    MAX         以最大化方式启动窗口。</div><div class="line">    SEPARATE    在单独的内存空间中启动 16 位 Windows 程序。</div><div class="line">    SHARED      在共享内存空间中启动 16 位 Windows 程序。</div><div class="line">    LOW         在 IDLE 优先级类中启动应用程序。</div><div class="line">    NORMAL      在 NORMAL 优先级类中启动应用程序。</div><div class="line">    HIGH        在 HIGH 优先级类中启动应用程序。</div><div class="line">    REALTIME    在 REALTIME 优先级类中启动应用程序。</div><div class="line">    ABOVENORMAL 在 ABOVENORMAL 优先级类中启动应用程序。</div><div class="line">    BELOWNORMAL 在 BELOWNORMAL 优先级类中启动应用程序。</div><div class="line">    NODE        将首选非一致性内存结构(NUMA)节点指定为</div><div class="line">                十进制整数。</div><div class="line">    AFFINITY    将处理器关联掩码指定为十六进制数字。</div><div class="line">                进程被限制在这些处理器上运行。</div><div class="line"></div><div class="line">                将 /AFFINITY 和 /NODE 结合使用时，会对关联掩码</div><div class="line">                进行不同的解释。指定关联掩码，以便将零位作为起始位置(就如将 NUMA</div><div class="line">                节点的处理器掩码向右移位一样)。</div><div class="line">                进程被限制在指定关联掩码和 NUMA 节点之间的</div><div class="line">                那些通用处理器上运行。</div><div class="line">                如果没有通用处理器，则进程被限制在</div><div class="line">                指定的 NUMA 节点上运行。</div><div class="line">    WAIT        启动应用程序并等待它终止。</div><div class="line">    command/program</div><div class="line">                如果它是内部 cmd 命令或批文件，则</div><div class="line">                该命令处理器是使用 cmd.exe 的 /K 开关运行的。</div><div class="line">                这表示运行该命令之后，该窗口</div><div class="line">                将仍然存在。</div><div class="line"></div><div class="line">                如果它不是内部 cmd 命令或批文件，则</div><div class="line">                它就是一个程序，并将作为一个窗口化应用程序或</div><div class="line">                控制台应用程序运行。</div><div class="line"></div><div class="line">    parameters  这些是传递给 command/program 的参数。</div><div class="line"></div><div class="line">注意: 在 64 位平台上不支持 SEPARATE 和 SHARED 选项。</div><div class="line"></div><div class="line">通过指定 /NODE，可按照利用 NUMA 系统中的内存区域的方式</div><div class="line">创建进程。例如，可以创建两个完全</div><div class="line">通过共享内存互相通信的进程以共享相同的首选 NUMA 节点，</div><div class="line">从而最大限度地减少内存延迟。只要有可能，</div><div class="line">它们就会分配来自相同 NUMA 节点的</div><div class="line">内存，并且会在指定节点之外的处理器上自由运行。</div><div class="line"></div><div class="line">    start /NODE 1 application1.exe</div><div class="line">    start /NODE 1 application2.exe</div><div class="line"></div><div class="line">这两个进程可被进一步限制在相同 NUMA 节点内的指定处理器</div><div class="line">上运行。在以下示例中，application1 在</div><div class="line">节点的两个低位处理器上运行，而 application2</div><div class="line">在该节点的其后两个处理器上运行。该示例假定指定节点至少具有四个逻辑处理器。请注意，节点号可更改为该计算机的任何有效节点号，</div><div class="line">而无需更改关联掩码。</div><div class="line"></div><div class="line">    start /NODE 1 /AFFINITY 0x3 application1.exe</div><div class="line">    启动 /NODE 1 /AFFINITY 0xc application2.exe</div><div class="line"></div><div class="line">如果命令扩展被启用，通过命令行或 START 命令的外部命令</div><div class="line">调用会如下改变:</div><div class="line"></div><div class="line">将文件名作为命令键入，非可执行文件可以通过文件关联调用。</div><div class="line">    (例如，WORD.DOC 会调用跟 .DOC 文件扩展名关联的应用程序)。</div><div class="line">    关于如何从命令脚本内部创建这些关联，请参阅 ASSOC 和</div><div class="line">     FTYPE 命令。</div><div class="line"></div><div class="line">执行的应用程序是 32 位 GUI 应用程序时，CMD.EXE 不等应用</div><div class="line">    程序终止就返回命令提示符。如果在命令脚本内执行，该新行为</div><div class="line">    则不会发生。</div><div class="line"></div><div class="line">如果执行的命令行的第一个符号是不带扩展名或路径修饰符的</div><div class="line">    字符串 &quot;CMD&quot;，&quot;CMD&quot; 会被 COMSPEC 变量的数值所替换。这</div><div class="line">    防止从当前目录提取 CMD.EXE。</div><div class="line"></div><div class="line">如果执行的命令行的第一个符号没有扩展名，CMD.EXE 会使用</div><div class="line">    PATHEXT 环境变量的数值来决定要以什么顺序寻找哪些扩展</div><div class="line">    名。PATHEXT 变量的默认值是:</div><div class="line"></div><div class="line">        .COM;.EXE;.BAT;.CMD</div><div class="line"></div><div class="line">    请注意，该语法跟 PATH 变量的一样，分号隔开不同的元素。</div><div class="line"></div><div class="line">查找可执行文件时，如果没有相配的扩展名，看一看该名称是否</div><div class="line">与目录名相配。如果确实如此，START 会在那个路径上调用</div><div class="line">Explorer。如果从命令行执行，则等同于对那个路径作 CD /D。</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><figcaption><span>help call</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line">从批处理程序调用另一个批处理程序。</div><div class="line"></div><div class="line">CALL [drive:][path]filename [batch-parameters]</div><div class="line"></div><div class="line">  batch-parameters   指定批处理程序所需的命令行信息。</div><div class="line"></div><div class="line">如果命令扩展被启用，CALL 会如下改变:</div><div class="line"></div><div class="line">CALL 命令现在将卷标当作 CALL 的目标接受。语法是:</div><div class="line"></div><div class="line">    CALL:label arguments</div><div class="line"></div><div class="line">一个新的批文件上下文由指定的参数所创建，控制在卷标被指定</div><div class="line">后传递到语句。你必须通过达到批脚本文件末两次来 &quot;exit&quot; 两次。</div><div class="line">第一次读到文件末时，控制会回到 CALL 语句的紧后面。第二次</div><div class="line">会退出批脚本。键入 GOTO /?，参看 GOTO :EOF 扩展的描述，</div><div class="line">此描述允许你从一个批脚本返回。</div><div class="line"></div><div class="line">另外，批脚本文本参数参照(%0、%1、等等)已如下改变:</div><div class="line"></div><div class="line"></div><div class="line">     批脚本里的 %* 指出所有的参数(如 %1 %2 %3 %4 %5 ...)</div><div class="line"></div><div class="line">     批参数(%n)的替代已被增强。你可以使用以下语法:</div><div class="line"></div><div class="line">         %~1         - 删除引号(&quot;)，扩展 %1</div><div class="line">         %~f1        - 将 %1 扩展到一个完全合格的路径名</div><div class="line">         %~d1        - 仅将 %1 扩展到一个驱动器号</div><div class="line">         %~p1        - 仅将 %1 扩展到一个路径</div><div class="line">         %~n1        - 仅将 %1 扩展到一个文件名</div><div class="line">         %~x1        - 仅将 %1 扩展到一个文件扩展名</div><div class="line">         %~s1        - 扩展的路径只含有短名</div><div class="line">         %~a1        - 将 %1 扩展到文件属性</div><div class="line">         %~t1        - 将 %1 扩展到文件的日期/时间</div><div class="line">         %~z1        - 将 %1 扩展到文件的大小</div><div class="line">         %~$PATH:1   - 查找列在 PATH 环境变量的目录，并将 %1</div><div class="line">                       扩展到找到的第一个完全合格的名称。如果</div><div class="line">                       环境变量名未被定义，或者没有找到文件，</div><div class="line">                       此修改符会扩展到空字符串</div><div class="line"></div><div class="line">    可以组合修改符来取得多重结果:</div><div class="line"></div><div class="line">        %~dp1       - 只将 %1 扩展到驱动器号和路径</div><div class="line">        %~nx1       - 只将 %1 扩展到文件名和扩展名</div><div class="line">        %~dp$PATH:1 - 在列在 PATH 环境变量中的目录里查找 %1，</div><div class="line">                      并扩展到找到的第一个文件的驱动器号和路径。</div><div class="line">        %~ftza1     - 将 %1 扩展到类似 DIR 的输出行。</div><div class="line"></div><div class="line">    在上面的例子中，%1 和 PATH 可以被其他有效数值替换。</div><div class="line">    %~ 语法被一个有效参数号码终止。%~ 修定符不能跟 %*</div><div class="line">    使用</div></pre></td></tr></table></figure>
<figure class="highlight plain"><figcaption><span>help cmd</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div></pre></td><td class="code"><pre><div class="line">启动 Windows 命令解释器的一个新实例</div><div class="line"></div><div class="line">CMD [/A | /U] [/Q] [/D] [/E:ON | /E:OFF] [/F:ON | /F:OFF] [/V:ON | /V:OFF]</div><div class="line">    [[/S] [/C | /K] string]</div><div class="line"></div><div class="line">/C      执行字符串指定的命令然后终止</div><div class="line">/K      执行字符串指定的命令但保留</div><div class="line">/S      修改 /C 或 /K 之后的字符串处理(见下)</div><div class="line">/Q      关闭回显</div><div class="line">/D      禁止从注册表执行 AutoRun 命令(见下)</div><div class="line">/A      使向管道或文件的内部命令输出成为 ANSI</div><div class="line">/U      使向管道或文件的内部命令输出成为</div><div class="line">        Unicode</div><div class="line">/T:fg   设置前台/背景颜色(详细信息见 COLOR /?)</div><div class="line">/E:ON   启用命令扩展(见下)</div><div class="line">/E:OFF  禁用命令扩展(见下)</div><div class="line">/F:ON   启用文件和目录名完成字符(见下)</div><div class="line">/F:OFF  禁用文件和目录名完成字符(见下)</div><div class="line">/V:ON   使用 ! 作为分隔符启用延迟的环境变量</div><div class="line">        扩展。例如，/V:ON 会允许 !var! 在执行时</div><div class="line">        扩展变量 var。var 语法会在输入时</div><div class="line">        扩展变量，这与在一个 FOR</div><div class="line">        循环内不同。</div><div class="line">/V:OFF  禁用延迟的环境扩展。</div><div class="line"></div><div class="line">注意，如果字符串加有引号，可以接受用命令分隔符 &quot;&amp;&amp;&quot;</div><div class="line">分隔多个命令。另外，由于兼容性</div><div class="line">原因，/X 与 /E:ON 相同，/Y 与 /E:OFF 相同，且 /R 与</div><div class="line">/C 相同。任何其他开关都将被忽略。</div><div class="line"></div><div class="line">如果指定了 /C 或 /K，则会将该开关之后的</div><div class="line">命令行的剩余部分作为一个命令行处理，其中，会使用下列逻辑</div><div class="line">处理引号(&quot;)字符:</div><div class="line"></div><div class="line">    1.  如果符合下列所有条件，则会保留</div><div class="line">        命令行上的引号字符:</div><div class="line"></div><div class="line">        - 不带 /S 开关</div><div class="line">        - 正好两个引号字符</div><div class="line">        - 在两个引号字符之间无任何特殊字符，</div><div class="line">          特殊字符指下列字符: &amp;&lt;&gt;()@^|</div><div class="line">        - 在两个引号字符之间至少有</div><div class="line">          一个空格字符</div><div class="line">        - 在两个引号字符之间的字符串是某个</div><div class="line">          可执行文件的名称。</div><div class="line"></div><div class="line">    2.  否则，老办法是看第一个字符</div><div class="line">        是否是引号字符，如果是，则去掉首字符并</div><div class="line">        删除命令行上最后一个引号，保留</div><div class="line">        最后一个引号之后的所有文本。</div><div class="line"></div><div class="line">如果 /D 未在命令行上被指定，当 CMD.EXE 开始时，它会寻找</div><div class="line">以下 REG_SZ/REG_EXPAND_SZ 注册表变量。如果其中一个或</div><div class="line">两个都存在，这两个变量会先被执行。</div><div class="line"></div><div class="line">    HKEY_LOCAL_MACHINE\Software\Microsoft\Command Processor\AutoRun</div><div class="line"></div><div class="line">        和/或</div><div class="line"></div><div class="line">    HKEY_CURRENT_USER\Software\Microsoft\Command Processor\AutoRun</div><div class="line"></div><div class="line">命令扩展是按默认值启用的。你也可以使用 /E:OFF ，为某一</div><div class="line">特定调用而停用扩展。你</div><div class="line">可以在机器上和/或用户登录会话上</div><div class="line">启用或停用 CMD.EXE 所有调用的扩展，这要通过设置使用</div><div class="line">REGEDIT.EXE 的注册表中的一个或两个 REG_DWORD 值:</div><div class="line"></div><div class="line">    HKEY_LOCAL_MACHINE\Software\Microsoft\Command Processor\EnableExtensions</div><div class="line"></div><div class="line">        和/或</div><div class="line"></div><div class="line">    HKEY_CURRENT_USER\Software\Microsoft\Command Processor\EnableExtensions</div><div class="line"></div><div class="line">到 0x1 或 0x0。用户特定设置</div><div class="line">比机器设置有优先权。命令行</div><div class="line">开关比注册表设置有优先权。</div><div class="line"></div><div class="line">在批处理文件中，SETLOCAL ENABLEEXTENSIONS 或 DISABLEEXTENSIONS 参数</div><div class="line">比 /E:ON 或 /E:OFF 开关有优先权。请参阅 SETLOCAL /? 获取详细信息。</div><div class="line"></div><div class="line">命令扩展包括对下列命令所做的</div><div class="line">更改和/或添加:</div><div class="line"></div><div class="line">    DEL or ERASE</div><div class="line">    COLOR</div><div class="line">    CD or CHDIR</div><div class="line">    MD or MKDIR</div><div class="line">    PROMPT</div><div class="line">    PUSHD</div><div class="line">    POPD</div><div class="line">    SET</div><div class="line">    SETLOCAL</div><div class="line">    ENDLOCAL</div><div class="line">    IF</div><div class="line">    FOR</div><div class="line">    CALL</div><div class="line">    SHIFT</div><div class="line">    GOTO</div><div class="line">    START (同时包括对外部命令调用所做的更改)</div><div class="line">    ASSOC</div><div class="line">    FTYPE</div><div class="line"></div><div class="line">有关特定详细信息，请键入 commandname /? 查看。</div><div class="line"></div><div class="line">延迟环境变量扩展不按默认值启用。你</div><div class="line">可以用/V:ON 或 /V:OFF 开关，为 CMD.EXE 的某个调用而</div><div class="line">启用或停用延迟环境变量扩展。你</div><div class="line">可以在机器上和/或用户登录会话上启用或停用 CMD.EXE 所有</div><div class="line">调用的延迟扩展，这要通过设置使用 REGEDIT.EXE 的注册表中的</div><div class="line">一个或两个 REG_DWORD 值:</div><div class="line"></div><div class="line">    HKEY_LOCAL_MACHINE\Software\Microsoft\Command Processor\DelayedExpansion</div><div class="line"></div><div class="line">        和/或</div><div class="line"></div><div class="line">    HKEY_CURRENT_USER\Software\Microsoft\Command Processor\DelayedExpansion</div><div class="line"></div><div class="line">到 0x1 或 0x0。用户特定设置</div><div class="line">比机器设置有优先权。命令行开关</div><div class="line">比注册表设置有优先权。</div><div class="line"></div><div class="line">在批处理文件中，SETLOCAL ENABLEDELAYEDEXPANSION 或 DISABLEDELAYEDEXPANSION</div><div class="line">参数比 /V:ON 或 /V:OFF 开关有优先权。请参阅 SETLOCAL /?</div><div class="line">获取详细信息。</div><div class="line"></div><div class="line">如果延迟环境变量扩展被启用，</div><div class="line">惊叹号字符可在执行时间被用来</div><div class="line">代替一个环境变量的数值。</div><div class="line"></div><div class="line">你可以用 /F:ON 或 /F:OFF 开关为 CMD.EXE 的某个</div><div class="line">调用而启用或禁用文件名完成。你可以在计算上和/或</div><div class="line">用户登录会话上启用或禁用 CMD.EXE 所有调用的完成，</div><div class="line">这可以通过使用 REGEDIT.EXE 设置注册表中的下列</div><div class="line"> REG_DWORD 的全部或其中之一:</div><div class="line"></div><div class="line">    HKEY_LOCAL_MACHINE\Software\Microsoft\Command Processor\CompletionChar</div><div class="line">    HKEY_LOCAL_MACHINE\Software\Microsoft\Command Processor\PathCompletionChar</div><div class="line"></div><div class="line">        和/或</div><div class="line"></div><div class="line">    HKEY_CURRENT_USER\Software\Microsoft\Command Processor\CompletionChar</div><div class="line">    HKEY_CURRENT_USER\Software\Microsoft\Command Processor\PathCompletionChar</div><div class="line"></div><div class="line">由一个控制字符的十六进制值作为一个特定参数(例如，0x4</div><div class="line">是Ctrl-D，0x6 是 Ctrl-F)。用户特定设置优先于机器设置。</div><div class="line">命令行开关优先于注册表设置。</div><div class="line"></div><div class="line">如果完成是用 /F:ON 开关启用的，两个要使用的控制符是:</div><div class="line">目录名完成用 Ctrl-D，文件名完成用 Ctrl-F。要停用</div><div class="line">注册表中的某个字符，请用空格(0x20)的数值，因为此字符</div><div class="line">不是控制字符。</div><div class="line"></div><div class="line">如果键入两个控制字符中的一个，完成会被调用。完成功能将</div><div class="line">路径字符串带到光标的左边，如果没有通配符，将通配符附加</div><div class="line">到左边，并建立相符的路径列表。然后，显示第一个相符的路</div><div class="line">径。如果没有相符的路径，则发出嘟嘟声，不影响显示。之后，</div><div class="line">重复按同一个控制字符会循环显示相符路径的列表。将 Shift</div><div class="line">键跟控制字符同时按下，会倒着显示列表。如果对该行进行了</div><div class="line">任何编辑，并再次按下控制字符，保存的相符路径的列表会被</div><div class="line">丢弃，新的会被生成。如果在文件和目录名完成之间切换，会</div><div class="line">发生同样现象。两个控制字符之间的唯一区别是文件完成字符</div><div class="line">符合文件和目录名，而目录完成字符只符合目录名。如果文件</div><div class="line">完成被用于内置式目录命令(CD、MD 或 RD)，就会使用目录</div><div class="line">完成。</div><div class="line">用引号将相符路径括起来，完成代码可以正确处理含有空格</div><div class="line">或其他特殊字符的文件名。同时，如果备份，然后从行内调用</div><div class="line">文件完成，完成被调用时位于光标右方的文字会被调用。</div><div class="line"></div><div class="line">需要引号的特殊字符是:</div><div class="line">     &lt;space&gt;</div><div class="line">     ()[]&#123;&#125;^=;!&apos;+,`~(&amp;()</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=330 height=86 src=&quot;http://music.163.com/outchain/player?type=2&amp;id=5264222&amp;auto=0&amp;height=66&quot;&gt;&lt;/iframe&gt;&lt;br&gt;本多RuRu-美丽心情&lt;/p&gt;
&lt;p&gt;start启动独立窗口;call调用另一个脚本;cmd启动Windows命令解释器的一个新实例.&lt;/p&gt;
    
    </summary>
    
      <category term="windows cmd" scheme="http://www.wuchenxu.com/categories/windows-cmd/"/>
    
    
      <category term="cmd" scheme="http://www.wuchenxu.com/tags/cmd/"/>
    
      <category term="start" scheme="http://www.wuchenxu.com/tags/start/"/>
    
      <category term="call" scheme="http://www.wuchenxu.com/tags/call/"/>
    
  </entry>
  
  <entry>
    <title>windows command(16):组合命令 &amp; |</title>
    <link href="http://www.wuchenxu.com/2016/04/01/windows-cmd-16-compound-command/"/>
    <id>http://www.wuchenxu.com/2016/04/01/windows-cmd-16-compound-command/</id>
    <published>2016-04-01T06:29:48.000Z</published>
    <updated>2016-04-01T06:29:48.000Z</updated>
    
    <content type="html"><![CDATA[<p>组合命令(Compound Command)主要有<code>&amp;</code> <code>&amp;&amp;</code> <code>|</code> <code>||</code>等。</p>
<a id="more"></a>
<h1 id="顺序执行多个命令-amp"><a href="#顺序执行多个命令-amp" class="headerlink" title="顺序执行多个命令&amp;"></a>顺序执行多个命令<code>&amp;</code></h1><p><code>cmd1 &amp; cmd2 [&amp; cmd3 ...]</code><br>相对于把多个语句并到一行了。<br><figure class="highlight bat"><figcaption><span>不管前一个命令是否执行成功，都会执行下一个命令</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">dir</span> <span class="title">A</span> &amp; <span class="title">echo</span> <span class="title">hello</span></span></div><div class="line"> 驱动器 <span class="title">D</span> 中的卷是 <span class="title">LENOVO</span></div><div class="line"> 卷的序列号是 0005-42<span class="title">D7</span></div><div class="line"></div><div class="line"> <span class="title">D</span>:\<span class="title">test</span>\<span class="title">test</span> 的目录</div><div class="line"></div><div class="line">找不到文件</div><div class="line"><span class="title">hello</span></div></pre></td></tr></table></figure></p>
<h1 id="执行失败则不执行下一条语句-amp-amp"><a href="#执行失败则不执行下一条语句-amp-amp" class="headerlink" title="执行失败则不执行下一条语句&amp;&amp;"></a>执行失败则不执行下一条语句<code>&amp;&amp;</code></h1><p><code>cmd1 &amp;&amp; cmd2 [&amp;&amp; cmd3 ...]</code><br><figure class="highlight bat"><figcaption><span>echo hello不能被执行</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">dir</span> <span class="title">A</span> &amp;&amp; <span class="title">echo</span> <span class="title">hello</span></span></div><div class="line"> 驱动器 <span class="title">D</span> 中的卷是 <span class="title">LENOVO</span></div><div class="line"> 卷的序列号是 0005-42<span class="title">D7</span></div><div class="line"></div><div class="line"> <span class="title">D</span>:\<span class="title">test</span>\<span class="title">test</span> 的目录</div><div class="line"></div><div class="line">找不到文件</div></pre></td></tr></table></figure></p>
<p><code>dir A &amp;&amp; echo hello</code>相当于<br><figure class="highlight dos"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">dir</span> A</div><div class="line"><span class="keyword">if</span> <span class="variable">%ERRORLEVEL%</span> <span class="keyword">equ</span> <span class="number">0</span> (<span class="built_in">echo</span> hello)</div></pre></td></tr></table></figure></p>
<h1 id="执行成功则不执行下一条语句"><a href="#执行成功则不执行下一条语句" class="headerlink" title="执行成功则不执行下一条语句||"></a>执行成功则不执行下一条语句<code>||</code></h1><p><code>cmd1 || cmd2 [|| cmd3 ...]</code><br><figure class="highlight bat"><figcaption><span>dir A不能被执行</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">echo</span> <span class="title">hello</span> || <span class="title">dir</span> <span class="title">A</span></span></div><div class="line"><span class="title">hello</span></div></pre></td></tr></table></figure></p>
<p><code>echo hello || dir A</code>相当于<br><figure class="highlight dos"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">echo</span> hello</div><div class="line"><span class="keyword">if</span> <span class="variable">%ERRORLEVEL%</span> <span class="keyword">neq</span> <span class="number">0</span> (<span class="built_in">dir</span> A)</div></pre></td></tr></table></figure></p>
<h1 id="管道"><a href="#管道" class="headerlink" title="管道|"></a>管道<code>|</code></h1><p><code>cmd1 | cmd2 [| cmd3 ...]</code><br>将前一条命令的执行结果作为后一条命令的参数。<br><code>netstat -n -p tcp|find &quot;:80&quot;</code></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;组合命令(Compound Command)主要有&lt;code&gt;&amp;amp;&lt;/code&gt; &lt;code&gt;&amp;amp;&amp;amp;&lt;/code&gt; &lt;code&gt;|&lt;/code&gt; &lt;code&gt;||&lt;/code&gt;等。&lt;/p&gt;
    
    </summary>
    
      <category term="windows cmd" scheme="http://www.wuchenxu.com/categories/windows-cmd/"/>
    
    
      <category term="cmd" scheme="http://www.wuchenxu.com/tags/cmd/"/>
    
  </entry>
  
  <entry>
    <title>windows command(15):SHIFT及参数编辑符%~dp0</title>
    <link href="http://www.wuchenxu.com/2016/04/01/windows-cmd-15-shift/"/>
    <id>http://www.wuchenxu.com/2016/04/01/windows-cmd-15-shift/</id>
    <published>2016-04-01T06:22:44.000Z</published>
    <updated>2016-04-03T12:33:44.000Z</updated>
    
    <content type="html"><![CDATA[<img src="/2016/04/01/windows-cmd-15-shift/shift.png" alt="shift.png" title="">
<p>本文介绍了bat脚本支持的参数，SHIFT命令替换bat脚本参数位置。</p>
<a id="more"></a>
<h1 id="batch脚本支持的参数"><a href="#batch脚本支持的参数" class="headerlink" title="batch脚本支持的参数"></a>batch脚本支持的参数</h1><p>支持%1~%9，9个参数，%0表示命令本身。如果写成%10，则是表示%1之后跟一个<code>0</code>.<br><figure class="highlight bat"><figcaption><span>parameters.bat</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">@<span class="built_in">echo</span> off</div><div class="line"><span class="built_in">echo</span> <span class="number">0</span>: %<span class="number">0</span> </div><div class="line"><span class="built_in">echo</span> <span class="number">1</span>: %<span class="number">1</span> </div><div class="line"><span class="built_in">echo</span> <span class="number">2</span>: %<span class="number">2</span> </div><div class="line"><span class="built_in">echo</span> <span class="number">3</span>: %<span class="number">3</span></div><div class="line"><span class="built_in">echo</span> <span class="number">4</span>: %<span class="number">4</span></div><div class="line"><span class="built_in">echo</span> <span class="number">5</span>: %<span class="number">5</span></div><div class="line"><span class="built_in">echo</span> <span class="number">6</span>: %<span class="number">6</span></div><div class="line"><span class="built_in">echo</span> <span class="number">7</span>: %<span class="number">7</span></div><div class="line"><span class="built_in">echo</span> <span class="number">8</span>: %<span class="number">8</span></div><div class="line"><span class="built_in">echo</span> <span class="number">9</span>: %<span class="number">9</span></div><div class="line"><span class="built_in">echo</span> <span class="number">10</span>: %<span class="number">10</span></div></pre></td></tr></table></figure></p>
<p>运行结果:<br><figure class="highlight bat"><figcaption><span>result</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">paramters.bat</span> <span class="title">hello</span> 1 2 3 4 5 6 7 8 9</span></div><div class="line">0: <span class="title">paramters.bat</span></div><div class="line">1: <span class="title">hello</span></div><div class="line">2: 1</div><div class="line">3: 2</div><div class="line">4: 3</div><div class="line">5: 4</div><div class="line">6: 5</div><div class="line">7: 6</div><div class="line">8: 7</div><div class="line">9: 8</div><div class="line">10: <span class="title">hello0</span></div></pre></td></tr></table></figure></p>
<h1 id="参数编辑"><a href="#参数编辑" class="headerlink" title="参数编辑"></a>参数编辑</h1><p>可以在批处理参数中使用编辑符。编辑符使用当前的驱动器和目录信息将批处理参数作为部分或完整的文件或目录名进行扩展。要使用编辑符，请键入百分号 (%) 字符，后面是波形符号 (~) 字符，然后键入合适的编辑符（即 %~modifier）。<br>下表列出了可在扩展中使用的编辑符。</p>
<table>
<thead>
<tr>
<th style="text-align:center">modifier</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">%~1</td>
<td style="text-align:center">扩展 %1 并删除任何外围引号 (“”)</td>
</tr>
<tr>
<td style="text-align:center">%~f1</td>
<td style="text-align:center">将 %1 扩展到完全合格的路径名</td>
</tr>
<tr>
<td style="text-align:center">%~d1</td>
<td style="text-align:center">将 %1 扩展到驱动器盘符</td>
</tr>
<tr>
<td style="text-align:center">%~p1</td>
<td style="text-align:center">将 %1 扩展到路径</td>
</tr>
<tr>
<td style="text-align:center">%~n1</td>
<td style="text-align:center">将 %1 扩展到文件名</td>
</tr>
<tr>
<td style="text-align:center">%~x1</td>
<td style="text-align:center">将 %1 扩展到文件扩展名</td>
</tr>
<tr>
<td style="text-align:center">%~s1</td>
<td style="text-align:center">扩展的路径仅包含短名称</td>
</tr>
<tr>
<td style="text-align:center">%~a1</td>
<td style="text-align:center">将 %1 扩展到文件属性</td>
</tr>
<tr>
<td style="text-align:center">%~t1</td>
<td style="text-align:center">将 %1 扩展到文件日期/时间</td>
</tr>
<tr>
<td style="text-align:center">%~z1</td>
<td style="text-align:center">将 %1 扩展到文件大小</td>
</tr>
<tr>
<td style="text-align:center">%~$PATH:1</td>
<td style="text-align:center">搜索 PATH 环境变量中列出的目录，并将 %1 扩展到第一个找到的目录的完全合格名称。如果没有定义环境变量名称，或没有找到文件，则此编辑符扩展成空字符串</td>
</tr>
</tbody>
</table>
<p>以上编辑符可以组合使用：</p>
<table>
<thead>
<tr>
<th style="text-align:center">modifier</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">%~dp1</td>
<td style="text-align:center">将 %1 扩展到驱动器盘符和路径</td>
</tr>
<tr>
<td style="text-align:center">%~nx1</td>
<td style="text-align:center">将 %1 扩展到文件名和扩展名</td>
</tr>
<tr>
<td style="text-align:center">%~ftza1</td>
<td style="text-align:center">将 %1 扩展到类似 dir 的输出行</td>
</tr>
<tr>
<td style="text-align:center">%~dp$PATH:1</td>
<td style="text-align:center">在 PATH 环境变量列出的目录中搜索 %1，并扩展到第一个找到的目录的驱动器盘符和路径</td>
</tr>
</tbody>
</table>
<figure class="highlight bat"><figcaption><span>parameters.bat</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">@<span class="built_in">echo</span> off</div><div class="line"><span class="built_in">echo</span> ~<span class="number">0</span> : %~<span class="number">0</span></div><div class="line"><span class="built_in">echo</span> ~f0: %~f0</div><div class="line"><span class="built_in">echo</span> ~d0: %~d0</div><div class="line"><span class="built_in">echo</span> ~p0: %~p0</div><div class="line"><span class="built_in">echo</span> ~n0: %~n0</div><div class="line"><span class="built_in">echo</span> ~x0: %~x0</div><div class="line"><span class="built_in">echo</span> ~s0: %~s0</div><div class="line"><span class="built_in">echo</span> ~a0: %~a0</div><div class="line"><span class="built_in">echo</span> ~t0: %~t0</div><div class="line"><span class="built_in">echo</span> ~z0: %~z0</div><div class="line"><span class="built_in">echo</span> ~PATH0: %~$<span class="built_in">PATH</span>:<span class="number">0</span></div><div class="line"><span class="built_in">echo</span> ~dp0: %~dp0</div><div class="line"><span class="built_in">echo</span> ~nx0: %~nx0</div><div class="line"><span class="built_in">echo</span> ~ftza0: %~ftza0</div></pre></td></tr></table></figure>
<figure class="highlight plain"><figcaption><span>result</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">~0 : paramters.bat</div><div class="line">~f0: D:\test\test\paramters.bat</div><div class="line">~d0: D:</div><div class="line">~p0: \test\test\</div><div class="line">~n0: paramters</div><div class="line">~x0: .bat</div><div class="line">~s0: D:\test\test\paramters.bat</div><div class="line">~a0: --a--------</div><div class="line">~t0: 2016/04/03 21:37</div><div class="line">~z0: 536</div><div class="line">~PATH0:</div><div class="line">~dp0: D:\test\test\</div><div class="line">~nx0: paramters.bat</div><div class="line">~ftza0: --a-------- 2016/04/03 21:37 536 D:\test\test\paramters.bat</div></pre></td></tr></table></figure>
<h1 id="支持超过9个参数"><a href="#支持超过9个参数" class="headerlink" title="支持超过9个参数"></a>支持超过9个参数</h1><p>SHIFT命令可以支持超过9个参数输入。<br><figure class="highlight bat"><figcaption><span>parameters_shift.bat</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">@<span class="built_in">echo</span> off</div><div class="line"><span class="built_in">echo</span> <span class="number">0</span>: %<span class="number">0</span> </div><div class="line"><span class="built_in">echo</span> <span class="number">1</span>: %<span class="number">1</span> </div><div class="line"><span class="built_in">echo</span> <span class="number">2</span>: %<span class="number">2</span> </div><div class="line"><span class="built_in">echo</span> <span class="number">3</span>: %<span class="number">3</span></div><div class="line"><span class="built_in">echo</span> <span class="number">4</span>: %<span class="number">4</span></div><div class="line"><span class="built_in">echo</span> <span class="number">5</span>: %<span class="number">5</span></div><div class="line"><span class="built_in">echo</span> <span class="number">6</span>: %<span class="number">6</span></div><div class="line"><span class="built_in">echo</span> <span class="number">7</span>: %<span class="number">7</span></div><div class="line"><span class="built_in">echo</span> <span class="number">8</span>: %<span class="number">8</span></div><div class="line"><span class="built_in">echo</span> <span class="number">9</span>: %<span class="number">9</span></div><div class="line"><span class="built_in">echo</span> <span class="number">10</span>: %<span class="number">10</span></div><div class="line"><span class="built_in">shift</span></div><div class="line"><span class="built_in">echo</span> <span class="number">0</span>: %<span class="number">0</span></div><div class="line"><span class="built_in">echo</span> <span class="number">1</span>: %<span class="number">1</span> </div><div class="line"><span class="built_in">echo</span> <span class="number">2</span>: %<span class="number">2</span> </div><div class="line"><span class="built_in">echo</span> <span class="number">3</span>: %<span class="number">3</span></div><div class="line"><span class="built_in">echo</span> <span class="number">4</span>: %<span class="number">4</span></div><div class="line"><span class="built_in">echo</span> <span class="number">5</span>: %<span class="number">5</span></div><div class="line"><span class="built_in">echo</span> <span class="number">6</span>: %<span class="number">6</span></div><div class="line"><span class="built_in">echo</span> <span class="number">7</span>: %<span class="number">7</span></div><div class="line"><span class="built_in">echo</span> <span class="number">8</span>: %<span class="number">8</span></div><div class="line"><span class="built_in">echo</span> <span class="number">9</span>: %<span class="number">9</span></div><div class="line"><span class="built_in">echo</span> <span class="number">10</span>: %<span class="number">10</span></div></pre></td></tr></table></figure></p>
<p>运行结果:<br><figure class="highlight ldif"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">D:\test\test&gt;parameters_shift.bat hello 1 2 3 4 5 6 7 8 9</span></div><div class="line">0: parameters_shift.bat</div><div class="line"><span class="attribute">1</span>: hello</div><div class="line"><span class="attribute">2</span>: 1</div><div class="line"><span class="attribute">3</span>: 2</div><div class="line"><span class="attribute">4</span>: 3</div><div class="line"><span class="attribute">5</span>: 4</div><div class="line"><span class="attribute">6</span>: 5</div><div class="line"><span class="attribute">7</span>: 6</div><div class="line"><span class="attribute">8</span>: 7</div><div class="line"><span class="attribute">9</span>: 8</div><div class="line"><span class="attribute">10</span>: hello0</div><div class="line"><span class="attribute">0</span>: hello</div><div class="line"><span class="attribute">1</span>: 1</div><div class="line"><span class="attribute">2</span>: 2</div><div class="line"><span class="attribute">3</span>: 3</div><div class="line"><span class="attribute">4</span>: 4</div><div class="line"><span class="attribute">5</span>: 5</div><div class="line"><span class="attribute">6</span>: 6</div><div class="line"><span class="attribute">7</span>: 7</div><div class="line"><span class="attribute">8</span>: 8</div><div class="line"><span class="attribute">9</span>: 9</div><div class="line"><span class="attribute">10</span>: 10</div></pre></td></tr></table></figure></p>
<h1 id="选择性替换"><a href="#选择性替换" class="headerlink" title="选择性替换"></a>选择性替换</h1><p>如果命令扩展被启用，SHIFT 命令支持/n 命令行开关；该命令行开关告诉<br>命令从第 n 个参数开始移位；n 介于零和八之间。例如:<br>SHIFT /2<br>会将 %3 移位到 %2，将 %4 移位到 %3，等等；并且不影响 %0 和 %1。</p>
<h1 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h1><p>拷贝任意个文件到指定文件夹<br><figure class="highlight bat"><figcaption><span>mycopy.bat</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">@<span class="built_in">echo</span> off </div><div class="line"><span class="comment">rem MYCOPY.BAT copies any number of files</span></div><div class="line"><span class="comment">rem to a directory.</span></div><div class="line"><span class="comment">rem The command uses the following syntax:</span></div><div class="line"><span class="comment">rem mycopy dir file1 file2 ... </span></div><div class="line"><span class="built_in">set</span> todir=%<span class="number">1</span></div><div class="line">:getfile</div><div class="line"><span class="built_in">shift</span></div><div class="line"><span class="keyword">if</span> "%<span class="number">1</span>"=="" <span class="keyword">goto</span> end</div><div class="line"><span class="built_in">copy</span> %<span class="number">1</span> <span class="variable">%todir%</span></div><div class="line"><span class="keyword">goto</span> getfile</div><div class="line">:end</div><div class="line"><span class="built_in">set</span> todir=</div><div class="line"><span class="built_in">echo</span> All done</div></pre></td></tr></table></figure></p>
<p>Reference:<br><figure class="highlight plain"><figcaption><span>help SHIFT</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">更改批处理文件中可替换参数的位置。</div><div class="line"></div><div class="line">SHIFT [/n]</div><div class="line"></div><div class="line">如果命令扩展被启用，SHIFT 命令支持/n 命令行开关；该命令行开关告诉</div><div class="line">命令从第 n 个参数开始移位；n 介于零和八之间。例如:</div><div class="line"></div><div class="line">    SHIFT /2</div><div class="line"></div><div class="line">会将 %3 移位到 %2，将 %4 移位到 %3，等等；并且不影响 %0 和 %1。</div></pre></td></tr></table></figure></p>
<p><a href="http://www.cnblogs.com/top5/archive/2011/06/24/2089183.html" target="_blank" rel="external">cmd批处理参数</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;img src=&quot;/2016/04/01/windows-cmd-15-shift/shift.png&quot; alt=&quot;shift.png&quot; title=&quot;&quot;&gt;
&lt;p&gt;本文介绍了bat脚本支持的参数，SHIFT命令替换bat脚本参数位置。&lt;/p&gt;
    
    </summary>
    
      <category term="windows cmd" scheme="http://www.wuchenxu.com/categories/windows-cmd/"/>
    
    
      <category term="cmd" scheme="http://www.wuchenxu.com/tags/cmd/"/>
    
      <category term="shift" scheme="http://www.wuchenxu.com/tags/shift/"/>
    
      <category term="parameter" scheme="http://www.wuchenxu.com/tags/parameter/"/>
    
  </entry>
  
  <entry>
    <title>windows command(14):SET SETLOCAL ENDLOCAL</title>
    <link href="http://www.wuchenxu.com/2016/04/01/windows-cmd-14-set-setlocal-endlocal/"/>
    <id>http://www.wuchenxu.com/2016/04/01/windows-cmd-14-set-setlocal-endlocal/</id>
    <published>2016-04-01T06:21:57.000Z</published>
    <updated>2016-04-01T06:21:57.000Z</updated>
    
    <content type="html"><![CDATA[<img src="/2016/04/01/windows-cmd-14-set-setlocal-endlocal/set.png" alt="set.png" title="">
<p>变量设置命令，非常有用。</p>
<a id="more"></a>
<h1 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h1><p><code>set [[/a [expression]] [/p [variable=]] string]</code></p>
<figure class="highlight bat"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">set</span> <span class="title">a</span>=1</span></div><div class="line"></div><div class="line"><span class="title">D</span>:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">echo</span> %<span class="title">a</span>%</div><div class="line">1</div></pre></td></tr></table></figure>
<h1 id="无参数"><a href="#无参数" class="headerlink" title="无参数"></a>无参数</h1><p><code>set</code>的执行结果是显示所有环境变量;如果跟字符串，会显示匹配字符串的环境变量。<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">D</span>:\<span class="keyword">test</span>\<span class="keyword">test</span>&gt;<span class="keyword">set</span> <span class="keyword">win</span></div><div class="line">windir=C:\WINDOWS</div></pre></td></tr></table></figure></p>
<h1 id="常规用法"><a href="#常规用法" class="headerlink" title="常规用法"></a>常规用法</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span>&gt;<span class="built_in">set</span> a=123</div><div class="line"></div><div class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span>&gt;<span class="built_in">echo</span> %a%</div><div class="line">123</div><div class="line">rem cancel var a</div><div class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span>&gt;<span class="built_in">set</span> a=</div><div class="line"></div><div class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span>&gt;<span class="built_in">echo</span> %a%</div><div class="line">%a%</div></pre></td></tr></table></figure>
<h1 id="参数-A"><a href="#参数-A" class="headerlink" title="参数/A"></a>参数/A</h1><p>/A 命令行开关指定等号右边的字符串为被评估的数字表达式。<br><figure class="highlight bat"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">set</span> /<span class="title">a</span> <span class="title">b</span>=1+%<span class="title">a</span>%</span></div><div class="line">2</div></pre></td></tr></table></figure></p>
<h1 id="参数-P"><a href="#参数-P" class="headerlink" title="参数/P"></a>参数/P</h1><p>/P 命令行开关允许将变量数值设成用户输入的一行输入。读取输入<br>行之前，显示指定的 promptString。promptString 可以是空的。<br><figure class="highlight bat"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">set</span> /<span class="title">p</span> <span class="title">c</span>=</span></div><div class="line">123</div><div class="line"><span class="title">D</span>:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">echo</span> %<span class="title">c</span>%</div><div class="line">123</div></pre></td></tr></table></figure></p>
<h1 id="变量格式化"><a href="#变量格式化" class="headerlink" title="变量格式化"></a>变量格式化</h1><h2 id="替换-Replace"><a href="#替换-Replace" class="headerlink" title="替换 Replace"></a>替换 Replace</h2><p><code>%PATH:str1=str2%</code>会扩展 PATH 环境变量，用 “str2” 代替扩展结果中的每个 “str1”。要有效地从扩展结果中删除所有的 “str1”，”str2” 可以是空的。<br>“str1” 可以以星号打头；在这种情况下，”str1” 会从扩展结果的开始到 str1 剩余部分第一次出现的地方，都一直保持相配。<br><figure class="highlight bat"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">set</span> <span class="title">str</span>=<span class="title">hello_world</span></span></div><div class="line"><span class="title">D</span>:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">echo</span> %<span class="title">str</span>:*<span class="title">o</span>=<span class="title">hi</span>%</div><div class="line"><span class="title">hi_world</span></div></pre></td></tr></table></figure></p>
<h2 id="子集-Subset"><a href="#子集-Subset" class="headerlink" title="子集 Subset"></a>子集 Subset</h2><p><code>%PATH:~10,5%</code>会扩展 PATH 环境变量，然后只使用在扩展结果中从第 11 个(偏移量 10)字符开始的五个字符。如果没有指定长度，则采用默认<br>值，即变量数值的余数。如果两个数字(偏移量和长度)都是负数，使用的数字则是环境变量数值长度加上指定的偏移量或长度。</p>
<p><code>%PATH:~-10%</code>会提取 PATH 变量的最后十个字符。<br><code>%PATH:~0,-2%</code>会提取 PATH 变量的所有字符，除了最后两个。</p>
<figure class="highlight bat"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function">D:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">echo</span> %<span class="title">str</span>:~0,5%</span></div><div class="line"><span class="title">hello</span></div><div class="line"><span class="title">D</span>:\<span class="title">test</span>\<span class="title">test</span>&gt;<span class="title">echo</span> %<span class="title">str</span>:~-2%</div><div class="line"><span class="title">ld</span></div></pre></td></tr></table></figure>
<h1 id="动态环境变量"><a href="#动态环境变量" class="headerlink" title="动态环境变量"></a>动态环境变量</h1><p>%CD% - 扩展到当前目录字符串。</p>
<p>%DATE% - 用跟 DATE 命令同样的格式扩展到当前日期。</p>
<p>%TIME% - 用跟 TIME 命令同样的格式扩展到当前时间。</p>
<p>%RANDOM% - 扩展到 0 和 32767 之间的任意十进制数字。</p>
<p>%ERRORLEVEL% - 扩展到当前 ERRORLEVEL 数值。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span>&gt;<span class="built_in">echo</span> %CD%</div><div class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span></div><div class="line"></div><div class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span>&gt;<span class="built_in">echo</span> %DATE%</div><div class="line">2016/04/19 周二</div><div class="line"></div><div class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span>&gt;<span class="built_in">echo</span> %DATE:~0,10%</div><div class="line">2016/04/19</div><div class="line"></div><div class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span>&gt;<span class="built_in">echo</span> %TIME%</div><div class="line">22:17:53.64</div><div class="line"></div><div class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span>&gt;<span class="built_in">echo</span> %RANDOM%</div><div class="line">21380</div><div class="line"></div><div class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span>&gt;<span class="built_in">echo</span> %RANDOM%</div><div class="line">9100</div><div class="line"></div><div class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span>&gt;<span class="built_in">echo</span> %RANDOM%</div><div class="line">26811</div><div class="line"></div><div class="line">D:\<span class="built_in">test</span>\<span class="built_in">test</span>&gt;<span class="built_in">echo</span> %RANDOM%</div><div class="line">10502</div></pre></td></tr></table></figure>
<h1 id="环境变量本地化修改SETLOCAL-ENDLOCAL"><a href="#环境变量本地化修改SETLOCAL-ENDLOCAL" class="headerlink" title="环境变量本地化修改SETLOCAL ENDLOCAL"></a>环境变量本地化修改SETLOCAL ENDLOCAL</h1><p>开始批处理文件中环境改动的本地化操作。在执行 SETLOCAL 之后所做的环境改动只限于批处理文件。要还原原先的设置，必须执行 ENDLOCAL。达到批处理文件结尾时，对于该批处理文件的每个尚未执行的 SETLOCAL 命令，都会有一个隐含的 ENDLOCAL 被执行。</p>
<p>一般在脚本文件开头加上SETLOCAL，结尾加上ENDLOCAL。</p>
<p>Reference:<br><figure class="highlight plain"><figcaption><span>help set</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div></pre></td><td class="code"><pre><div class="line">显示、设置或删除 cmd.exe 环境变量。</div><div class="line"></div><div class="line">SET [variable=[string]]</div><div class="line"></div><div class="line">  variable  指定环境变量名。</div><div class="line">  string    指定要指派给变量的一系列字符串。</div><div class="line"></div><div class="line">要显示当前环境变量，键入不带参数的 SET。</div><div class="line"></div><div class="line">如果命令扩展被启用，SET 会如下改变:</div><div class="line"></div><div class="line">可仅用一个变量激活 SET 命令，等号或值不显示所有前缀匹配</div><div class="line">SET 命令已使用的名称的所有变量的值。例如:</div><div class="line"></div><div class="line">    SET P</div><div class="line"></div><div class="line">会显示所有以字母 P 打头的变量</div><div class="line"></div><div class="line">如果在当前环境中找不到该变量名称，SET 命令将把 ERRORLEVEL</div><div class="line">设置成 1。</div><div class="line"></div><div class="line">SET 命令不允许变量名含有等号。</div><div class="line"></div><div class="line">在 SET 命令中添加了两个新命令行开关:</div><div class="line"></div><div class="line">    SET /A expression</div><div class="line">    SET /P variable=[promptString]</div><div class="line"></div><div class="line">/A 命令行开关指定等号右边的字符串为被评估的数字表达式。该表达式</div><div class="line">评估器很简单并以递减的优先权顺序支持下列操作:</div><div class="line"></div><div class="line">    ()                  - 分组</div><div class="line">    ! ~ -               - 一元运算符</div><div class="line">    * / %               - 算数运算符</div><div class="line">    + -                 - 算数运算符</div><div class="line">    &lt;&lt; &gt;&gt;               - 逻辑移位</div><div class="line">    &amp;                   - 按位“与”</div><div class="line">    ^                   - 按位“异”</div><div class="line">    |                   - 按位“或”</div><div class="line">    = *= /= %= += -=    - 赋值</div><div class="line">      &amp;= ^= |= &lt;&lt;= &gt;&gt;=</div><div class="line">    ,                   - 表达式分隔符</div><div class="line"></div><div class="line">如果你使用任何逻辑或取余操作符， 你需要将表达式字符串用</div><div class="line">引号扩起来。在表达式中的任何非数字字符串键作为环境变量</div><div class="line">名称，这些环境变量名称的值已在使用前转换成数字。如果指定</div><div class="line">了一个环境变量名称，但未在当前环境中定义，那么值将被定为</div><div class="line">零。这使你可以使用环境变量值做计算而不用键入那些 % 符号</div><div class="line">来得到它们的值。如果 SET /A 在命令脚本外的命令行执行的，</div><div class="line">那么它显示该表达式的最后值。该分配的操作符在分配的操作符</div><div class="line">左边需要一个环境变量名称。除十六进制有 0x 前缀，八进制</div><div class="line">有 0 前缀的，数字值为十进位数字。因此，0x12 与 18 和 022</div><div class="line">相同。请注意八进制公式可能很容易搞混: 08 和 09 是无效的数字，</div><div class="line">因为 8 和 9 不是有效的八进制位数。(&amp; )</div><div class="line"></div><div class="line">/P 命令行开关允许将变量数值设成用户输入的一行输入。读取输入</div><div class="line">行之前，显示指定的 promptString。promptString 可以是空的。</div><div class="line"></div><div class="line">环境变量替换已如下增强:</div><div class="line"></div><div class="line">    %PATH:str1=str2%</div><div class="line"></div><div class="line">会扩展 PATH 环境变量，用 &quot;str2&quot; 代替扩展结果中的每个 &quot;str1&quot;。</div><div class="line">要有效地从扩展结果中删除所有的 &quot;str1&quot;，&quot;str2&quot; 可以是空的。</div><div class="line">&quot;str1&quot; 可以以星号打头；在这种情况下，&quot;str1&quot; 会从扩展结果的</div><div class="line">开始到 str1 剩余部分第一次出现的地方，都一直保持相配。</div><div class="line"></div><div class="line">也可以为扩展名指定子字符串。</div><div class="line"></div><div class="line">    %PATH:~10,5%</div><div class="line"></div><div class="line">会扩展 PATH 环境变量，然后只使用在扩展结果中从第 11 个(偏</div><div class="line">移量 10)字符开始的五个字符。如果没有指定长度，则采用默认</div><div class="line">值，即变量数值的余数。如果两个数字(偏移量和长度)都是负数，</div><div class="line">使用的数字则是环境变量数值长度加上指定的偏移量或长度。</div><div class="line"></div><div class="line">    %PATH:~-10%</div><div class="line"></div><div class="line">会提取 PATH 变量的最后十个字符。</div><div class="line"></div><div class="line">    %PATH:~0,-2%</div><div class="line"></div><div class="line">会提取 PATH 变量的所有字符，除了最后两个。</div><div class="line"></div><div class="line">终于添加了延迟环境变量扩充的支持。该支持总是按默认值被</div><div class="line">停用，但也可以通过 CMD.EXE 的 /V 命令行开关而被启用/停用。</div><div class="line">请参阅 CMD /?</div><div class="line"></div><div class="line">考虑到读取一行文本时所遇到的目前扩充的限制时，延迟环境</div><div class="line">变量扩充是很有用的，而不是执行的时候。以下例子说明直接</div><div class="line">变量扩充的问题:</div><div class="line"></div><div class="line">    set VAR=before</div><div class="line">    if &quot;%VAR%&quot; == &quot;before&quot; (</div><div class="line">        set VAR=after</div><div class="line">        if &quot;%VAR%&quot; == &quot;after&quot; @echo If you see this, it worked</div><div class="line">    )</div><div class="line"></div><div class="line">不会显示消息，因为在读到第一个 IF 语句时，BOTH IF 语句中</div><div class="line">的 %VAR% 会被代替；原因是: 它包含 IF 的文体，IF 是一个</div><div class="line">复合语句。所以，复合语句中的 IF 实际上是在比较 &quot;before&quot; 和</div><div class="line">&quot;after&quot;，这两者永远不会相等。同样，以下这个例子也不会达到</div><div class="line">预期效果:</div><div class="line"></div><div class="line">    set LIST=</div><div class="line">    for %i in (*) do set LIST=%LIST% %i</div><div class="line">    echo %LIST%</div><div class="line"></div><div class="line">原因是，它不会在目前的目录中建立一个文件列表，而只是将</div><div class="line">LIST 变量设成找到的最后一个文件。这也是因为 %LIST% 在</div><div class="line">FOR 语句被读取时，只被扩充了一次；而且，那时的 LIST 变量</div><div class="line">是空的。因此，我们真正执行的 FOR 循环是:</div><div class="line"></div><div class="line">    for %i in (*) do set LIST= %i</div><div class="line"></div><div class="line">这个循环继续将 LIST 设成找到的最后一个文件。</div><div class="line"></div><div class="line">延迟环境变量扩充允许你使用一个不同的字符(惊叹号)在执行</div><div class="line">时间扩充环境变量。如果延迟的变量扩充被启用，可以将上面</div><div class="line">例子写成以下所示，以达到预期效果:</div><div class="line"></div><div class="line">    set VAR=before</div><div class="line">    if &quot;%VAR%&quot; == &quot;before&quot; (</div><div class="line">        set VAR=after</div><div class="line">        if &quot;!VAR!&quot; == &quot;after&quot; @echo If you see this, it worked</div><div class="line">    )</div><div class="line"></div><div class="line">    set LIST=</div><div class="line">    for %i in (*) do set LIST=!LIST! %i</div><div class="line">    echo %LIST%</div><div class="line"></div><div class="line">如果命令扩展被启用，有几个动态环境变量可以被扩展，但不会出现在 SET 显示的变</div><div class="line">量列表中。每次变量数值被扩展时，这些变量数值都会被动态计算。如果用户用这些</div><div class="line">名称中任何一个明确定义变量，那个定义会替代下面描述的动态定义:</div><div class="line"></div><div class="line">%CD% - 扩展到当前目录字符串。</div><div class="line"></div><div class="line">%DATE% - 用跟 DATE 命令同样的格式扩展到当前日期。</div><div class="line"></div><div class="line">%TIME% - 用跟 TIME 命令同样的格式扩展到当前时间。</div><div class="line"></div><div class="line">%RANDOM% - 扩展到 0 和 32767 之间的任意十进制数字。</div><div class="line"></div><div class="line">%ERRORLEVEL% - 扩展到当前 ERRORLEVEL 数值。</div><div class="line"></div><div class="line">%CMDEXTVERSION% - 扩展到当前命令处理器扩展版本号。</div><div class="line"></div><div class="line">%CMDCMDLINE% - 扩展到调用命令处理器的原始命令行。</div><div class="line"></div><div class="line">%HIGHESTNUMANODENUMBER% - 扩展到此计算机上的最高 NUMA 节点号。</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><figcaption><span>help setlocal</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">开始批处理文件中环境改动的本地化操作。在执行 SETLOCAL 之后</div><div class="line">所做的环境改动只限于批处理文件。要还原原先的设置，必须执</div><div class="line">行 ENDLOCAL。达到批处理文件结尾时，对于该批处理文件的每个</div><div class="line">尚未执行的 SETLOCAL 命令，都会有一个隐含的 ENDLOCAL 被执行。</div><div class="line"></div><div class="line">SETLOCAL</div><div class="line"></div><div class="line">如果启用命令扩展，则 SETLOCAL 更改如下:</div><div class="line"></div><div class="line">SETLOCAL 批命令现在可以接受可选参数:</div><div class="line">        ENABLEEXTENSIONS / DISABLEEXTENSIONS</div><div class="line">            启用或禁用命令处理器扩展。这些</div><div class="line">            参数比 CMD /E:ON 或 /E:OFF</div><div class="line">            开关有优先权。请参阅 CMD /? 获取详细信息。</div><div class="line">        ENABLEDELAYEDEXPANSION / DISABLEDELAYEDEXPANSION</div><div class="line">            启用或禁用延缓环境变量</div><div class="line">            扩展。这些参数比 CMD</div><div class="line">            /V:ON 或 /V:OFF 开关有优先权。请参阅 CMD /? 获取详细信息。</div><div class="line">无论在 SETLOCAL 命令之前的设置是什么，这些修改会一直</div><div class="line">生效，直到出现相应的 ENDLOCAL 命令。</div><div class="line"></div><div class="line">在给定参数的情况下，</div><div class="line">SETLOCAL 命令将设置 ERRORLEVEL 值。如果给定两个有效参数中的一个，另一个未给定，</div><div class="line">则该值为零。</div><div class="line">通过以下方法，你可以在批脚本中</div><div class="line">使用此项来确定扩展是否可用:</div><div class="line"></div><div class="line">    VERIFY OTHER 2&gt;nul</div><div class="line">    SETLOCAL ENABLEEXTENSIONS</div><div class="line">    IF ERRORLEVEL 1 echo Unable to enable extensions</div><div class="line"></div><div class="line">此方法之所以有效，是因为在 CMD.EXE 的旧版本上，SETLOCAL</div><div class="line">不设置 ERRORLEVEL 值。如果参数不正确，VERIFY 命令会将</div><div class="line">ERRORLEVEL 值初始化为非零值。</div></pre></td></tr></table></figure>
<figure class="highlight plain"><figcaption><span>help endlocal</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">结束批处理文件中环境改动的本地化操作。在执行ENDLOCAL 之后</div><div class="line">所做的环境改动不再仅限于批处理文件。批处理文件结束后，</div><div class="line">原先的设置无法还原。</div><div class="line"></div><div class="line">ENDLOCAL</div><div class="line"></div><div class="line">如果命令扩展被启用，ENDLOCAL 会如下改变:</div><div class="line"></div><div class="line">如果相应的 SETLOCAL 用新的 ENABLEEXTENSIONS 或</div><div class="line">DISABLEEXTENSIONS 选项启用或停用了命令扩展，那么，在</div><div class="line">ENDLOCAL 之后，命令扩展的启用/停用状态会还原到执行</div><div class="line">相应的 SETLOCAL 命令前的状态。</div></pre></td></tr></table></figure>
<p><a href="https://technet.microsoft.com/en-us/library/bb490998.aspx" target="_blank" rel="external">set in MS doc</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;img src=&quot;/2016/04/01/windows-cmd-14-set-setlocal-endlocal/set.png&quot; alt=&quot;set.png&quot; title=&quot;&quot;&gt;
&lt;p&gt;变量设置命令，非常有用。&lt;/p&gt;
    
    </summary>
    
      <category term="windows cmd" scheme="http://www.wuchenxu.com/categories/windows-cmd/"/>
    
    
      <category term="cmd" scheme="http://www.wuchenxu.com/tags/cmd/"/>
    
      <category term="set" scheme="http://www.wuchenxu.com/tags/set/"/>
    
  </entry>
  
  <entry>
    <title>windows command(13):GOTO :label</title>
    <link href="http://www.wuchenxu.com/2016/04/01/windows-cmd-13-goto/"/>
    <id>http://www.wuchenxu.com/2016/04/01/windows-cmd-13-goto/</id>
    <published>2016-04-01T06:20:22.000Z</published>
    <updated>2016-04-12T06:20:22.000Z</updated>
    
    <content type="html"><![CDATA[<img src="/2016/04/01/windows-cmd-13-goto/goto.png" alt="goto.png" title="">
<p>goto命令，跳转命令。</p>
<a id="more"></a>
<h1 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h1><figure class="highlight bat"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function">goto label</span></div><div class="line"><span class="title">rem</span> <span class="title">some</span> <span class="title">cmd</span></div><div class="line"></div><div class="line">:<span class="title">label</span></div><div class="line"><span class="title">rem</span> <span class="title">cmd</span> <span class="title">of</span> <span class="title">lable</span></div></pre></td></tr></table></figure>
<p>跳转到标签行，并继续执行之后的语句。标签必须以<code>:</code>开头作为标签的指示。<br>标签名只可以使用常量，而不能使用变量。</p>
<h1 id="条件-if或switch-case"><a href="#条件-if或switch-case" class="headerlink" title="条件 if或switch/case"></a>条件 if或switch/case</h1><figure class="highlight bat"><figcaption><span>condition using goto</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">set</span> /p a=choose:</div><div class="line"></div><div class="line"><span class="keyword">if</span> "<span class="variable">%a%</span>" == "A" <span class="keyword">goto</span> CaseA</div><div class="line"><span class="keyword">if</span> "<span class="variable">%a%</span>" == "B" <span class="keyword">goto</span> CaseB</div><div class="line"><span class="keyword">if</span> "<span class="variable">%a%</span>" == "C" <span class="keyword">goto</span> CaseC</div><div class="line"><span class="keyword">goto</span> default</div><div class="line"></div><div class="line"></div><div class="line">:CaseA</div><div class="line"><span class="built_in">echo</span> "execute A"</div><div class="line"><span class="built_in">echo</span> a=<span class="variable">%a%</span></div><div class="line"><span class="keyword">goto</span> end</div><div class="line"></div><div class="line">:CaseB</div><div class="line"><span class="built_in">echo</span> "execute B"</div><div class="line"><span class="keyword">goto</span> end</div><div class="line"></div><div class="line">:CaseC</div><div class="line"><span class="built_in">echo</span> "execute C"</div><div class="line"><span class="keyword">goto</span> end</div><div class="line"></div><div class="line">:default</div><div class="line"><span class="built_in">echo</span> "nothing execute"</div><div class="line">:end</div></pre></td></tr></table></figure>
<p>注意<code>:CaseA</code>之后，如果不加<code>goto end</code>则会继续执行<code>:CaseB</code>之后的语句。</p>
<h1 id="循环-Loop"><a href="#循环-Loop" class="headerlink" title="循环 Loop"></a>循环 Loop</h1><figure class="highlight bat"><figcaption><span>loop using goto cmd</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">@<span class="built_in">echo</span> off</div><div class="line"><span class="built_in">set</span> index=<span class="number">0</span></div><div class="line"><span class="built_in">set</span> max=<span class="number">5</span></div><div class="line">:loop</div><div class="line"><span class="built_in">set</span> /a index+=<span class="number">1</span></div><div class="line"><span class="built_in">echo</span> <span class="variable">%index%</span></div><div class="line"><span class="keyword">if</span> <span class="variable">%index%</span> <span class="keyword">neq</span> <span class="variable">%max%</span> <span class="keyword">goto</span> loop</div></pre></td></tr></table></figure>
<p>相当于<br><figure class="highlight bat"><figcaption><span>loop using for</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">set</span> init=<span class="number">0</span></div><div class="line"><span class="built_in">set</span> step=<span class="number">1</span></div><div class="line"><span class="built_in">set</span> max=<span class="number">5</span></div><div class="line"><span class="keyword">for</span> /L <span class="variable">%%i</span> <span class="keyword">in</span> (<span class="variable">%init%</span>,<span class="variable">%step%</span>,<span class="variable">%max%</span>) <span class="keyword">do</span> <span class="built_in">echo</span> <span class="variable">%%i</span></div></pre></td></tr></table></figure></p>
<p>不过使用goto更加灵活，理论上for能实现的循环goto都能实现。</p>
<figure class="highlight bat"><figcaption><span>dead loop</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">:loop</div><div class="line"><span class="built_in">dir</span></div><div class="line"><span class="keyword">goto</span> loop</div></pre></td></tr></table></figure>
<h1 id="goto-EOF"><a href="#goto-EOF" class="headerlink" title="goto :EOF"></a>goto :EOF</h1><p>直接跳转到文件结尾。</p>
<p>Reference:<br><figure class="highlight plain"><figcaption><span>help goto</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">将 cmd.exe 定向到批处理程序中带标签的行。</div><div class="line"></div><div class="line">GOTO label</div><div class="line"></div><div class="line">  label   指定批处理程序中用作标签的文字字符串。</div><div class="line"></div><div class="line">标签必须单独一行，并且以冒号打头。</div><div class="line"></div><div class="line">如果命令扩展被启用，GOTO 会如下改变:</div><div class="line"></div><div class="line">GOTO 命令现在接受目标标签 :EOF，这个标签将控制转移到当前</div><div class="line">批脚本文件的结尾。不定义就退出批脚本文件，这是一个容易的</div><div class="line">办法。有关能使该功能有用的 CALL 命令的扩展描述，请键入</div><div class="line">CALL /?。</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;img src=&quot;/2016/04/01/windows-cmd-13-goto/goto.png&quot; alt=&quot;goto.png&quot; title=&quot;&quot;&gt;
&lt;p&gt;goto命令，跳转命令。&lt;/p&gt;
    
    </summary>
    
      <category term="windows cmd" scheme="http://www.wuchenxu.com/categories/windows-cmd/"/>
    
    
      <category term="cmd" scheme="http://www.wuchenxu.com/tags/cmd/"/>
    
      <category term="goto" scheme="http://www.wuchenxu.com/tags/goto/"/>
    
      <category term="label" scheme="http://www.wuchenxu.com/tags/label/"/>
    
  </entry>
  
  <entry>
    <title>windows command(12):FOR</title>
    <link href="http://www.wuchenxu.com/2016/04/01/windows-cmd-12-for/"/>
    <id>http://www.wuchenxu.com/2016/04/01/windows-cmd-12-for/</id>
    <published>2016-04-01T06:18:08.000Z</published>
    <updated>2016-04-05T13:18:08.000Z</updated>
    
    <content type="html"><![CDATA[<p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="http://music.163.com/outchain/player?type=2&id=33162226&auto=0&height=66"></iframe><br>戴荃-悟空</p>
<p>FOR语句，循环控制，可以解析文件，大杀器。<br><a id="more"></a></p>
<h1 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> &#123;%% | %&#125;variable <span class="keyword">in</span> (<span class="built_in">set</span>) <span class="keyword">do</span> <span class="built_in">command</span> [ CommandLineOptions]</div></pre></td></tr></table></figure>
<p>其中，<br><code>%variable</code>或<code>%%variable</code>必须，<code>%variable</code>用来表示从命令提示符传递过来的参数，<code>%%variable</code>表示bat脚本自身的参数，参数大小写敏感。<br><code>(set)</code>必须，指定一个或多个文件、文件夹、一定范围的数值、字符串，可使用通配符，括号不可少。<br><code>command</code>必须，指定对<code>(set)</code>集合中每一个元素执行的命令。<br><code>CommandLineOptions</code>可选，主要有<code>/D</code>-目录,<code>/R</code>-递归目录,<code>/L</code>-数值,<code>/F</code>-过滤。</p>
<h1 id="无参数"><a href="#无参数" class="headerlink" title="无参数"></a>无参数</h1><p><code>for %%f in (*.doc *.txt) do type %%f</code><br>当前目录中的.doc或者.txt文件，依次代替<code>%%f</code>的位置，然后作为<code>type</code>命令的参数执行。</p>
<p><code>for %%f in (*.txt) do @echo %%f</code><br>效果类似于<code>dir /B *.txt</code>。</p>
<h1 id="参数-D-目录"><a href="#参数-D-目录" class="headerlink" title="参数/D 目录"></a>参数/D 目录</h1><figure class="highlight delphi"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">FOR</span> /D <span class="comment">&#123;%% | %&#125;</span>variable <span class="keyword">IN</span> (<span class="keyword">set</span>) <span class="keyword">DO</span> command [command-parameters]</div></pre></td></tr></table></figure>
<p>只能匹配当前目录，不匹配任何文件，也不会匹配下一级目录。<br><code>for %%f in (D:\*) do @echo %%f</code>    - D盘下所有的文件<br><code>for /D %%f in (D:\*) do @echo %%f</code> - D盘下所有的目录<br><code>for /D %%i in (???) do echo %%i</code>   - 显示当前目录下名字只有1-3个字母的目录</p>
<h1 id="参数-R-递归目录"><a href="#参数-R-递归目录" class="headerlink" title="参数/R 递归目录"></a>参数/R 递归目录</h1><figure class="highlight dos"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">FOR</span> /R [[drive:]<span class="built_in">path</span>] &#123;%% | %&#125;variable <span class="keyword">IN</span> (<span class="built_in">set</span>) <span class="keyword">DO</span> command [command-parameters]</div></pre></td></tr></table></figure>
<p>此命令会搜索指定路径<code>[[drive:]path]</code>及所有子目录中与set相符合的所有文件，注意是指定路径及所有子目录。</p>
<ul>
<li>set中的文件名如果含有通配符(?或*)，则列举/R参数指定的目录及其下面的所用子目录中与set相符合的所有文件，无相符文件的目录则不列举。</li>
<li>如果set中为具体文件名，不含通配符，则枚举该目录树（即列举该目录及其下面的所有子目录）,并在每个目录后面加上具体的文件名，而不管set中的指定文件是否存在。<br><code>for /r c:\ %%i in (*.exe) do echo %%i</code>                 - 把C盘根目录,和每个目录的子目录下面全部的EXE文件都列出来了<br><code>for /r c:\ %%i in (boot.ini) do echo %%i</code>              - 枚举了c盘所有目录,并在目录后面加上boot.ini,不管是否存在该文件<br><code>for /r c:\ %%i in (boot.ini) do if exist %%i echo %%i</code> - 很好的搜索命令，列举boot.ini存在的目录</li>
</ul>
<h1 id="参数-L-数列"><a href="#参数-L-数列" class="headerlink" title="参数/L 数列"></a>参数/L 数列</h1><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">FOR</span> /L <span class="comment">&#123;%% | %&#125;</span>ariable <span class="keyword">IN</span> (start#,<span class="keyword">step</span>#,<span class="keyword">end</span>#) <span class="keyword">DO</span> command [command-parameters]</div></pre></td></tr></table></figure>
<p>该集表示以增量形式从开始到结束的一个数字序列。因此，(1,1,5)将产生序列1 2 3 4 5，(5,-1,1)将产生序列(5 4 3 2 1).<br><code>for /l %%i in (1,2,10) do @echo %%i</code>    - 输出1 3 5 7 9<br><code>for /l %%i in (100,-20,1) do @echo %%i</code> - 输出100,80,60,40,20<br><code>for /l %%i in (1,1,5) do start cmd</code>     - 打开5个CMD窗口<br><code>for /l %%i in (1,1,5) do md %%i</code>        - 建立从1~5共5个文件夹<br><code>for /l %%i in (1,1,5) do rd /q %%i</code>     - 删除从1~5共5个文件夹</p>
<h1 id="参数-F-迭代文件解析"><a href="#参数-F-迭代文件解析" class="headerlink" title="参数/F 迭代文件解析"></a>参数/F 迭代文件解析</h1><p>Use file parsing to process command output, strings and file content. Use iterative variables to define the content or strings you want to examine and use the various ParsingKeywords options to further modify the parsing. Use the ParsingKeywords token option to specify which tokens should be passed as iterator variables. Note that when used without the token option, /F will only examine the first token.<br>File parsing consists of reading the output, string or file content, <code>breaking it up into individual lines of text and then parsing each line into zero or more tokens</code>. The for loop is then called with the iterator variable value set to the token. By default, /F passes the first blank separated token from each line of each file. Blank lines are skipped. The different syntaxes are:<br><figure class="highlight mel"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> /F [<span class="string">"ParsingKeywords"</span>] &#123;%% | %&#125;variable <span class="keyword">in</span> (filenameset) <span class="keyword">do</span> command [CommandLineOptions]</div><div class="line"><span class="keyword">for</span> /F [<span class="string">"ParsingKeywords"</span>] &#123;%% | %&#125;variable <span class="keyword">in</span> (<span class="string">"LiteralString"</span>) <span class="keyword">do</span> command [CommandLineOptions]</div><div class="line"><span class="keyword">for</span> /F [<span class="string">"ParsingKeywords"</span>] &#123;%% | %&#125;variable <span class="keyword">in</span> (<span class="string">'command'</span>) <span class="keyword">do</span> command [CommandLineOptions]</div></pre></td></tr></table></figure></p>
<p>The filenameset argument specifies one or more file names. Each file is opened, read and processed before going on to the next file in filenameset. To override the default parsing behavior, specify “ParsingKeywords”. This is a quoted string that contains one or more keywords to specify different parsing options.<br>If you use the usebackq option, use one of the following syntaxes:<br><figure class="highlight mel"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> /F [<span class="string">"usebackqParsingKeywords"</span>] &#123;%% | %&#125;variable <span class="keyword">in</span> (<span class="string">"filenameset"</span>) <span class="keyword">do</span> command [CommandLineOptions]</div><div class="line"><span class="keyword">for</span> /F [<span class="string">"usebackqParsingKeywords"</span>] &#123;%% | %&#125;variable <span class="keyword">in</span> (<span class="string">'LiteralString'</span>) <span class="keyword">do</span> command [CommandLineOptions]</div><div class="line"><span class="keyword">for</span> /F [<span class="string">"usebackqParsingKeywords"</span>] &#123;%% | %&#125;variable <span class="keyword">in</span> (<span class="string">`command`</span>) <span class="keyword">do</span> command [CommandLineOptions]</div></pre></td></tr></table></figure></p>
<p>when using <code>usebackq</code> option, be careful about the difference:<br><code>filenameset</code>     -&gt; <code>&quot;filenameset&quot;</code><br><code>&quot;LiteralString&quot;</code> -&gt; <code>&#39;LiteralString&#39;</code><br><code>&#39;command&#39;</code>       -&gt; `command`</p>
<p>The following table lists the parsing keywords that you can use for ParsingKeywords.<br>eol=c           - 指一个行注释字符的结尾(就一个)<br>skip=n          - 指在文件开始时忽略的行数。<br>delims=xxx      - 指分隔符集。这个替换了空格和制表符的默认分隔符集。<br>tokens=x,y,m-n  - 指每行的哪一个符号被传递到每个迭代的 for 本身。这会导致额外变量名称的分配。m-n<br>                  格式为一个范围。通过 nth 符号指定 mth。如果符号字符串中的最后一个字符星号，那么额外的变量将在最后一个符号解析之后<br>                  分配并接受行的保留文本。<br>usebackq        - 指定新语法已在下类情况中使用:<br>                  在作为命令执行一个后引号的字符串并且一个单引号字符为文字字符串命令并允许在 file-set<br>                  中使用双引号扩起文件名称。<br>如<code>eol=;</code>表示忽略<code>;</code>开头的行；<br>  <code>skip=1</code>表示忽略第一行；<br>  <code>delims=,</code>表示用<code>,</code>或<code>`对字符串分隔；</code>tokens=2,3*`将每行中的第二个和第三个符号传递给 for 程序体</p>
<figure class="highlight bat"><figcaption><span>%k takes the left content of string</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> /F "eol=; tokens=<span class="number">2</span>,<span class="number">3</span>* delims=, " <span class="variable">%%i</span> <span class="keyword">in</span> ("A1,A2,A3,A4,A5") <span class="keyword">do</span> <span class="built_in">echo</span> <span class="variable">%%i</span> <span class="variable">%%j</span> <span class="variable">%%k</span></div><div class="line">A2 A3 A4,A5</div></pre></td></tr></table></figure>
<figure class="highlight bat"><figcaption><span>command</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">FOR</span> /F "tokens=<span class="number">1</span>* delims==" <span class="variable">%%i</span> <span class="keyword">IN</span> ('<span class="built_in">set</span>') <span class="keyword">DO</span> @<span class="built_in">echo</span> [<span class="variable">%%i</span>----<span class="variable">%%j</span>]</div><div class="line">[OS----Windows_NT]</div></pre></td></tr></table></figure>
<figure class="highlight bat"><figcaption><span>command with substitude</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> /F "usebackq delims==" <span class="variable">%%x</span> <span class="keyword">in</span> (`<span class="built_in">dir</span> /b`) <span class="keyword">do</span> @<span class="built_in">echo</span> <span class="variable">%%~</span>fx</div></pre></td></tr></table></figure>
<p>Reference:<br><figure class="highlight plain"><figcaption><span>help FOR</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div></pre></td><td class="code"><pre><div class="line">对一组文件中的每一个文件执行某个特定命令。</div><div class="line"></div><div class="line">FOR %variable IN (set) DO command [command-parameters]</div><div class="line"></div><div class="line">  %variable  指定一个单一字母可替换的参数。</div><div class="line">  (set)      指定一个或一组文件。可以使用通配符。</div><div class="line">  command    指定对每个文件执行的命令。</div><div class="line">  command-parameters</div><div class="line">             为特定命令指定参数或命令行开关。</div><div class="line"></div><div class="line">在批处理程序中使用 FOR 命令时，指定变量请使用 %%variable</div><div class="line">而不要用 %variable。变量名称是区分大小写的，所以 %i 不同于 %I.</div><div class="line"></div><div class="line">如果启用命令扩展，则会支持下列 FOR 命令的其他格式:</div><div class="line"></div><div class="line">FOR /D %variable IN (set) DO command [command-parameters]</div><div class="line"></div><div class="line">    如果集中包含通配符，则指定与目录名匹配，而不与文件名匹配。</div><div class="line"></div><div class="line">FOR /R [[drive:]path] %variable IN (set) DO command [command-parameters]</div><div class="line"></div><div class="line">    检查以 [drive:]path 为根的目录树，指向每个目录中的 FOR 语句。</div><div class="line">    如果在 /R 后没有指定目录规范，则使用当前目录。如果集仅为一个单点(.)字符，</div><div class="line">    则枚举该目录树。</div><div class="line"></div><div class="line">FOR /L %variable IN (start,step,end) DO command [command-parameters]</div><div class="line"></div><div class="line">    该集表示以增量形式从开始到结束的一个数字序列。因此，(1,1,5)将产生序列</div><div class="line">    1 2 3 4 5，(5,-1,1)将产生序列(5 4 3 2 1)</div><div class="line"></div><div class="line">FOR /F [&quot;options&quot;] %variable IN (file-set) DO command [command-parameters]</div><div class="line">FOR /F [&quot;options&quot;] %variable IN (&quot;string&quot;) DO command [command-parameters]</div><div class="line">FOR /F [&quot;options&quot;] %variable IN (&apos;command&apos;) DO command [command-parameters]</div><div class="line"></div><div class="line">    或者，如果有 usebackq 选项:</div><div class="line"></div><div class="line">FOR /F [&quot;usebackqoptions&quot;] %variable IN (&quot;file-set&quot;) DO command [command-parameters]</div><div class="line">FOR /F [&quot;usebackqoptions&quot;] %variable IN (&apos;string&apos;) DO command [command-parameters]</div><div class="line">FOR /F [&quot;usebackqoptions&quot;] %variable IN (`command`) DO command [command-parameters]</div><div class="line"></div><div class="line">    fileset 为一个或多个文件名。继续到 fileset 中的下一个文件之前，</div><div class="line">    每份文件都被打开、读取并经过处理。处理包括读取文件，将其分成一行行的文字，</div><div class="line">    然后将每行解析成零或更多的符号。然后用已找到的符号字符串变量值调用 For 循环 。</div><div class="line">    以默认方式，/F 通过每个文件的每一行中分开的第一个空白符号。跳过空白行。</div><div class="line">    你可通过指定可选 &quot;options&quot; 参数替代默认解析操作。这个带引号的字符串包括一个</div><div class="line">    或多个指定不同解析选项的关键字。这些关键字为:</div><div class="line"></div><div class="line">        eol=c           - 指一个行注释字符的结尾(就一个)</div><div class="line">        skip=n          - 指在文件开始时忽略的行数。</div><div class="line">        delims=xxx      - 指分隔符集。这个替换了空格和制表符的</div><div class="line">                          默认分隔符集。</div><div class="line">        tokens=x,y,m-n  - 指每行的哪一个符号被传递到每个迭代</div><div class="line">                          的 for 本身。这会导致额外变量名称的分配。m-n</div><div class="line">                          格式为一个范围。通过 nth 符号指定 mth。如果</div><div class="line">                          符号字符串中的最后一个字符星号，</div><div class="line">                          那么额外的变量将在最后一个符号解析之后</div><div class="line">                          分配并接受行的保留文本。</div><div class="line">        usebackq        - 指定新语法已在下类情况中使用:</div><div class="line">                          在作为命令执行一个后引号的字符串并且一个单</div><div class="line">                          引号字符为文字字符串命令并允许在 file-set</div><div class="line">                          中使用双引号扩起文件名称。</div><div class="line"></div><div class="line">    某些范例可能有助:</div><div class="line"></div><div class="line">FOR /F &quot;eol=; tokens=2,3* delims=, &quot; %i in (myfile.txt) do @echo %i %j %k</div><div class="line"></div><div class="line">    会分析 myfile.txt 中的每一行，忽略以分号打头的那些行，将</div><div class="line">    每行中的第二个和第三个符号传递给 for 函数体，用逗号和/或</div><div class="line">    空格分隔符号。请注意，此 for 函数体的语句引用 %i 来</div><div class="line">    获得第二个符号，引用 %j 来获得第三个符号，引用 %k</div><div class="line">    来获得第三个符号后的所有剩余符号。对于带有空格的文件</div><div class="line">    名，你需要用双引号将文件名括起来。为了用这种方式来使</div><div class="line">    用双引号，还需要使用 usebackq 选项，否则，双引号会</div><div class="line">    被理解成是用作定义某个要分析的字符串的。</div><div class="line"></div><div class="line">    %i 在 for 语句中显式声明，%j 和 %k 是通过</div><div class="line">    tokens= 选项隐式声明的。可以通过 tokens= 一行</div><div class="line">    指定最多 26 个符号，只要不试图声明一个高于字母 &quot;z&quot; 或</div><div class="line">    &quot;Z&quot; 的变量。请记住，FOR 变量是单一字母、分大小写和全局的变量；</div><div class="line">    而且，不能同时使用超过 52 个。</div><div class="line"></div><div class="line">    还可以在相邻字符串上使用 FOR /F 分析逻辑，方法是，</div><div class="line">    用单引号将括号之间的 file-set 括起来。这样，该字符</div><div class="line">    串会被当作一个文件中的一个单一输入行进行解析。</div><div class="line"></div><div class="line">    最后，可以用 FOR /F 命令来分析命令的输出。方法是，将</div><div class="line">    括号之间的 file-set 变成一个反括字符串。该字符串会</div><div class="line">    被当作命令行，传递到一个子 CMD.EXE，其输出会被捕获到</div><div class="line">    内存中，并被当作文件分析。如以下例子所示:</div><div class="line"></div><div class="line">      FOR /F &quot;usebackq delims==&quot; %i IN (`set`) DO @echo %i</div><div class="line"></div><div class="line">    会枚举当前环境中的环境变量名称。</div><div class="line"></div><div class="line">另外，FOR 变量参照的替换已被增强。你现在可以使用下列</div><div class="line">选项语法:</div><div class="line"></div><div class="line">     %~I          - 删除任何引号(&quot;)，扩展 %I</div><div class="line">     %~fI        - 将 %I 扩展到一个完全合格的路径名</div><div class="line">     %~dI        - 仅将 %I 扩展到一个驱动器号</div><div class="line">     %~pI        - 仅将 %I 扩展到一个路径</div><div class="line">     %~nI        - 仅将 %I 扩展到一个文件名</div><div class="line">     %~xI        - 仅将 %I 扩展到一个文件扩展名</div><div class="line">     %~sI        - 扩展的路径只含有短名</div><div class="line">     %~aI        - 将 %I 扩展到文件的文件属性</div><div class="line">     %~tI        - 将 %I 扩展到文件的日期/时间</div><div class="line">     %~zI        - 将 %I 扩展到文件的大小</div><div class="line">     %~$PATH:I   - 查找列在路径环境变量的目录，并将 %I 扩展</div><div class="line">                   到找到的第一个完全合格的名称。如果环境变量名</div><div class="line">                   未被定义，或者没有找到文件，此组合键会扩展到</div><div class="line">                   空字符串</div><div class="line"></div><div class="line">可以组合修饰符来得到多重结果:</div><div class="line"></div><div class="line">     %~dpI       - 仅将 %I 扩展到一个驱动器号和路径</div><div class="line">     %~nxI       - 仅将 %I 扩展到一个文件名和扩展名</div><div class="line">     %~fsI       - 仅将 %I 扩展到一个带有短名的完整路径名</div><div class="line">     %~dp$PATH:I - 搜索列在路径环境变量的目录，并将 %I 扩展</div><div class="line">                   到找到的第一个驱动器号和路径。</div><div class="line">     %~ftzaI     - 将 %I 扩展到类似输出线路的 DIR</div><div class="line"></div><div class="line">在以上例子中，%I 和 PATH 可用其他有效数值代替。%~ 语法</div><div class="line">用一个有效的 FOR 变量名终止。选取类似 %I 的大写变量名</div><div class="line">比较易读，而且避免与不分大小写的组合键混淆。</div></pre></td></tr></table></figure></p>
<p><a href="https://technet.microsoft.com/en-us/library/bb490909.aspx" target="_blank" rel="external">for in MS doc</a><br><a href="http://blog.csdn.net/xhhjin/article/details/7373524" target="_blank" rel="external">CMD批处理循环，太强大了</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=330 height=86 src=&quot;http://music.163.com/outchain/player?type=2&amp;id=33162226&amp;auto=0&amp;height=66&quot;&gt;&lt;/iframe&gt;&lt;br&gt;戴荃-悟空&lt;/p&gt;
&lt;p&gt;FOR语句，循环控制，可以解析文件，大杀器。&lt;br&gt;
    
    </summary>
    
      <category term="windows cmd" scheme="http://www.wuchenxu.com/categories/windows-cmd/"/>
    
    
      <category term="cmd" scheme="http://www.wuchenxu.com/tags/cmd/"/>
    
      <category term="for" scheme="http://www.wuchenxu.com/tags/for/"/>
    
  </entry>
  
  <entry>
    <title>windows command(11):IF ELSE</title>
    <link href="http://www.wuchenxu.com/2016/04/01/windows-cmd-11-if-else/"/>
    <id>http://www.wuchenxu.com/2016/04/01/windows-cmd-11-if-else/</id>
    <published>2016-04-01T06:15:54.000Z</published>
    <updated>2016-04-12T06:15:54.000Z</updated>
    
    <content type="html"><![CDATA[<p>IF条件控制，脚本中控制流常用。</p>
<a id="more"></a>
<h1 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h1><figure class="highlight bat"><figcaption><span>w/o else</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> condition command</div></pre></td></tr></table></figure>
<figure class="highlight bat"><figcaption><span>w/ else</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> condition (command) <span class="keyword">else</span> (command)</div></pre></td></tr></table></figure>
<p>注意:<code>else与(之间必须要有空格</code>。<br>examples:<br><figure class="highlight bat"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> <span class="keyword">exist</span> for1.bat <span class="built_in">echo</span> for1.bat <span class="keyword">exist</span></div><div class="line"><span class="keyword">if</span> <span class="keyword">exist</span> for1.bat (<span class="built_in">echo</span> for1.bat <span class="keyword">exist</span>)<span class="keyword">else</span> (<span class="built_in">echo</span> for1.bat <span class="keyword">not</span> <span class="keyword">exist</span>)</div></pre></td></tr></table></figure></p>
<h1 id="字符串比较"><a href="#字符串比较" class="headerlink" title="字符串比较"></a>字符串比较</h1><p><code>if hello == hello (echo euqal) else (echo not equal)</code></p>
<h1 id="数字比较"><a href="#数字比较" class="headerlink" title="数字比较"></a>数字比较</h1><p><code>if 1 equ 2 (echo euqal) else (echo not equal)</code></p>
<h1 id="文件或者目录是否存在"><a href="#文件或者目录是否存在" class="headerlink" title="文件或者目录是否存在"></a>文件或者目录是否存在</h1><p><code>if exist hi.txt echo hi.txt exist</code></p>
<h1 id="变量是否已定义"><a href="#变量是否已定义" class="headerlink" title="变量是否已定义"></a>变量是否已定义</h1><p><code>if defined x (echo defined) else (echo not defined)</code></p>
<h1 id="上个命令的返回值"><a href="#上个命令的返回值" class="headerlink" title="上个命令的返回值"></a>上个命令的返回值</h1><p><code>if %errorlevel% equ 0 (echo OK) else (echo NOK)</code></p>
<p>Reference:<br><figure class="highlight plain"><figcaption><span>help IF</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div></pre></td><td class="code"><pre><div class="line">执行批处理程序中的条件处理。</div><div class="line"></div><div class="line">IF [NOT] ERRORLEVEL number command</div><div class="line">IF [NOT] string1==string2 command</div><div class="line">IF [NOT] EXIST filename command</div><div class="line"></div><div class="line">  NOT               指定只有条件为 false 的情况下，Windows 才</div><div class="line">                    应该执行该命令。</div><div class="line"></div><div class="line">  ERRORLEVEL number 如果最后运行的程序返回一个等于或大于</div><div class="line">                    指定数字的退出代码，指定条件为 true。</div><div class="line"></div><div class="line">  string1==string2  如果指定的文字字符串匹配，指定条件为 true。</div><div class="line"></div><div class="line">  EXIST filename    如果指定的文件名存在，指定条件为 true。</div><div class="line"></div><div class="line">  command           如果符合条件，指定要执行的命令。如果指定的</div><div class="line">                    条件为 FALSE，命令后可跟 ELSE 命令，该命令将</div><div class="line">                    在 ELSE 关键字之后执行该命令。</div><div class="line"></div><div class="line">ELSE 子句必须出现在同一行上的 IF 之后。例如:</div><div class="line"></div><div class="line">    IF EXIST filename. (</div><div class="line">        del filename.</div><div class="line">    ) ELSE (</div><div class="line">        echo filename. missing.</div><div class="line">    )</div><div class="line"></div><div class="line">由于 del 命令需要用新的一行终止，因此以下子句不会有效:</div><div class="line"></div><div class="line">IF EXIST filename. del filename. ELSE echo filename. missing</div><div class="line"></div><div class="line">由于 ELSE 命令必须与 IF 命令的尾端在同一行上，以下子句也</div><div class="line">不会有效:</div><div class="line"></div><div class="line">    IF EXIST filename. del filename.</div><div class="line">    ELSE echo filename. missing</div><div class="line"></div><div class="line">如果都放在同一行上，以下子句有效:</div><div class="line"></div><div class="line">    IF EXIST filename. (del filename.) ELSE echo filename. missing</div><div class="line"></div><div class="line">如果命令扩展被启用，IF 会如下改变:</div><div class="line"></div><div class="line">    IF [/I] string1 compare-op string2 command</div><div class="line">    IF CMDEXTVERSION number command</div><div class="line">    IF DEFINED variable command</div><div class="line"></div><div class="line">其中， compare-op 可以是:</div><div class="line"></div><div class="line">    EQU - 等于</div><div class="line">    NEQ - 不等于</div><div class="line">    LSS - 小于</div><div class="line">    LEQ - 小于或等于</div><div class="line">    GTR - 大于</div><div class="line">    GEQ - 大于或等于</div><div class="line"></div><div class="line">而 /I 开关(如果指定)说明要进行的字符串比较不分大小写。</div><div class="line">/I 开关可以用于 IF 的 string1==string2 的形式上。这些</div><div class="line">比较都是通用的；原因是，如果 string1 和 string2 都是</div><div class="line">由数字组成的，字符串会被转换成数字，进行数字比较。</div><div class="line"></div><div class="line">CMDEXTVERSION 条件的作用跟 ERRORLEVEL 的一样，除了它</div><div class="line">是在跟与命令扩展有关联的内部版本号比较。第一个版本</div><div class="line">是 1。每次对命令扩展有相当大的增强时，版本号会增加一个。</div><div class="line">命令扩展被停用时，CMDEXTVERSION 条件不是真的。</div><div class="line"></div><div class="line">如果已定义环境变量，DEFINED 条件的作用跟 EXIST 的一样，</div><div class="line">除了它取得一个环境变量，返回的结果是 true。</div><div class="line"></div><div class="line">如果没有名为 ERRORLEVEL 的环境变量，%ERRORLEVEL%</div><div class="line">会扩充为 ERROLEVEL 当前数值的字符串表达式；否则，你会得到</div><div class="line">其数值。运行程序后，以下语句说明 ERRORLEVEL 的用法:</div><div class="line"></div><div class="line">    goto answer%ERRORLEVEL%</div><div class="line">    :answer0</div><div class="line">    echo Program had return code 0</div><div class="line">    :answer1</div><div class="line">    echo Program had return code 1</div><div class="line"></div><div class="line">你也可以使用以上的数字比较:</div><div class="line"></div><div class="line">    IF %ERRORLEVEL% LEQ 1 goto okay</div><div class="line"></div><div class="line">如果没有名为 CMDCMDLINE 的环境变量，%CMDCMDLINE%</div><div class="line">将在 CMD.EXE 进行任何处理前扩充为传递给 CMD.EXE 的原始</div><div class="line">命令行；否则，你会得到其数值。</div><div class="line"></div><div class="line">如果没有名为 CMDEXTVERSION 的环境变量，</div><div class="line">%CMDEXTVERSION% 会扩充为 CMDEXTVERSION 当前数值的</div><div class="line">字串符表达式；否则，你会得到其数值。</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;IF条件控制，脚本中控制流常用。&lt;/p&gt;
    
    </summary>
    
      <category term="windows cmd" scheme="http://www.wuchenxu.com/categories/windows-cmd/"/>
    
    
      <category term="cmd" scheme="http://www.wuchenxu.com/tags/cmd/"/>
    
      <category term="if" scheme="http://www.wuchenxu.com/tags/if/"/>
    
  </entry>
  
  <entry>
    <title>windows command(10):SORT</title>
    <link href="http://www.wuchenxu.com/2016/04/01/windows-cmd-10-sort/"/>
    <id>http://www.wuchenxu.com/2016/04/01/windows-cmd-10-sort/</id>
    <published>2016-04-01T06:10:59.000Z</published>
    <updated>2016-04-12T06:10:59.000Z</updated>
    
    <content type="html"><![CDATA[<p>SORT 排序命令。</p>
<a id="more"></a>
<h1 id="对文件内容排序"><a href="#对文件内容排序" class="headerlink" title="对文件内容排序"></a>对文件内容排序</h1><p><code>sort filename</code><br>排序顺序为0-9,A-Z,字母为小写在前。</p>
<h1 id="逆向排序"><a href="#逆向排序" class="headerlink" title="逆向排序"></a>逆向排序</h1><p><code>sort /r filename</code><br>排序顺序为Z-A，9-0,字母也是小写在前。</p>
<h1 id="命令结果排序"><a href="#命令结果排序" class="headerlink" title="命令结果排序"></a>命令结果排序</h1><p><code>findstr /s /i hello *.*|sort</code></p>
<h1 id="键盘输入排序"><a href="#键盘输入排序" class="headerlink" title="键盘输入排序"></a>键盘输入排序</h1><ol>
<li><code>sort</code>不带参数</li>
<li>输入字符串</li>
<li>Ctrl+Z结束输入</li>
</ol>
<figure class="highlight plain"><figcaption><span>help SORT</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">SORT [/R] [/+n] [/M kilobytes] [/L locale] [/REC recordbytes]</div><div class="line">  [[drive1:][path1]filename1] [/T [drive2:][path2]]</div><div class="line">  [/O [drive3:][path3]filename3]</div><div class="line">  /+n                         指定开始每个比较的字符号码 n。/+3 说明每个</div><div class="line">                              比较应从每行的第三个字符开始。少于 n 个字符</div><div class="line">                              的行排在其他行之前。按默认值，从每行的第一</div><div class="line">                              个字符开始比较。</div><div class="line">  /L[OCALE] locale            用指定的区域设置替代系统默认区域设置。</div><div class="line">                              &quot;&quot;C&quot;&quot; 区域设置产生最快的排序顺序并且是当前</div><div class="line">                              的唯一其他选择。排序总是不分大小写的。</div><div class="line">  /M[EMORY] kilobytes         指定用于排序的主内存量，单位为 KB。</div><div class="line">                              最小内存量总是 160 KB。如果指定内存大小，</div><div class="line">                              无论主内存的可用量是多少，指定的内存量会</div><div class="line">                              全部用于排序。</div><div class="line"></div><div class="line">                              要取得最佳性能，通常不指定内存大小。按默认</div><div class="line">                              值，如果达到默认最大内存值，排序会一次完成</div><div class="line">                              (非临时文件)；否则，排序会分两次完成(没有</div><div class="line">                              完全排序的数据存储在临时文件中)；用于排序</div><div class="line">                              和合并的内存量相等。如果输入和输出都是文</div><div class="line">                              件，默认最大内存量为可用主内存的 90%;</div><div class="line">                              否则，为主内存的 45%。</div><div class="line">  /REC[ORD_MAXIMUM] characters 指定记录中的最大字符数量</div><div class="line">                              (默认值为 4096，最大值为 65535)。</div><div class="line">  /R[EVERSE]                  颠倒排列顺序，即，从 Z 到 A，再从 9 到 0。</div><div class="line">  [drive1:][path1]filename1   指定要排序的文件。如果没有指定，则排序标准</div><div class="line">                              输入。指定输入文件比将同一个文件重定向为标</div><div class="line">                              准输入快。</div><div class="line">  /T[EMPORARY]</div><div class="line">    [drive2:][path2]          指定保留排序工作存储的目录路径，以防主内</div><div class="line">                              存无法容纳数据。默认值是使用系统临时目录。</div><div class="line">  /O[UTPUT]</div><div class="line">    [drive3:][path3]filename3 指定在哪个文件中储存经过排序的输入。</div><div class="line">                              如果没有指定，数据会被写入标准输出。指定</div><div class="line">                              输出文件比将标准输出重定向到同一个文件快。</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;SORT 排序命令。&lt;/p&gt;
    
    </summary>
    
      <category term="windows cmd" scheme="http://www.wuchenxu.com/categories/windows-cmd/"/>
    
    
      <category term="cmd" scheme="http://www.wuchenxu.com/tags/cmd/"/>
    
      <category term="sort" scheme="http://www.wuchenxu.com/tags/sort/"/>
    
  </entry>
  
</feed>
